<script data-type="text/worker">
    const local = {
        "language": "en", // used for to sort string
        "encumbrance_mode" : {
            // category height
            //    2 legs    4 legs
            "-8": [16,      24], // colossal
            "-4": [8,       12], // gargantuan
            "-2": [4,       6], // huge
            "-1": [2,       3], // large
            "0":  [1,       1.5], // medium
            "1":  [0.75,    1], // small
            "2":  [0.5,     0.75], // tiny
            "4":  [0.25,    0.5], // diminutive
            "8":  [0.125,   0.25] // fine
        },
        "experience_rate" : {
            // level
            //    slow      medium   fast
            "0":  [0,       0,       0],
            "1":  [3000,    2000,    1300],
            "2":  [7500,    5000,    3300],
            "3":  [14000,   9000,    6000],
            "4":  [23000,   15000,   10000],
            "5":  [35000,   23000,   15000],
            "6":  [53000,   35000,   23000],
            "7":  [77000,   51000,   34000],
            "8":  [115000,  75000,   50000],
            "9":  [160000,  105000,  71000],
            "10": [235000,  155000,  105000],
            "11": [330000,  220000,  145000],
            "12": [475000,  315000,  210000],
            "13": [665000,  445000,  295000],
            "14": [955000,  635000,  425000],
            "15": [1350000, 890000,  600000],
            "16": [1900000, 1300000, 850000],
            "17": [2700000, 1800000, 1200000],
            "18": [3850000, 2550000, 1700000],
            "19": [5350000, 3600000, 2400000]
        },
        "race" : {
            // "id" : [id type, id substype, height base male (inch), weight base male (lb), height base female (inch), weight base female (lb), modifier weight, adult (year), middle age (year), old (year), age venerable (year)]

            // type "id" : "label"
            // 1 : humanoid
            // 2 : outside

            // subtype "id" : "label"
            // 1 : dwarf
            // 2 : elf
            // 3 : gnome
            // 4 : halfing
            // 5 : human
            // 6 : orc

            // 7 : catfolk
            // 8 : dhampir
            // 9 : gobelinoid
            // 10 : native
            // 11 : ratfolk
            // 12 : reptile
            // 13 : tengu

            // 14 : aquatic
            // 15 : changeling
            // 16 : grippli
            // 17 : metamorph
            // 18 : samsaran
            // 19 : strix
            // 20 : vanara
            // 21 : vishkanyas
            // 22 : wayang

            // core
            //     id        male      female    mod       age
            "1"  : [1, 1,    45, 150,  43, 120,  7,        40, 125, 188, 250],  // dwarf
            "2"  : [1, 2,    64, 100,  64, 90,   3,        110, 175, 263, 350], // elf
            "3"  : [1, 3,    36, 35,   34, 30,   1,        40, 100, 150, 200],  // gnome
            "4"  : [1, 2,    62, 110,  60, 90,   5,        20, 62, 93, 125],    // half-elf
            "5"  : [1, 6,    58, 150,  53, 110,  5,        14, 30, 45, 60],     // half-orc
            "6"  : [1, 4,    32, 30,   30, 25,   1,        20, 50, 75, 100],    // halfing
            "7"  : [1, 5,    58, 120,  53, 85,   5,        15, 35, 53, 70],     // human

            // featured
            //     id        male      female    mod       age
            "8"  : [2, 10,   62, 110,  60, 90,   5,        20, 150, 200, 250],  // aasimar
            "9"  : [1, 7,    58, 120,  53, 85,   5,        15, 35, 53, 70],     // catfolk
            "10" : [1, 8,    58, 120,  53, 85,   5,        20, 175, 263, 350],  // dhampir
            "11" : [1, 1,    64, 90,   64, 80,   5,        110, 175, 263, 350], // drow
            "12" : [2, 10,   64, 90,   62, 80,   3,        20, 62, 93, 125],    // fetchling
            "13" : [1, 9,    32, 30,   30, 25,   1,        12, 20, 30, 40],     // goblin
            "14" : [1, 9,    50, 165,  48, 145,  5,        14, 30, 45, 60],     // hobgoblin
            "15" : [2, 10,   62, 110,  60, 90,   5,        60, 150, 200, 250],  // ifrit
            "16" : [1, 12,   30, 25,   28, 20,   1,        12, 20, 30, 40],     // kobold
            "17" : [1, 6,    61, 160,  57, 120,  7,        12, 20, 30, 40],     // orc
            "18" : [2, 10,   48, 150,  45, 120,  7,        60, 150, 200, 250],  // oread
            "19" : [1, 11,   43, 65,   40, 50,   3,        12, 20, 30, 40],     // ratfolk
            "20" : [2, 10,   62, 110,  60, 90,   5,        60, 150, 200, 250],  // sylph
            "21" : [1, 13,   48, 65,   46, 55,   3,        15, 35, 53, 70],     // tengu
            "22" : [2, 10,   58, 120,  53, 85,   5,        20, 150, 200, 250],  // tiefling
            "23" : [2, 10,   58, 120,  53, 85,   5,        60, 150, 200, 250],  // undine

            // uncommon
            //     id        male      female    mod       age
            "24" : [1, 15,   0, 0,     62, 85,   5,        15, 35, 53, 70],    // changeling ( male DONT'T EXIST )
            "25" : [1, 1,    45, 150,  43, 120,  7,        40, 125, 188, 250], // duergar
            "26" : [2, 10,   70, 120,  68, 85,   5,        20, 62, 93, 125],   // gillmen
            "27" : [1, 16,   58, 25,   53, 20,   5,        12, 20, 30, 40],    // grippli
            "28" : [1, 17,   19, 100,  17, 85,   1,        15, 32, 50, 65],    // kitsune
            "29" : [1, 14,   58, 145,  53, 135,  5,        15, 35, 53, 70],    // merfolk
            "30" : [1, 12,   69, 180,  66, 160,  7,        20, 60, 90, 120],   // nagaji
            "31" : [1, 18,   64, 110,  66, 100,  5,        60, 150, 200, 250], // samsaran
            "32" : [1, 19,   64, 125,  62, 115,  5,        12, 20, 30, 40],    // strix
            "33" : [2, 10,   58, 120,  53, 85,   5,        15, 35, 53, 70],    // suli
            "34" : [1, 3,    36, 35,   34, 30,   1,        40, 100, 150, 200], // svirfneblin
            "35" : [1, 20,   56, 105,  50, 90,   5,        14, 30, 45, 60],    // vanara
            "36" : [1, 21,   63, 85,   61, 75,   5,        15, 35, 53, 70],    // vishkanya
            "37" : [1, 22,   36, 35,   36, 30,   1,        40, 100, 150, 200]  // wayang
        },
        "weight_mode" : {
            // category height
            "-8" : 12, // colossal
            "-4" : 8, // gargantuan
            "-2" : 5, // huge
            "-1" : 2, // large
            "0" :  1, // medium
            "1" :  0.5, // small
            "2" :  0.1, // tiny
            "4" :  0.1, // diminutive
            "8" :  0.1 // fine
        }
    };

    // sheet open
    on("sheet:opened", () => {
        // prepare payload

        // language
        // based on 2 characters code ( ISO 639-1 )
        local.language = getTranslationByKey("gui-language");
        if ( local.language === false ) local.language = "en";

        // inline's rolls
        let payload = {
            "label_strength": getTranslationByKey("attribute-strength-label"),
            "label_dexterity": getTranslationByKey("attribute-dexterity-label"),
            "label_constitution": getTranslationByKey("attribute-constitution-label"),
            "label_intelligence": getTranslationByKey("attribute-intelligence-label"),
            "label_wisdom": getTranslationByKey("attribute-wisdom-label"),
            "label_charisma": getTranslationByKey("attribute-charisma-label"),

            "label_initiative": getTranslationByKey("initiative-label"),
            "label_combat_maneuver_bonus": getTranslationByKey("combat-maneuver-bonus"),
            "label_battle_damage_critic": getTranslationByKey("battle-damage-critic"),
            "label_battle_deathblow": getTranslationByKey("battle-deathblow"),

            "label_spell_concentration_damage": getTranslationByKey("spell-concentration-damage-label"),
            "label_spell_concentration_defensive": getTranslationByKey("spell-concentration-defensive-label"),
            "label_spell_concentration_grappled": getTranslationByKey("spell-concentration-grappled-label"),
            "label_spell_concentration": getTranslationByKey("spell-concentration-label"),
            "label_spell_concentration_pinned": getTranslationByKey("spell-concentration-pinned-label"),
            "label_spell_concentration_wound": getTranslationByKey("spell-concentration-wound-label"),

            "label_fortitude": getTranslationByKey("save-fortitude-label"),
            "label_reflex": getTranslationByKey("save-reflex-label"),
            "label_willpower": getTranslationByKey("save-willpower-label"),

            "label_skill_acrobatics": getTranslationByKey("skill-acrobatics-label"),
            "label_skill_appraise": getTranslationByKey("skill-appraise-label"),
            "label_skill_artistry": getTranslationByKey("skill-artistry-label"),
            "label_skill_bluff": getTranslationByKey("skill-bluff-label"),
            "label_skill_climb": getTranslationByKey("skill-climb-label"),
            "label_skill_craft": getTranslationByKey("skill-craft-label"),
            "label_skill_disguise": getTranslationByKey("skill-disguise-label"),
            "label_skill_diplomacy": getTranslationByKey("skill-diplomacy-label"),
            "label_skill_disable_device": getTranslationByKey("skill-disable-device-label"),
            "label_skill_escape_artist": getTranslationByKey("skill-escape-artist-label"),
            "label_skill_fly": getTranslationByKey("skill-fly-label"),
            "label_skill_handle_animal": getTranslationByKey("skill-handle-animal-label"),
            "label_skill_heal": getTranslationByKey("skill-heal-label"),
            "label_skill_intimidate": getTranslationByKey("skill-intimidate-label"),
            "label_skill_knowledge_arcana": getTranslationByKey("skill-knowledge-arcana-label"),
            "label_skill_knowledge_dungeoneering": getTranslationByKey("skill-knowledge-dungeoneering-label"),
            "label_skill_knowledge_engineering": getTranslationByKey("skill-knowledge-engineering-label"),
            "label_skill_knowledge_geography": getTranslationByKey("skill-knowledge-geography-label"),
            "label_skill_knowledge_history": getTranslationByKey("skill-knowledge-history-label"),
            "label_skill_knowledge_local": getTranslationByKey("skill-knowledge-local-label"),
            "label_skill_knowledge_nature": getTranslationByKey("skill-knowledge-nature-label"),
            "label_skill_knowledge_nobility": getTranslationByKey("skill-knowledge-nobility-label"),
            "label_skill_knowledge_planes": getTranslationByKey("skill-knowledge-planes-label"),
            "label_skill_knowledge_religion": getTranslationByKey("skill-knowledge-religion-label"),
            "label_skill_linguistics": getTranslationByKey("skill-linguistics-label"),
            "label_skill_perception": getTranslationByKey("skill-perception-label"),
            "label_skill_profession": getTranslationByKey("skill-profession-label"),
            "label_skill_ride": getTranslationByKey("skill-ride-label"),
            "label_skill_sense_motive": getTranslationByKey("skill-sense-motive-label"),
            "label_skill_sleight_of_hand": getTranslationByKey("skill-sleight-of-hand-label"),
            "label_skill_spellcraft": getTranslationByKey("skill-spellcraft-label"),
            "label_skill_stealth": getTranslationByKey("skill-stealth-label"),
            "label_skill_survival": getTranslationByKey("skill-survival-label"),
            "label_skill_swim": getTranslationByKey("skill-swim-label"),
            "label_skill_use_magic_device": getTranslationByKey("skill-use-magic-device-label"),

            "label_skill_perform": getTranslationByKey("skill-perform-label"),

            "label_skill_custom": getTranslationByKey("skill-custom-label"),

            "label_npc_skill": getTranslationByKey("npc-skill-label")

        };

        // init all variables
        setAttrs(payload, {silent:true}, () => {
            compendium_reset();
            status_reset();

            core();

            character_spoken_language();
            character_height_weight();

            companion_race();

            specialization_weapon_proficiency();
            //class_name_repeating();
            specialization_class_experience();
            //specialization_class_name_repeating();
            weapon_attribute_modifier();
            //weapon_attribute_modifier_repeating();

            spellcustom_repeating();
            //spell_touch_repeating();
            //spell_effect_repeating();
            //spell_save_repeating();
            //spell_damage_repeating();

            skill();
            skill_perform();
            skill_custom();
            //skill_custom_modifier();

            equipment_armor();
            //inventory_to_battle_repeating();
            //weapon_to_racks_repeating();
            //armor_to_racks_repeating();
            //inventory_to_deposit_repeating();

            //racks_to_weapon_repeating();
            //racks_to_armor_repeating();
            //deposit_to_equipment_repeating();
        });
    });

    // ------------------------------------------
    // compendium drop
    // ------------------------------------------
    // from compendium_data, "source", "Level", "Speed 20ft", "Speed 30ft" and "Weapon Type"["simple"/"martial"/"exotic"] are not used -->

    on( "change:compendium_data", compendium_drop );
    function compendium_drop() {
        getAttrsNumber([
            "compendium_creature_size_active", "compendium_unit_active", "option_unit_height", "option_unit_weight",
            "character_creature_size_select"
        ], (user_number) => {
            getAttrs([
                "option_template",
                "nav_spell",
                "compendium_name", "compendium_data", "compendium_content"
            ], (user_string) => {
                if ( user_string.compendium_name === "" || user_string.compendium_data === "") return false;

                let data = JSON.parse(user_string.compendium_data);
                let cache = {
                    "type": null,
                    "meter": getTranslationByKey("option-unit-meter-short"),
                    "kilogram": getTranslationByKey("option-unit-kilogram-short"),
                    "blacklist": ["Source", "blobs"] // exclude non string properties and unused
                };

                // ------------------------------------------
                // clean values
                // ------------------------------------------
                user_string.compendium_name = user_string.compendium_name.trim();
                user_string.compendium_content = user_string.compendium_content.trim();
                for ( let prop in data ) {
                    if ( !data.hasOwnProperty(prop) ) continue;
                    if ( cache.blacklist.indexOf(prop) !== -1 ) continue;

                    // trim value
                    data[prop] = data[prop].trim();

                    // convert units
                    if ( user_number.compendium_unit_active === 1 ) {
                        if ( user_number.option_unit_height === 2 ) data[prop] = data[prop].replace(/([0-9]+)[\s-]*(foot|ft)[.]?/gi, parse_height);
                        if ( user_number.option_unit_weight === 1 ) data[prop] = data[prop].replace(/([0-9]+)[\s-]*(pound|livre|lb)[.]?/gi, parse_weight);
                    }
                }
                if ( data.hasOwnProperty("Weight") && data.Weight !== "" ) {
                    if ( user_number.compendium_creature_size_active === 1 ) data.Weight = local.weight_mode[user_number.character_creature_size_select] * data.Weight;
                    if ( user_number.compendium_unit_active === 1 && user_number.option_unit_weight === 1 ) {
                        data.Weight = convertUnit(data.Weight, "lb2kg");
                        data.Weight = formatNumber(data.Weight, 0.5); // don't apply local decimals on purpose
                    }
                }

                // ------------------------------------------
                // detect type of object
                // ------------------------------------------
                if ( data.hasOwnProperty("Category")) {
                    switch (data["Category"].toLowerCase()) {
                        case "bestiary":
                            if ( user_string.option_template === "npc" ) cache.type = "monster";
                            break;

                        case "items":
                            if ( user_string.option_template === "pc" || user_string.option_template === "npc" ) {
                                if ( data.hasOwnProperty("Armor Category") ) {
                                    cache.type = "armor";
                                }
                                else if ( data.hasOwnProperty("Weapon Category") ) {
                                    cache.type = "weapon";
                                }
                                else {
                                    cache.type = "other";
                                }
                            }
                            break;

                        case "spells":
                            if ( user_string.option_template === "pc" || user_string.option_template === "npc" ) cache.type = "spell";
                            break;
                    }
                }

                if ( cache.type === null) {
                    sendLog("drop ignored for '" + user_string.compendium_name + "'");
                    delete(cache);
                    delete(user_number);
                    delete(user_string);
                    return;
                }

                // ------------------------------------------
                // iterate data
                // ------------------------------------------
                let payload = {};
                switch(cache.type) {
                    case "armor":
                        payload["nav_tab"] = "inventory";

                        // generate new ID
                        // note : setAttrs() generate new row if doesn't exist
                        cache.header = "repeating_armor_"+generateRowID()+"_equipment_armor_";

                        // armor bonus
                        payload[cache.header+"bonus"] = parseNumber(data["Armor/Shield Bonus"]);
                        // maximum_dexterity_bonus
                        payload[cache.header + "dexterity_ceiling"] = parseNumber(data["Maximum Dex Bonus"]);
                        // armor_check_penalty
                        payload[cache.header+"malus"] = parseNumber(data["Armor Check Penalty"]);
                        // arcane_spell_failure_chance
                        if ( data["Arcane Spell Failure Chance"] !== "" ) {
                            let regex = data["Arcane Spell Failure Chance"].match(/^([0-9]+)/);
                            if ( regex !== null) {
                                let [, value] = regex;
                                payload[cache.header + "spell_failure"] = parseInt(value);
                            }
                        }
                        // name
                        payload[cache.header+"name"] = parseString(user_string.compendium_name);
                        // special
                        payload[cache.header+"special"] = parseString(data["Special"]);
                        // type
                        switch(data["Armor Category"].toLowerCase()) {
                            case "light": payload[cache.header+"type"] = 1; break;
                            case "medium": payload[cache.header+"type"] = 2; break;
                            case "heavy": payload[cache.header+"type"] = 3; break;
                            case "shield": payload[cache.header+"type"] = 4; break;
                            default: payload[cache.header+"type"] = 5; break;
                        }
                        // weight
                        payload[cache.header+"weight"] = parseNumber(data["Weight"]);

                        break;

                    case "monster":
                        // head
                        payload["character_name"] = parseString(user_string.compendium_name);

                        // hit points
                        if ( data.hasOwnProperty("HP") ) {
                            let regex = data["HP"].match(/([0-9]+)(.*)/i);
                            if ( regex !== null ) {
                                let [, value, description] = regex;
                                payload["health_hit_points_base"] = parseInt(value);
                                payload["health_hit_points_ceiling"] = parseInt(value);
                                payload["npc_hit_points_description"] = description.trim();
                            }
                            else {
                                sendLog("Hit points parse error for '"+data["HP"]+"'");
                                payload["health_hit_points_base"] = 1;
                                payload["health_hit_points_ceiling"] = 1;
                                payload["npc_hit_points_description"] = parseString(data["HP"]);
                            }
                        }
                        else {
                            payload["health_hit_points_base"] = 1;
                            payload["health_hit_points_ceiling"] = 1;
                        }
                        payload["health_nonlethal_damage_base"] = 0;

                        // attributes
                        payload["npc_character_strength_base"] = parseNumber(data["Str"]);
                        payload["npc_character_dexterity_base"] = parseNumber(data["Dex"]);
                        payload["npc_character_constitution_base"] = parseNumber(data["Con"]);
                        payload["npc_character_intelligence_base"] = parseNumber(data["Int"]);
                        payload["npc_character_wisdom_base"] = parseNumber(data["Wis"]);
                        payload["npc_character_charisma_base"] = parseNumber(data["Cha"]);
                        payload["npc_character_aura"] = parseString(data["Aura"]);
                        payload["npc_character_reach"] = parseString(data["Reach"]);
                        payload["npc_character_sense"] = parseString(data["Senses"]);
                        payload["npc_character_space"] = parseString(data["Space"]);
                        payload["npc_character_speed"] = parseString(data["Speed"]);
                        switch(parseString(data["Size"]).toLowerCase() ) {
                            case "fine": payload["npc_character_creature_size"] = 8; break;
                            case "diminutive": payload["npc_character_creature_size"] = 4; break;
                            case "tiny": payload["npc_character_creature_size"] = 2; break;
                            case "small": payload["npc_character_creature_size"] = 1; break;
                            case "large": payload["npc_character_creature_size"] = -1; break;
                            case "huge": payload["npc_character_creature_size"] = -2; break;
                            case "gargantuan": payload["npc_character_creature_size"] = -4; break;
                            case "colossal": payload["npc_character_creature_size"] = -8; break;
                            default: payload["npc_character_creature_size"] = 0; break; // medium
                        }

                        // background
                        if ( data.hasOwnProperty("Alignment") ) {
                            let regex = data["Alignment"].match(/([cln])([gne]?)/i); // [CLN][gne]
                            if ( regex !== null ) {
                                let [, major, minor] = regex;
                                let alignment = 5;
                                switch( major.toLowerCase() ) {
                                    case "c" : alignment = 7; break; // chaotic
                                    case "l" : alignment = 1; break; // lawful
                                    case "n" : alignment = 4; break; // neutral
                                }
                                if ( minor !== null) {
                                    switch (minor.toLowerCase()) {
                                        case "e": alignment += 2; break; // evil
                                        case "g": alignment += 0; break; // good
                                        case "n": alignment += 1; break; // neutral
                                    }
                                }
                                else {
                                    alignment += 1; // neutral
                                }
                                payload["npc_alignment"] = alignment;
                            }
                            else {
                                sendLog("Alignment parse error for '"+data["Alignment"]+"'");
                                payload["npc_alignment"] = 5;
                            }
                        }
                        payload["npc_content"] = user_string.compendium_content;
                        payload["npc_creature_type"] = parseString(data["Creature Type"]);
                        payload["npc_environment"] = parseString(data["Environment"]);
                        payload["npc_languages"] = parseString(data["Languages"]);
                        payload["npc_monster_class"] = parseString(data["Monster Class"]);

                        // battle
                        payload["npc_base_attack_bonus"] = parseNumber(data["Base Atk"]);
                        if ( data.hasOwnProperty("CMB") ) {
                            let regex = data["CMB"].match(/([0-9]+)(.*)/i); // <number> (<string>)
                            if ( regex !== null ) {
                                let [, value, description] = regex;
                                payload["npc_combat_maneuver_bonus_base"] = parseInt(value);
                                payload["npc_combat_maneuver_bonus_note"] = description.trim();
                            }
                            else {
                                sendLog("CMB parse error for '"+data["CMB"]+"'");
                                payload["npc_combat_maneuver_bonus_base"] = 0;
                                payload["npc_combat_maneuver_bonus_note"] = parseString(data["CMB"]);
                            }
                        }
                        else {
                            payload["npc_combat_maneuver_bonus_base"] = 0;
                            payload["npc_combat_maneuver_bonus_note"] = "";
                        }
                        if ( data.hasOwnProperty("Init") ) {
                            // initiative got a bunch of data
                            let regex = data["Init"].match(/\+?([0-9]+)/i); // <string> +/-<number>
                            if ( regex !== null ) {
                                let [, value] = regex;
                                payload["npc_initiative"] = parseInt(value);
                            }
                            else {
                                sendLog("Initiative parse error for '"+data["Init"]+"'");
                                payload["npc_initiative"] = 0;
                                payload["npc_initiative_note"] = parseString(data["Init"]);
                            }
                        }
                        else {
                            payload["npc_initiative"] = 0;
                            payload["npc_initiative_note"] = "";
                        }

                        // remove attacks
                        getSectionIDs("npcbattle", (ids) => {
                            // this function is asynchronous but we don't care about
                            for ( let i = 0; i < ids.length; i++) {
                                removeRepeatingRow("repeating_npcbattle_"+ids[i]);
                            }
                        });
                        let attacks = {
                            "valid": [],
                            "invalid": [],
                        };

                        if ( data.hasOwnProperty("Melee") ) {
                            let [valid, invalid] = parse_attacks(parseString(data["Melee"]), 0);
                            attacks.valid = attacks.valid.concat(valid);
                            attacks.invalid = attacks.invalid.concat(invalid);
                        }
                        if ( data.hasOwnProperty("Ranged") ) {
                            let [valid, invalid] = parse_attacks(parseString(data["Ranged"]), 1);
                            attacks.valid = attacks.valid.concat(valid);
                            attacks.invalid = attacks.invalid.concat(invalid);
                        }
                        payload["npc_battle_note"] = attacks.invalid.join("\n");
                        for ( let i = 0; i < attacks.valid.length; i++) {
                            // generate new ID
                            let header = "repeating_npcbattle_"+generateRowID()+"_";
                            let description = [];
                            if ( attacks.valid[i].hasOwnProperty("special") ) description.push(attacks.valid[i].special);
                            if ( attacks.valid[i].hasOwnProperty("base_attack") && attacks.valid[i].base_attack.indexOf("/") !== -1 ) description.push(getTranslationByKey("combat-maneuver-bonus-short")+" "+attacks.valid[i].base_attack);
                            if ( attacks.valid[i].description !== "" ) description.push(attacks.valid[i].description);

                            payload[header+"npc_battle_name"] = attacks.valid[i].name;
                            payload[header+"npc_battle_description_short"] = description.join(", ");
                            payload[header+"npc_battle_base_attack"] = attacks.valid[i].base_attack_1st;
                            payload[header+"npc_battle_range"] = attacks.valid[i].range;
                            payload[header+"npc_battle_dice_count"] = attacks.valid[i].dice_count;
                            payload[header+"npc_battle_dice_type"] = attacks.valid[i].dice_type;
                            if ( attacks.valid[i].hasOwnProperty("damage") )  payload[header+"npc_battle_damage"] = attacks.valid[i].damage;
                            if ( attacks.valid[i].hasOwnProperty("critic") ) payload[header+"npc_battle_damage_critic"] = attacks.valid[i].critic;
                            if ( attacks.valid[i].hasOwnProperty("other") ) payload[header+"npc_battle_description"] = attacks.valid[i].other;
                        }
                        delete(attacks);
                        payload["npc_special_attack"] = parseString(data["Special Attacks"]);

                        // magic
                        payload["npc_cleric_spell_prepared"] = parseString(data["Cleric Spells Prepared"]);
                        payload["npc_spell_known"] = parseString(data["Spells Known"]);
                        payload["npc_spell_like_ability"] = parseString(data["Spell-Like Abilities"]);

                        // defense
                        payload["npc_reflex"] = parseNumber(data["Ref"]);
                        payload["npc_fortitude"] = parseNumber(data["Fort"]);
                        payload["npc_willpower"] = parseNumber(data["Will"]);

                        if ( data.hasOwnProperty("AC") ) {
                            let regex = data["AC"].match(/([0-9]+).*touch\s*[+]?([0-9]+).*flat-footed\s*[+]?([0-9]+).*\((.*)\)/i);
                            if ( regex !== null ) {
                                let [, melee, flat_footed, touch, description] = regex;
                                payload["npc_armor_class_melee_base"] = parseInt(melee);
                                payload["npc_armor_class_flat_footed_base"] = parseInt(flat_footed);
                                payload["npc_armor_class_touch_base"] = parseInt(touch);
                                payload["npc_armor_class_note"] = description.trim();
                            }
                            else {
                                sendLog("AC parse error for '"+data["AC"]+"'");
                                payload["npc_armor_class_melee_base"] = 0;
                                payload["npc_armor_class_flat_footed_base"] = 0;
                                payload["npc_armor_class_touch_base"] = 0;
                                payload["npc_armor_class_note"] = parseString(data["AC"]);
                            }
                        }
                        else {
                            payload["npc_armor_class_melee_base"] = 0;
                            payload["npc_armor_class_flat_footed_base"] = 0;
                            payload["npc_armor_class_touch_base"] = 0;
                            payload["npc_armor_class_note"] = "";
                        }
                        if ( data.hasOwnProperty("CMD") ) {
                            let regex = data["CMD"].match(/([0-9]+(.*))/i); // <string> +/-<number>
                            if ( regex !== null ) {
                                let [, value, description] = regex;
                                payload["npc_combat_maneuver_defense_base"] = parseInt(value);
                                if ( description !== undefined ) {
                                    payload["npc_combat_maneuver_defense_note"] = description.trim();
                                }
                                else {
                                    payload["npc_combat_maneuver_defense_note"] = "";
                                }
                            }
                            else {
                                sendLog("CMD parse error for '"+data["CMD"]+"'");
                                payload["npc_combat_maneuver_defense_base"] = 0;
                                payload["npc_combat_maneuver_defense_note"] = parseString(data["CMD"]);
                            }
                        }
                        else {
                            payload["npc_combat_maneuver_defense_base"] = 0;
                            payload["npc_combat_maneuver_defense_note"] = "";
                        }
                        payload["npc_damage_resistance"] = parseString(data["DR"]);
                        payload["npc_defensive_ability"] = parseString(data["defensive Abilities"]);
                        payload["npc_immune"] = parseString(data["Immune"]);
                        payload["npc_racial_modifier"] = parseString(data["Racial Midifiers"]);
                        payload["npc_weakness"] = parseString(data["Weakness"]);
                        payload["npc_resistance"] = parseString(data["Resist"]);

                        // feat
                        payload["npc_feat"] = parseString(data["Feats"]);
                        payload["npc_skill"] = parseString(data["Skills"]);

                        // note
                        if ( data.hasOwnProperty("CR") ) {
                            let regex = data["CR"].match(/(cr\s*)?(.*)/i); // CR <number>/<number>
                            if ( regex !== null ) {
                                let [, , value] = regex;
                                payload["npc_challenge_rating"] = parseNumber(value);
                            }
                            else {
                                sendLog("CR parse error for '"+data["CR"]+"'");
                                payload["npc_challenge_rating"] = 0;
                            }
                        }
                        else {
                            payload["npc_challenge_rating"] = 0;
                        }
                        if ( data.hasOwnProperty("XP")) {
                            let xp = parseString(data["XP"]).replace(/,/g, "");
                            payload["npc_experience"] = parseNumber( xp );
                        }
                        else {
                            payload["npc_experience"] = 0;
                        }
                        payload["npc_treasure"] = parseString(data["Treasure"]);
                        payload["npc_organization"] = parseString(data["Organization"]);
                        payload["npc_special_quality"] = parseString(data["SQ"]);
                        break;

                    case "other":
                        payload["nav_tab"] = "inventory";

                        // generate new ID
                        // note : setAttrs() generate new row if doesn't exist
                        cache.header = "repeating_equipment_"+generateRowID()+"_equipment_";

                        // label
                        payload[cache.header+"label"] = parseString(user_string.compendium_name);
                        // quantity
                        payload[cache.header+"quantity"] = 1;
                        // weight
                        payload[cache.header+"weight"] = parseNumber(data["Weight"]);

                        break;

                    case "spell":
                        payload["nav_tab"] = "magic";

                        // generate new ID
                        // note : setAttrs() generate new row if doesn't exist
                        cache.header = "repeating_spell"+user_string.nav_spell+"_"+generateRowID()+"_spell"+user_string.nav_spell+"_";
                        cache.content = [];

                        // area, target
                        let str = [];
                        if ( data.hasOwnProperty("Area") ) str.push(parseString(data["Area"]));
                        if ( data.hasOwnProperty("Target") ) str.push(parseString(data["Target"]));
                        if ( str.length > 0 ) payload[cache.header + "target"] = str.join(", ");
                        delete(str);
                        // casting time
                        if ( data.hasOwnProperty("Casting Time") ) {
                            // format : <string>
                            let regex = data["Casting Time"].match(/(1 minute|1 round|free|full round|immediate|permanent|standard|swift)/i);
                            if ( regex !== null) {
                                let [, casting_time] = regex;
                                switch(casting_time) {
                                    case "swift": payload[cache.header + "casting_time"] = 1; break;
                                    case "immediate": payload[cache.header + "casting_time"] = 2; break;
                                    case "free": payload[cache.header + "casting_time"] = 3; break;
                                    case "standard": payload[cache.header + "casting_time"] = 4; break;
                                    case "full round": payload[cache.header + "casting_time"] = 5; break;
                                    case "1 minute": payload[cache.header + "casting_time"] = 6; break;
                                    case "1 round": payload[cache.header + "casting_time"] = 7; break;
                                }
                            }
                            else {
                                sendLog("parse error for '"+data["Casting Time"]+"'");
                            }
                        }
                        // components
                        if ( data.hasOwnProperty("Components") ) {
                            let regex = data["Components"].match(/(DF|F|M|S|V)/g);
                            if ( regex !== null ) {
                                let [, component] = regex;
                                payload[cache.header + "component_verbal"] = (component.indexOf("V") !== -1 ? 1 : 0);
                                payload[cache.header + "component_somatic"] = (component.indexOf("S") !== -1 ? 1 : 0);
                                payload[cache.header + "component_material"] = (component.indexOf("M") !== -1 ? 1 : 0);
                                payload[cache.header + "component_focalizing"] = (component.indexOf("F") !== -1 ? 1 : 0);
                                payload[cache.header + "component_divine_focalizing"] = (component.indexOf("DF") !== -1 ? 1 : 0);

                                regex = data["Components"].match(/\(([^(^)]+)\)/g);
                                // format <*> (<string>)
                                // regex : 2 - materiel details
                                if ( regex !== null ) {
                                    let regex_description = [];
                                    for ( let i = 0, size = regex.length; i < size; i++) {
                                        regex_description.push(regex[i].slice(1,-1));
                                    }
                                    cache.content.push(getTranslationByKey("spell-content-component") + regex_description.join(", "));
                                }
                            }
                            else {
                                sendLog("parse error for '"+data["Components"]+"'");
                            }
                        }
                        // damage
                        if ( data.hasOwnProperty("Spell Damage") ) {
                            // format : <number>d<number> + <number>
                            let regex = data["Spell Damage"].match(/([0-9]+)d([0-9]+)(\s*\+\s*([0-9]+))?/i);
                            if ( regex !== null ) {
                                let [, dice_count, dice_type, , damage_fixed] = regex;
                                payload[cache.header + "damage_dice_count"] = parseInt(dice_count);
                                payload[cache.header + "damage_dice_type"] = parseInt(dice_type);
                                if ( damage_fixed !== undefined ) payload[cache.header + "damage_miscellaneous"] = parseInt(damage_fixed);
                            }
                            else {
                                sendLog("parse error for '"+data["Spell Damage"]+"'");
                            }
                            if ( data["Spell Damage Type"] !== "" ) cache.content.push(getTranslationByKey("spell-content-damage-type") + parseString(data["Spell Damage Type"]));

                            payload[cache.header + "damage_toggle"] = "show";
                            payload[cache.header + "damage"] = 1;
                        }
                        // duration
                        if ( data.hasOwnProperty("Duration") ) {
                            // format : <string>
                            let regex = data["Duration"].match(/(concentration|instantaneous|permanent|subjects|effects|area)/i);
                            if ( regex !== null ) {
                                let [, duration] = regex;
                                switch(duration) {
                                    case "concentration": payload[cache.header + "duration"] = 1; break;
                                    case "instantaneous": payload[cache.header + "duration"] = 2; break;
                                    case "permanent": payload[cache.header + "duration"] = 4; break;
                                    case "subjects":
                                    case "effects":
                                    case "area": payload[cache.header + "duration"] = 5; break;
                                }
                            }
                            else {
                                payload[cache.header + "duration"] = 3;
                                if ( data["Duration"] !== "" ) {
                                    payload[cache.header + "duration_description"] = parseString(data["Duration"]);
                                }
                            }
                        }
                        // effect
                        if ( data.hasOwnProperty("Effect") ) {
                            cache.content.push(getTranslationByKey("spell-content-effect") + parseString(data["Effect"]));
                        }
                        // name
                        payload[cache.header+"name"] = user_string.compendium_name;
                        // spell resistance
                        if ( data["Spell Resistance"] !== "" ) {
                            payload[cache.header + "spell_resistance"] = (/yes/i.test(data["Spell Resistance"]) ? 1 : 0 );
                        }
                        // range
                        if ( data.hasOwnProperty("Range") ) {
                            // format : <string> <*>
                            let regex = data["Range"].match(/([a-z]+)(\s*\(?(.*)\))?/i);
                            if ( regex !== null ) {
                                let [, range, , description] = regex;
                                switch (range.toLowerCase()) {
                                    case "personal": payload[cache.header + "range"] = 1;break;
                                    case "touch": payload[cache.header + "range"] = 2; break;
                                    case "close": payload[cache.header + "range"] = 3; break;
                                    case "medium": payload[cache.header + "range"] = 4; break;
                                    case "long": payload[cache.header + "range"] = 5; break;
                                    case "unlimited": payload[cache.header + "range"] = 6; break;
                                }
                                if ( description !== undefined ) payload[cache.header + "range_description"] = description.trim();
                            }
                            else {
                                sendLog("parse error for '"+data["Range"]+"'");
                            }
                        }
                        // saving throw
                        if ( data.hasOwnProperty("Saving Throw") ) {
                            // format : <string> <string> (<string>)
                            let regex = data["Saving Throw"].match(/(fortitude|none|reflex|will)(\s*(half|negates|partial))?([\s(]*harmless[\s)]*)?/i);
                            if ( regex !== null ) {
                                let [, type, , saving_throw, harmless] = regex;
                                switch (type.toLowerCase()) {
                                    case "none": payload[cache.header + "save"] = 0; break;
                                    case "fortitude": payload[cache.header + "save"] = 1; break;
                                    case "reflex": payload[cache.header + "save"] = 2; break;
                                    case "will": payload[cache.header + "save"] = 3; break;
                                }
                                if ( harmless !== undefined ) {
                                    if ( harmless !== undefined ) saving_throw = saving_throw + " harmless";
                                    switch (saving_throw.toLowerCase()) {
                                        case "half": payload[cache.header + "save_type"] = 3; break;
                                        case "harmless": payload[cache.header + "save_type"] = 4; break;
                                        case "negates": payload[cache.header + "save_type"] = 1; break;
                                        case "negates harmless": payload[cache.header + "save_type"] = 2; break;
                                        case "partial": payload[cache.header + "save_type"] = 5; break;
                                        case "unveils": payload[cache.header + "save_type"] = 6; break;
                                    }
                                }
                                if ( payload[cache.header + "save"] !== 0 ) payload[cache.header+"save_toggle"] = "show";
                            }
                            else {
                                sendLog("parse error for '"+data["Saving Throw"]+"'");
                            }
                        }
                        // school
                        if ( data.hasOwnProperty("School") ) {
                            // format : <string> (<string>) [<array>]
                            let regex = data["School"].match(/([a-z]+)(\s*\(([a-z]+)\))?(\s*\[([ a-z,-]+)])?/i);
                            if( regex !== null ) {
                                let [, school, , sub_school, , register] = regex;
                                if ( sub_school === undefined ) sub_school = school;
                                switch (sub_school.toLowerCase()) {
                                    // abjuration
                                    case "abjuration": payload[cache.header + "school"] = 1.1; break;
                                    // conjuration
                                    case "calling": payload[cache.header + "school"] = 2.1; break;
                                    case "conjuration": payload[cache.header + "school"] = 2.2; break;
                                    case "creation": payload[cache.header + "school"] = 2.3; break;
                                    case "healing": payload[cache.header + "school"] = 2.4; break;
                                    case "summoning": payload[cache.header + "school"] = 2.5; break;
                                    case "teleportation": payload[cache.header + "school"] = 2.6; break;
                                    // divination
                                    case "divination": payload[cache.header + "school"] = 3.1; break;
                                    case "scrying": payload[cache.header + "school"] = 3.2; break;
                                    // enchantment
                                    case "charm": payload[cache.header + "school"] = 4.1; break;
                                    case "compulsion": payload[cache.header + "school"] = 4.3; break;
                                    case "enchantment": payload[cache.header + "school"] = 4.3; break;
                                    // evocation
                                    case "evocation": payload[cache.header + "school"] = 5.1; break;
                                    // illusion
                                    case "figment": payload[cache.header + "school"] = 6.1; break;
                                    case "glamer": payload[cache.header + "school"] = 6.2; break;
                                    case "illusion": payload[cache.header + "school"] = 6.3; break;
                                    case "pattern": payload[cache.header + "school"] = 6.4; break;
                                    case "phantasm": payload[cache.header + "school"] = 6.5; break;
                                    case "shadow": payload[cache.header + "school"] = 6.6; break;
                                    // necromancy
                                    case "necromancy": payload[cache.header + "school"] = 7.1; break;
                                    // transmutation
                                    case "polymorph": payload[cache.header + "school"] = 8.1; break;
                                    case "transmutation": payload[cache.header + "school"] = 8.2; break;
                                    // universal
                                    default: case "universal": payload[cache.header + "school"] = 9.1;
                                    break;
                                }
                                if ( register !== undefined ) {
                                    register = register.split(", ");
                                    switch (register[0].toLowerCase()) { // select only first possibility
                                        case "acid": payload[cache.header + "register"] = 1; break;
                                        case "air": payload[cache.header + "register"] = 2; break;
                                        case "chaos": payload[cache.header + "register"] = 3; break;
                                        case "cold": payload[cache.header + "register"] = 4; break;
                                        case "curse": payload[cache.header + "register"] = 5; break;
                                        case "death": payload[cache.header + "register"] = 6; break;
                                        case "desease": payload[cache.header + "register"] = 7; break;
                                        case "earth": payload[cache.header + "register"] = 8; break;
                                        case "electricity": payload[cache.header + "register"] = 9; break;
                                        case "emotion": payload[cache.header + "register"] = 10; break;
                                        case "evil": payload[cache.header + "register"] = 11; break;
                                        case "fire": payload[cache.header + "register"] = 12; break;
                                        case "force": payload[cache.header + "register"] = 13; break;
                                        case "good": payload[cache.header + "register"] = 14; break;
                                        case "language": payload[cache.header + "register"] = 15; break;
                                        case "lawful": payload[cache.header + "register"] = 16; break;
                                        case "light": payload[cache.header + "register"] = 17; break;
                                        case "mind-affecting": payload[cache.header + "register"] = 18; break;
                                        case "pain": payload[cache.header + "register"] = 19; break;
                                        case "poison": payload[cache.header + "register"] = 20; break;
                                        case "shadow": payload[cache.header + "register"] = 21; break;
                                        case "sonic": payload[cache.header + "register"] = 22; break;
                                        case "terror": payload[cache.header + "register"] = 23; break;
                                        case "water": payload[cache.header + "register"] = 24; break;
                                        default : payload[cache.header + "register"] = 0;
                                    }
                                }
                            }
                            else {
                                sendLog("parse error for '"+data["School"]+"'");
                            }
                        }

                        // content
                        if ( user_string.compendium_content !== "" ) {
                            if ( cache.content.length > 0 ) cache.content.unshift("");
                            cache.content.unshift(user_string.compendium_content);
                        }

                        if ( cache.content.length > 0 ) payload[cache.header + "description"] = cache.content.join("\n");

                        break;

                    case "weapon":
                        payload["nav_tab"] = "inventory";

                        // generate new ID
                        // note : setAttrs() generate new row if doesn't exist
                        cache.header = "repeating_weapon_"+generateRowID()+"_equipment_weapon_";

                        // critic
                        if ( data.hasOwnProperty("Critical Range") ) {
                            let regex = data["Critical Range"].match(/^([0-9]+)/);
                            if ( regex !== null ) {
                                let [, value] = regex;
                                payload[cache.header+"critic"] = parseInt(value);
                            }
                            else {
                                sendLog("parse error for '"+data["Critical Range"]+"'");
                            }
                        }
                        if ( data.hasOwnProperty("Critical Damage") ) {
                            let regex = data["Critical Damage"].match(/([0-9]+)$/);
                            if ( regex !== null ) {
                                let [, value] = regex;
                                payload[cache.header + "critic_multiplier"] = parseInt(value);
                            }
                            else {
                                sendLog("parse error for '"+data["Critical Damage"]+"'");
                            }
                        }
                        // damage
                        if ( user_number.character_creature_size_select <= 0 ) {
                            if ( data.hasOwnProperty("Damage (Medium)") ) {
                                let regex = data["Damage (Medium)"].match(/([0-9]+)d([0-9]+)/);
                                if ( regex !== null ) {
                                    let [, dice_count, dices] = regex;
                                    payload[cache.header + "dice_count"] = parseInt(dice_count);
                                    payload[cache.header + "dice_type"] = parseInt(dices);
                                }
                                else {
                                    sendLog("parse error for '"+data["Damage (Medium)"]+"'");
                                }
                            }
                        }
                        else {
                            if ( data.hasOwnProperty("Damage (Small)") ) {
                                let regex = data["Damage (Small)"].match(/([0-9]+)d([0-9]+)/);
                                if ( regex !== null ) {
                                    let [, dice_count, dice_type] = regex;
                                    payload[cache.header + "dice_count"] = parseInt(dice_count);
                                    payload[cache.header + "dice_type"] = parseInt(dice_type);
                                }
                                else {
                                    sendLog("parse error for '"+data["Damage (Small)"]+"'");
                                }
                            }
                        }

                        // damage type
                        if ( data.hasOwnProperty("Damage Type") ) {
                            let damage_type = 0;
                            if ( data["Damage Type"].search(/piercing/i) !== -1 ) damage_type += 1; // piercing
                            if ( data["Damage Type"].search(/slashing/i) !== -1 ) damage_type += 2; // slashing
                            if ( data["Damage Type"].search(/bludgeoning/i) !== -1 ) damage_type += 4; // blugeoning
                            switch (damage_type) {
                                case 1: payload[cache.header + "damage_type"] = 3; break;
                                case 2: payload[cache.header + "damage_type"] = 4; break;
                                case 3: payload[cache.header + "damage_type"] = 7; break;
                                case 4: payload[cache.header + "damage_type"] = 2; break;
                                case 5: payload[cache.header + "damage_type"] = 5; break;
                                case 6: payload[cache.header + "damage_type"] = 6; break;
                            }
                        }
                        // name
                        payload[cache.header+"name"] = parseString(user_string.compendium_name);
                        // range
                        switch( data["Weapon Category"].toLowerCase() ) {
                            case "ranged":
                                payload[cache.header+"range"] = 2;
                                payload[cache.header+"range_description"] = parseString(data["Range"]);
                                break;

                            default:
                                payload[cache.header+"range"] = 1;
                                break;
                        }
                        // special
                        payload[cache.header+"special"] = parseString(data["Special"]);
                        // weight
                        payload[cache.header+"weight"] = parseString(data["Weight"]);
                        break;
                }
                delete(cache);
                delete(user_number);
                delete(user_string);

                // send payload
                setAttrs(payload, {silent: false}, compendium_reset);

                // functions
                function parse_weight(match) {
                    return formatNumber( convertUnit(parseFloat(match), "lb2kg"), 0.5) + " " + cache.kilogram;
                }

                function parse_height(match) {
                    return formatNumber( convertUnit(parseFloat(match), "ft2m"), 0.5) + " " + cache.meter;
                }

                function parse_attacks(data, range) {
                    data = data.split(",");
                    let valid = [], invalid = [];

                    for ( let i = 0, size = data.length; i < size; i++ ) {
                        let regex = data[i].match(/(.*)\s(\+?([0-9]+)(\/\+[0-9]+)*)\s*(touch|melee)?\s*\(([0-9]+)+d([0-9]+)([+-][0-9]+)?(\/([0-9]+)-20)?(\/x([0-9]))?(.*)\)(.*)/i);
                        if ( regex !== null ) {
                            let [, label, base_attack_raw, base_attack_1st, , special, dice_count, dice_type, damage, , critic, , critic_factor, description, other] = regex;
                            let current = {
                                "name": label.trim(),
                                "base_attack": base_attack_raw,
                                "base_attack_1st": parseInt(base_attack_1st),
                                "range": range,
                                "dice_count": parseInt(dice_count),
                                "dice_type": parseInt(dice_type)
                            };
                            if ( damage !== undefined ) current.damage = parseFloat(damage);
                            if ( critic !== undefined ) current.critic = parseInt(critic);
                            if ( critic_factor !== undefined ) current.critic_factor = parseInt(critic_factor);
                            if ( special !== undefined ) current.special = special;
                            if ( other !== undefined ) current.other = other;
                            current.description = ( description !== undefined ? description.trim() : "");
                            valid.push(current);
                        }
                        else {
                            sendLog((range === 0 ? "Melee" : "Ranged")+" attack parse error for '"+data[i]+"'");
                            invalid.push(data[i]);
                        }
                    }
                    return [valid, invalid];
                }
            });
        });
    }

    function compendium_reset() {
        let payload = {
            "compendium_data": "",
            "compendium_content": "",
            "compendium_name": ""
        };
        setAttrs(payload, {silent: true});
    }

    // ------------------------------------------
    // customized status
    // ------------------------------------------
    // compile formula
    on( "clicked:status-compile", status_compile );
    function status_compile() {
        getAttrsNumber([
            "status_custom_hit_points",
            "status_custom_action", "status_custom_action_full_round", "status_custom_speed_base_ceiling", "status_custom_speed_base_ceiling_select", "status_custom_speed_tactic_mode", "status_custom_speed_run_mode", "status_custom_attack_failure", "status_custom_attack", "status_custom_attack_opportunity", "status_custom_target_sneak_attack", "status_custom_spell",
            "status_custom_strength", "status_custom_strength_ceiling", "status_custom_strength_ceiling_select", "status_custom_dexterity", "status_custom_dexterity_ceiling", "status_custom_dexterity_ceiling_select", "status_custom_dexterity_mod_ceiling", "status_custom_dexterity_mod_ceiling_select", "status_custom_constitution", "status_custom_intelligence", "status_custom_wisdom", "status_custom_charisma",
            "status_custom_initiative", "status_custom_combat_maneuver_bonus", "status_custom_base_attack", "status_custom_attack_damage",
            "status_arcane_spell_failure", "status_custom_caster_level", "status_custom_concentration", "status_custom_half_damage_magic",
            "status_custom_save_reflex", "status_custom_save_fortitude", "status_custom_save_willpower", "status_custom_armor_class_melee", "status_custom_armor_class_ranged", "status_custom_combat_maneuver_defense", "status_custom_immune_physical_attack",
            "status_custom_skill", "status_custom_skill_perception", "status_custom_skill_reactive"
        ], (user_number) => {
            getAttrs(["status_custom_user_label"],(user_string) => {
                let cache = {};

                // character
                if (user_number.status_custom_hit_points !== 0) cache.hp = user_number.status_custom_hit_points;
                // action
                if (user_number.status_custom_action !== 1) cache.act = 0;
                if (user_number.status_custom_action_full_round !== 1) cache.afr = 0;
                if (user_number.status_custom_speed_base_ceiling_select !== 2) cache.sb = user_number.status_custom_speed_base_ceiling;
                if (user_number.status_custom_speed_tactic_mode !== 100) cache.stm = user_number.status_custom_speed_tactic_mode;
                if (user_number.status_custom_speed_run_mode !== 4) cache.srm = user_number.status_custom_speed_run_mode;
                if (user_number.status_custom_attack_failure !== 0) cache.afa = user_number.status_custom_attack_failure;
                if (user_number.status_custom_attack !== 1) cache.att = 0;
                if (user_number.status_custom_attack_opportunity !== 1) cache.ao = 0;
                if (user_number.status_custom_target_sneak_attack !== 2) cache.sa = 1;
                if (user_number.status_custom_spell !== 1) cache.spe = 0;
                // attribute
                if (user_number.status_custom_strength !== 0) cache.str = user_number.status_custom_strength;
                if (user_number.status_custom_strength_ceiling_select !== 2) cache.sc = user_number.status_custom_strength_ceiling;
                if (user_number.status_custom_dexterity !== 0) cache.dex = user_number.status_custom_dexterity;
                if (user_number.status_custom_dexterity_ceiling_select !== 2) cache.dc = user_number.status_custom_dexterity_ceiling;
                if (user_number.status_custom_dexterity_mod_ceiling_select !== 2) cache.dmc = user_number.status_custom_dexterity_mod_ceiling;
                if (user_number.status_custom_constitution !== 0) cache.con = user_number.status_custom_constitution;
                if (user_number.status_custom_intelligence !== 0) cache.int = user_number.status_custom_intelligence;
                if (user_number.status_custom_wisdom !== 0) cache.wis = user_number.status_custom_wisdom;
                if (user_number.status_custom_charisma !== 0) cache.cha = user_number.status_custom_charisma;
                // battle
                if (user_number.status_custom_initiative !== 0) cache.ini = user_number.status_custom_initiative;
                if (user_number.status_custom_combat_maneuver_bonus !== 0) cache.cmb = user_number.status_custom_combat_maneuver_bonus;
                if (user_number.status_custom_base_attack !== 0) cache.ba = user_number.status_custom_base_attack;
                if (user_number.status_custom_attack_damage !== 0) cache.dam = user_number.status_custom_attack_damage;
                // magic
                if (user_number.status_arcane_spell_failure !== 0) cache.asf = user_number.status_arcane_spell_failure;
                if (user_number.status_custom_caster_level !== 0) cache.cl = user_number.status_custom_caster_level;
                if (user_number.status_custom_concentration !== 0) cache.cnc = user_number.status_custom_concentration;
                if (user_number.status_custom_half_damage_magic !== 2) cache.hdm = 1;
                // defense
                if (user_number.status_custom_save_reflex !== 0) cache.ref = user_number.status_custom_save_reflex;
                if (user_number.status_custom_save_fortitude !== 0) cache.for = user_number.status_custom_save_fortitude;
                if (user_number.status_custom_save_willpower !== 0) cache.wil = user_number.status_custom_save_willpower;
                if (user_number.status_custom_armor_class_melee !== 0) cache.acm = user_number.status_custom_armor_class_melee;
                if (user_number.status_custom_armor_class_ranged !== 0) cache.acr = user_number.status_custom_armor_class_ranged;
                if (user_number.status_custom_combat_maneuver_defense !== 0) cache.cmd = user_number.status_custom_combat_maneuver_defense;
                if (user_number.status_custom_immune_physical_attack !== 2) cache.ipa = 1;
                //skill
                if (user_number.status_custom_skill !== 0) cache.ski = user_number.status_custom_skill;
                if (user_number.status_custom_skill_perception !== 0) cache.sp = user_number.status_custom_skill_perception;
                if (user_number.status_custom_skill_reactive !== 0) cache.sr = user_number.status_custom_skill_reactive;

                // prepare payload
                let payload = {};
                if ( Object.keys(cache).length === 0 ) {
                    payload["status_custom_log"] = "["+datelocale()+"] "+getTranslationByKey("status-custom-log-compile-error");
                }
                else {
                    payload["status_custom_log"] = "["+datelocale()+"] "+getTranslationByKey("status-custom-log-compile");

                    let header = "repeating_statuscustom_"+generateRowID()+"_";
                    payload[header+"status_custom_label"] = user_string.status_custom_user_label;
                    payload[header+"status_custom_formula"] = payload["status_custom_user_formula"] = JSON.stringify(cache);
                }

                delete(cache);
                delete(user_number);
                delete(user_string);

                // send payload
                setAttrs(payload);
            });
        });
    }

    // decompile formula
    on( "clicked:status-decompile", status_decompile );
    function status_decompile() {
        getAttrs(["status_custom_user_formula"], (user) => {
            // prepare payload
            let payload = {};

            if ( !isJSON(user.status_custom_user_formula) ) {
                payload["status_custom_log"] = "["+datelocale()+"] "+getTranslationByKey("status-custom-log-decompile-error");
            }
            else {
                payload["status_custom_log"] = "["+datelocale()+"] "+getTranslationByKey("status-custom-log-decompile");

                // parse data
                let json = JSON.parse(user.status_custom_user_formula);
                // format data
                for ( let prop in json ) {
                    if ( json.hasOwnProperty(prop) ) json[prop] = parseInt( json[prop] );
                }

                // character
                payload["status_custom_hit_points"] = (json.hasOwnProperty("hp") && json.hp !== 0 ? json.hp : 0);
                // action
                payload["status_custom_action"] = (json.hasOwnProperty("act") && json.act !== 1 ? 2 : 1);
                payload["status_custom_action_full_round"] = (json.hasOwnProperty("afr") && json.afr !== 1 ? 2 : 1);
                if (json.hasOwnProperty("sb")) {
                    payload["status_custom_speed_base_ceiling_select"] = 1;
                    payload["status_custom_speed_base_ceiling"] = json.sb;
                }
                else {
                    payload["status_custom_speed_base_ceiling_select"] = 2;
                    payload["status_custom_speed_base_ceiling"] = 9;
                }
                payload["status_custom_speed_tactic_mode"] = (json.hasOwnProperty("stm") && json.stm !== 100 ? json.stm : 100);
                payload["status_custom_speed_run_mode"] = (json.hasOwnProperty("srm") && json.srm !== 4 ? json.srm : 4);
                payload["status_custom_attack_failure"] = (json.hasOwnProperty("afa") && json.afa !== 0 ? json.afa : 0);
                payload["status_custom_attack"] = (json.hasOwnProperty("att") && json.att !== 1 ? 2 : 1);
                payload["status_custom_attack_opportunity"] = (json.hasOwnProperty("ao") && json.ao !== 1 ? 2 : 1);
                payload["status_custom_target_sneak_attack"] = (json.hasOwnProperty("sa") && json.sa !== 2 ? 1 : 2);
                payload["status_custom_spell"] = (json.hasOwnProperty("spe") && json.spe !== 1 ? 2 : 1);
                // attribute
                payload["status_custom_strength"] = (json.hasOwnProperty("str") && json.str !== 0 ? json.str : 0);
                if (json.hasOwnProperty("sc")) {
                    payload["status_custom_strength_ceiling_select"] = 1;
                    payload["status_custom_strength_ceiling"] = json.sc;
                }
                else {
                    payload["status_custom_strength_ceiling_select"] = 2;
                    payload["status_custom_strength_ceiling"] = 0;
                }
                payload["status_custom_dexterity"] = (json.hasOwnProperty("dex") && json.dex !== 0 ? json.dex : 0);
                if (json.hasOwnProperty("dc")) {
                    payload["status_custom_dexterity_ceiling_select"] = 1;
                    payload["status_custom_dexterity_ceiling"] = json.dc;
                }
                else {
                    payload["status_custom_dexterity_ceiling_select"] = 2;
                    payload["status_custom_dexterity_ceiling"] = 0;
                }
                if (json.hasOwnProperty("dmc")) {
                    payload["status_custom_dexterity_mod_ceiling_select"] = 1;
                    payload["status_custom_dexterity_mod_ceiling"] = json.dmc;
                }
                else {
                    payload["status_custom_dexterity_mod_ceiling_select"] = 2;
                    payload["status_custom_dexterity_mod_ceiling"] = 0;
                }
                payload["status_custom_constitution"] = (json.hasOwnProperty("con") && json.con !== 0 ? json.con : 0);
                payload["status_custom_intelligence"] = (json.hasOwnProperty("int") && json.int !== 0 ? json.int : 0);
                payload["status_custom_wisdom"] = (json.hasOwnProperty("wis") && json.wis !== 0 ? json.wis : 0);
                payload["status_custom_charisma"] = (json.hasOwnProperty("cha") && json.cha !== 0 ? json.cha : 0);
                // battle
                payload["status_custom_initiative"] = (json.hasOwnProperty("ini") && json.ini !== 0 ? json.ini : 0);
                payload["status_custom_combat_maneuver_bonus"] = (json.hasOwnProperty("cmb") && json.cmb !== 0 ? json.cmb : 0);
                payload["status_custom_base_attack"] = (json.hasOwnProperty("ba") && json.ba !== 0 ? json.ba : 0);
                payload["status_custom_attack_damage"] = (json.hasOwnProperty("dam") && json.dam !== 0 ? json.dam : 0);
                // magic

                payload["status_arcane_spell_failure"] = (json.hasOwnProperty("asf") && json.asf !== 0 ? json.asf : 0);
                payload["status_custom_caster_level"] = (json.hasOwnProperty("cl") && json.cl !== 0 ? json.cl : 0);
                payload["status_custom_concentration"] = (json.hasOwnProperty("cnc") && json.cnc !== 0 ? json.cnc : 0);
                payload["status_custom_half_damage_magic"] = (json.hasOwnProperty("hdm") && json.hdm !== 2 ? 1 : 2);
                // defense
                payload["status_custom_save_reflex"] = (json.hasOwnProperty("ref") && json.ref !== 0 ? json.ref : 0);
                payload["status_custom_save_fortitude"] = (json.hasOwnProperty("for") && json.for !== 0 ? json.for : 0);
                payload["status_custom_save_willpower"] = (json.hasOwnProperty("wil") && json.wil !== 0 ? json.wil : 0);
                payload["status_custom_armor_class_melee"] = (json.hasOwnProperty("acm") && json.acm !== 0 ? json.acm : 0);
                payload["status_custom_armor_class_ranged"] = (json.hasOwnProperty("acr") && json.acr !== 0 ? json.acr : 0);
                payload["status_custom_combat_maneuver_defense"] = (json.hasOwnProperty("cmd") && json.cmd !== 0 ? json.cmd : 0);
                payload["status_custom_immune_physical_attack"] = (json.hasOwnProperty("ipa") && json.ipa !== 2 ? 1 : 2);
                //skill
                payload["status_custom_skill"] = (json.hasOwnProperty("ski") && json.ski !== 0 ? json.ski : 0);
                payload["status_custom_skill_perception"] = (json.hasOwnProperty("sp") && json.sp !== 0 ? json.sp : 0);
                payload["status_custom_skill_reactive"] = (json.hasOwnProperty("sr") && json.sr !== 0 ? json.sr : 0);
            }

            // send payload
            setAttrs(payload);
        });
    }

    // reset
    on( "clicked:status-reset", status_reset );
    function status_reset() {
        // prepare payload
        let payload = {};
        // formula
        payload["status_custom_user_label"] = "";
        payload["status_custom_user_formula"] = "";
        payload["status_custom_log"] = "";
        // character
        payload["status_custom_hit_points"] = 0;
        // action
        payload["status_custom_action"] = 1;
        payload["status_custom_action_full_round"] = 1;
        payload["status_custom_speed_base_ceiling"] = 9;
        payload["status_custom_speed_base_ceiling_select"] = 2;
        payload["status_custom_speed_tactic_mode"] = 100;
        payload["status_custom_speed_run_mode"] = 4;
        payload["status_custom_attack_failure"] = 0;
        payload["status_custom_attack"] = 1;
        payload["status_custom_attack_opportunity"] = 1;
        payload["status_custom_target_sneak_attack"] = 2;
        payload["status_custom_spell"] = 1;
        // attribute
        payload["status_custom_strength"] = 0;
        payload["status_custom_strength_ceiling"] = 0;
        payload["status_custom_strength_ceiling_select"] = 2;
        payload["status_custom_dexterity"] = 0;
        payload["status_custom_dexterity_ceiling"] = 0;
        payload["status_custom_dexterity_ceiling_select"] = 2;
        payload["status_custom_dexterity_mod_ceiling"] = 0;
        payload["status_custom_dexterity_mod_ceiling_select"] = 2;
        payload["status_custom_constitution"] = 0;
        payload["status_custom_intelligence"] = 0;
        payload["status_custom_wisdom"] = 0;
        payload["status_custom_charisma"] = 0;
        // battle
        payload["status_custom_initiative"] = 0;
        payload["status_custom_combat_maneuver_bonus"] = 0;
        payload["status_custom_base_attack"] = 0;
        payload["status_custom_attack_damage"] = 0;
        // magic
        payload["status_arcane_spell_failure"] = 0;
        payload["status_custom_caster_level"] = 0;
        payload["status_custom_concentration"] = 0;
        payload["status_custom_half_damage_magic"] = 2;
        // defense
        payload["status_custom_save_reflex"] = 0;
        payload["status_custom_save_fortitude"] = 0;
        payload["status_custom_save_willpower"] = 0;
        payload["status_custom_armor_class_melee"] = 0;
        payload["status_custom_armor_class_ranged"] = 0;
        payload["status_custom_combat_maneuver_defense"] = 0;
        payload["status_custom_immune_physical_attack"] = 2;
        //skill
        payload["status_custom_skill"] = 0;
        payload["status_custom_skill_perception"] = 0;
        payload["status_custom_skill_reactive"] = 0;

        // send payload
        setAttrs(payload);
    }

    // ------------------------------------------
    // core
    // ------------------------------------------
    // unit + status + template
    // + status ( wound threshold + aging + armor proficiency + equipment's weight + encumbrance )
    // + speed + caster level + skill acrobatics
    // ( all these attributes are all linked to dexterity or strength )
    on(
        " change:option_template change:option_health change:option_unit_decimal change:option_unit_thousand change:option_unit_speed change:option_unit_weight"
        + " change:option_status_condition change:option_status_class change:option_status_nonlethal_damage change:option_status_wound_threshold change:option_status_aging change:option_status_armor_penalty change:option_status_encumbrance"
        + " change:status_condition_antagonized change:status_condition_bleed change:status_condition_drowsy change:status_condition_health change:status_condition_mental_health change:status_condition_stamina"
        + " change:status_condition_negative_level_temporary change:status_condition_negative_level"
        + " change:status_condition_cowering change:status_condition_dazed change:status_condition_helpless change:status_condition_prone change:status_condition_fighting_defensively change:status_condition_movement change:status_condition_flat_footed change:status_condition_total_defense"
        + " change:status_condition_deafened change:status_condition_dazzled change:status_condition_blinded change:status_condition_confused change:status_condition_stunned change:status_condition_paralyzed"
        + " change:status_condition_nauseated change:status_condition_sickened"
        + " change:status_condition_mesmerized change:status_condition_incorporeal change:status_condition_invisible change:status_condition_petrified"
        + " change:status_class_barbarian_rage change:status_class_monk_crane"
        + " change:repeating_statuscustom remove:repeating_statuscustom"
        + " change:health_hit_points_base change:health_hit_points_miscellaneous change:health_hit_points_temporary change:health_hit_points_ceiling change:health_nonlethal_damage_base change:health_nonlethal_damage_temporary"
        + " change:health_wound_points_base change:health_wound_points_temporary change:health_wound_points_ceiling change:health_vigor_base change:health_vigor_temporary change:health_vigor_ceiling"
        + " change:character_strength_base change:character_strength_race change:character_strength_bonus change:character_strength_penalty change:character_strength_temporary"
        + " change:character_dexterity_base change:character_dexterity_race change:character_dexterity_bonus change:character_dexterity_penalty change:character_dexterity_temporary"
        + " change:character_stance change:character_creature_size_select change:character_speed_base"
        + " change:character_age change:character_race change:character_age_select"
        + " change:caster_level_rank change:caster_level_miscellaneous change:caster_level_temporary"
        + " change:skill_acrobatics_ranks"
        + " change:armor_class_mod_dodge"
        + " change:armor_proficiency_light change:armor_proficiency_medium change:armor_proficiency_heavy change:armor_proficiency_shield change:armor_proficiency_shield_tower"
        + " change:currency_platinum change:currency_gold change:currency_silver change:currency_copper"
        + " change:repeating_weapon:equipment_weapon_weight remove:repeating_weapon"
        + " change:repeating_armor:equipment_armor_worn change:repeating_armor:equipment_armor_type change:repeating_armor:equipment_armor_dexterity_ceiling change:repeating_armor:equipment_armor_armor_penalty change:repeating_armor:equipment_armor_weight remove:repeating_armor"
        + " change:repeating_equipment:equipment_quantity change:repeating_equipment:equipment_weight remove:repeating_equipment"
        + " change:equipment_magic_head_weight change:equipment_magic_neck_weight change:equipment_magic_body_weight change:equipment_magic_belt_weight change:equipment_magic_wrist_weight change:equipment_magic_hand_weight change:equipment_magic_finger1_weight change:equipment_magic_finger2_weight change:equipment_magic_foot_weight"
        + " change:npc_character_strength_base change:npc_character_strength_bonus change:npc_character_strength_penalty change:npc_character_strength_temporary"
        + " change:npc_character_dexterity_base change:npc_character_dexterity_bonus change:npc_character_dexterity_penalty change:npc_character_dexterity_temporary"
        , core );
    function core() {
        getAttrsNumber([
            "option_unit_decimal", "option_unit_thousand", "option_unit_speed", "option_unit_weight",
            "option_status_condition", "option_status_class", "option_status_nonlethal_damage", "option_status_wound_threshold", "option_status_aging", "option_status_armor_penalty", "option_status_encumbrance",
            "status_condition_antagonized", "status_condition_bleed", "status_condition_drowsy", "status_condition_health", "status_condition_mental_health", "status_condition_stamina",
            "status_condition_negative_level_temporary", "status_condition_negative_level",
            "status_condition_cowering", "status_condition_dazed", "status_condition_helpless", "status_condition_prone", "status_condition_fighting_defensively", "status_condition_movement", "status_condition_flat_footed", "status_condition_total_defense",
            "status_condition_deafened", "status_condition_dazzled", "status_condition_blinded", "status_condition_confused", "status_condition_stunned", "status_condition_paralyzed",
            "status_condition_nauseated", "status_condition_sickened",
            "status_condition_mesmerized", "status_condition_incorporeal", "status_condition_invisible", "status_condition_petrified",
            "status_class_barbarian_rage", "status_class_monk_crane",
            "health_hit_points_base", "health_hit_points_miscellaneous", "health_hit_points_temporary", "health_hit_points_ceiling", "health_nonlethal_damage_base", "health_nonlethal_damage_temporary",
            "health_wound_points_base", "health_wound_points_temporary", "health_wound_points_ceiling", "health_vigor_base", "health_vigor_temporary", "health_vigor_ceiling",
            "character_strength_base", "character_strength_race", "character_strength_bonus", "character_strength_penalty", "character_strength_temporary",
            "character_dexterity_base", "character_dexterity_race", "character_dexterity_bonus", "character_dexterity_penalty", "character_dexterity_temporary",
            "character_constitution_base", "character_constitution_race", "character_constitution_bonus", "character_constitution_penalty", "character_constitution_temporary",
            "character_stance", "character_creature_size_select", "character_speed_base",
            "character_age", "character_race", "character_age_select",
            "caster_level_rank", "caster_level_miscellaneous", "caster_level_temporary",
            "skill_acrobatics_ranks",
            "armor_class_mod_dodge",
            "armor_proficiency_light", "armor_proficiency_medium", "armor_proficiency_heavy", "armor_proficiency_shield", "armor_proficiency_shield_tower",
            "currency_platinum", "currency_gold", "currency_silver", "currency_copper",
            "equipment_magic_head_weight", "equipment_magic_neck_weight", "equipment_magic_body_weight", "equipment_magic_belt_weight", "equipment_magic_wrist_weight", "equipment_magic_hand_weight", "equipment_magic_finger1_weight", "equipment_magic_finger2_weight", "equipment_magic_foot_weight",
            "npc_character_strength_base", "npc_character_strength_bonus", "npc_character_strength_penalty", "npc_character_strength_temporary",
            "npc_character_dexterity_base", "npc_character_dexterity_bonus", "npc_character_dexterity_penalty", "npc_character_dexterity_temporary",
            "npc_character_constitution_base", "npc_character_constitution_bonus", "npc_character_constitution_penalty", "npc_character_constitution_temporary"
        ], (user_number) => {
            getAttrs([
                "option_template", "option_health"
            ],(user_string) => {
                // "pinned", "unconscious", "dying", "paralyzed" add "defenseless" condition
                if ( user_number.status_condition_health === 3 || user_number.status_condition_health === 4 || user_number.status_condition_health === 5 ) user_number.status_condition_helpless = 1;
                if ( user_number.status_condition_paralyzed === 1 ) user_number.status_condition_helpless = 1;

                // "crawl" add "prone" condition
                if ( user_number.status_condition_movement === 3 ) user_number.status_condition_prone = 1;

                // "asleep add "helpless" condition
                if ( user_number.status_condition_drowsy === 4 ) user_number.status_condition_helpless = 1;

                // "petrified" add "inconscious" and "defeneless" conditiones
                if ( user_number.status_condition_petrified === 1 ) user_number.status_condition_helpless = 1;

                // "fighting defensively" and "total defense" can't active in same time
                if ( user_number.status_condition_fighting_defensively === 1 && user_number.status_condition_total_defense === 1 ) user_number.status_condition_fighting_defensively = 0;

                let field = {
                    "custom": {
                        "switch": "status_custom_switch",
                        "label": "status_custom_label",
                        "formula": "status_custom_formula"
                    },
                    "weapon": {
                        "weight": "equipment_weapon_weight"
                    },
                    "armor": {
                        "worn": "equipment_armor_worn",
                        "type": "equipment_armor_type",
                        "dexterity": "equipment_armor_dexterity_ceiling",
                        "penalty": "equipment_armor_armor_penalty",
                        "weight": "equipment_armor_weight"
                    },
                    "equipment": {
                        "weight": "equipment_weight",
                        "quantity": "equipment_quantity"
                    }
                };

                function attributeModifier(str, value) {
                    value = ( value > 0 ? "+"+value : value );
                    return str.replace("%s", value);
                }

                getAttrsRepeating("statuscustom", Object.values(field.custom), (repeating_custom) => {
                    getAttrsRepeating("weapon", Object.values(field.weapon), (repeating_weapon) => {
                        getAttrsRepeating("armor", Object.values(field.armor), (repeating_armor) => {
                            getAttrsRepeating("equipment", Object.values(field.equipment), (repeating_equipment) => {
                                // variables per status
                                let aging = {
                                    "label": "",
                                    "strength": 0,
                                    "dexterity": 0,
                                    "constitution": 0,
                                    "intelligence": 0,
                                    "wisdom": 0,
                                    "charisma": 0,
                                };

                                let status = {
                                    // health
                                    "hit_points": 0,
                                    "vital_energy" : Math.abs(user_number.status_condition_negative_level_temporary) + Math.abs(user_number.status_condition_negative_level),
                                    "bleed": false,
                                    // action
                                    "action": true,
                                    "action_full_round": true,
                                    "rush": true,
                                    "target_sneak_attack": false,
                                    "confused": false,
                                    "deafened": false,
                                    "grappled": false,
                                    "attack_opportunity": true,
                                    "speed_base": (user_number.character_speed_base < 0 ? 0 : user_number.character_speed_base),
                                    "speed_tactic": 1,
                                    "speed_run_mode": 4,
                                    // specialization
                                    "barbarian_rage": false,
                                    // attributes
                                    "strength": 0,
                                    "strength_ceiling": Infinity,
                                    "dexterity": 0,
                                    "dexterity_ceiling": Infinity,
                                    "dexterity_mod_ceiling": Infinity,
                                    "target_flat_footed": false,
                                    "constitution": 0,
                                    "intelligence": 0,
                                    "wisdom": 0,
                                    "charisma": 0,
                                    // battle
                                    "action_attack": true,
                                    "initiative": 0,
                                    "base_attack": 0,
                                    "attack_failure": 0, // percent
                                    "attack_damage": 0,
                                    "combat_maneuver_bonus": 0,
                                    // spell
                                    "action_spell": true,
                                    "caster_level": 0,
                                    "arcane_spell_failure": 0,
                                    "spell_no_somatic_material": false,
                                    "spell_verbal": 0,
                                    "concentration": 0,
                                    // defense
                                    "fortitude": 0,
                                    "reflex": 0,
                                    "willpower": 0,
                                    "armor_class_melee": 0,
                                    "armor_class_ranged": 0,
                                    "armor_class_dodge": 0,
                                    "ac_dexterity_ceiling": Infinity,
                                    "invisible": false,
                                    "combat_maneuver_defense": 0,
                                    "immune_physical_attack": false,
                                    "half_damage_magic": false,
                                    // skill
                                    "skill": 0,
                                    "skill_loose_sight": false,
                                    "skill_acrobatics": 0,
                                    "skill_perception": 0,
                                    "skill_reactive": 0,
                                    // other
                                    "dropped_out_hands": false
                                };
                                // calculs are the same for feets or meters, although it's not the same thing
                                if ( user_number.option_unit_speed === 1 ) status.speed_base = status.speed_base * 2 / 3;

                                let encumbrance = {
                                    "armor_penalty": 0,
                                    "armor_penalty_proficiency": 0,
                                    "total": 0,
                                    "type": 0, // 0 - none / 1 - light / 2 - medium / 3 - heavy
                                    "dexterity_ceiling": Infinity,
                                    "total_percent": 0,
                                    "charge_light": 0,
                                    "charge_medium": 0,
                                    "charge_heavy": 0,
                                };

                                let health = {
                                    "hit_points": user_number.health_hit_points_base + user_number.health_hit_points_miscellaneous + user_number.health_hit_points_temporary,
                                    "hit_points_ceiling": user_number.health_hit_points_ceiling,
                                    "nonlethal_damage": user_number.health_nonlethal_damage_base + user_number.health_nonlethal_damage_temporary,
                                    "nonlethal_damage_ceiling": 0,
                                    "wound_points": user_number.health_wound_points_base + user_number.health_wound_points_temporary,
                                    "wound_points_ceiling": user_number.health_wound_points_ceiling,
                                    "vigor": user_number.health_vigor_base + user_number.health_vigor_temporary,
                                    "vigor_ceiling": user_number.health_vigor_ceiling,
                                    "status": 0 // 0 - healthy / 1 - staggered / 2 - disabled / 3 - unconscious / 4 - dead
                                };
                                health.nonlethal_damage_ceiling = health.hit_points;

                                let cache = {
                                    "unit_decimal": ".",
                                    "unit_thousand": ",",
                                    "unit_speed": "",
                                    "unit_weight": "",

                                    "speed_base": status.speed_base,
                                    "speed_run_multiplier": 1,
                                    "strength": 10,
                                    "strength_mod": 0,
                                    "dexterity": 10,
                                    "dexterity_mod": 0,
                                    "constitution": 10,
                                    "caster_level_corrected": 0,
                                    "armor_class_mod_dodge": user_number.armor_class_mod_dodge,

                                    "resume": [],
                                    "effect": [],
                                    "effect_attack": [],
                                    "effect_defense": [],
                                    "effect_spell": [],
                                    "effect_skill": [],
                                    "effect_inventory": []
                                };
                                if ( user_string.option_template === "companion" || user_string.option_template === "pc" ) { // companion / pc
                                    cache.strength = user_number.character_strength_base + user_number.character_strength_race + user_number.character_strength_bonus - Math.abs(user_number.character_strength_penalty) + user_number.character_strength_temporary;
                                    cache.dexterity = user_number.character_dexterity_base + user_number.character_dexterity_race + user_number.character_dexterity_bonus - Math.abs(user_number.character_dexterity_penalty) + user_number.character_dexterity_temporary;
                                    cache.constitution = user_number.character_constitution_base + user_number.character_constitution_race + user_number.character_constitution_bonus - Math.abs(user_number.character_constitution_penalty) + user_number.character_constitution_temporary;
                                }
                                else { // npc
                                    cache.strength = user_number.npc_character_strength_base + user_number.npc_character_strength_bonus - Math.abs(user_number.npc_character_strength_penalty) + user_number.npc_character_strength_temporary;
                                    cache.dexterity = user_number.npc_character_dexterity_base + user_number.npc_character_dexterity_bonus - Math.abs(user_number.npc_character_dexterity_penalty) + user_number.npc_character_dexterity_temporary;
                                    cache.constitution = user_number.npc_character_constitution_base + user_number.npc_character_constitution_bonus - Math.abs(user_number.npc_character_constitution_penalty) + user_number.npc_character_constitution_temporary;
                                }

                                // ------------------------------------------
                                // unit
                                // ------------------------------------------
                                switch(user_number.option_unit_decimal) {
                                    case 1 : // comma
                                        cache.unit_decimal = ",";
                                        break;

                                    case 2 : // dot
                                        cache.unit_decimal = ".";
                                        break;

                                    case 3 : // momayyez
                                        cache.unit_decimal = "";
                                        break;
                                }

                                switch(user_number.option_unit_thousand) {
                                    case 1 : // comma
                                        cache.unit_thousand = ",";
                                        break;

                                    case 2 : // space
                                        cache.unit_thousand = " ";
                                        break;
                                }

                                switch(user_number.option_unit_speed) {
                                    case 1: // case
                                        cache.unit_speed = getTranslationByKey("option-unit-case-short");
                                        break;

                                    case 2: // feet
                                        cache.unit_speed = getTranslationByKey("option-unit-feet-short");
                                        break;

                                    case 3: // meter
                                        cache.unit_speed = getTranslationByKey("option-unit-meter-short");
                                        break;
                                }

                                switch(user_number.option_unit_weight) {
                                    case 1: // kilogram
                                        cache.unit_weight = getTranslationByKey("option-unit-kilogram-short");
                                        break;

                                    case 2: // pound
                                        cache.unit_weight = getTranslationByKey("option-unit-pound-short");
                                        break;
                                }

                                // ------------------------------------------
                                // aging
                                // need "option_template"
                                // ------------------------------------------
                                switch( user_string.option_template ) {
                                    case "companion" : // companion
                                        if ( user_number.character_age_select === 1 ) { // youth
                                            cache.resume.push(getTranslationByKey("character-aging-youth"));
                                            if ( user_number.option_status_aging === 1 ) {
                                                aging.dexterity = 2;
                                                aging.strength = aging.constitution = aging.constitution = aging.wisdom = -2;
                                            }
                                        }
                                        else if ( user_number.character_age_select === 2 ) { // adult
                                            // void
                                        }
                                        else if ( user_number.character_age_select === 3 ) { // middle age
                                            cache.resume.push(getTranslationByKey("character-aging-middle"));
                                            if ( user_number.option_status_aging === 1 ) {
                                                aging.strength = aging.dexterity = aging.constitution = -1;
                                                aging.intelligence = aging.wisdom = aging.charisma = 1;
                                            }
                                        }
                                        else if ( user_number.character_age_select === 4 ) { // old
                                            cache.resume.push(getTranslationByKey("character-aging-old"));
                                            if ( user_number.option_status_aging === 1 ) {
                                                aging.strength = aging.dexterity = aging.constitution = -2;
                                                aging.intelligence = aging.wisdom = aging.charisma = 1;
                                            }
                                        }
                                        else if ( user_number.character_age_select === 5 ) { // venerable
                                            cache.resume.push(getTranslationByKey("character-aging-venerable"));
                                            if ( user_number.option_status_aging === 1 ) {
                                                aging.strength = aging.dexterity = aging.constitution = -3;
                                                aging.intelligence = aging.wisdom = aging.charisma = 1;
                                            }
                                        }
                                        break;

                                    case "npc" : // non playable character
                                        // void
                                        break;

                                    case "pc" : // playable character
                                        if ( user_number.character_race === 0 ) {
                                            if ( user_number.character_age_select === 1 ) { // youth
                                                cache.resume.push(getTranslationByKey("character-aging-youth"));
                                                if ( user_number.option_status_aging === 1 ) {
                                                    aging.dexterity = 2;
                                                    aging.strength = aging.constitution = aging.constitution = aging.wisdom = -2;
                                                }
                                            }
                                            else if ( user_number.character_age_select === 2 ) { // adult
                                                // void
                                            }
                                            else if ( user_number.character_age_select === 3 ) { // middle age
                                                cache.resume.push(getTranslationByKey("character-aging-middle"));
                                                if ( user_number.option_status_aging === 1 ) {
                                                    aging.strength = aging.dexterity = aging.constitution = -1;
                                                    aging.intelligence = aging.wisdom = aging.charisma = 1;
                                                }
                                            }
                                            else if ( user_number.character_age_select === 4 ) { // old
                                                cache.resume.push(getTranslationByKey("character-aging-old"));
                                                if ( user_number.option_status_aging === 1 ) {
                                                    aging.strength = aging.dexterity = aging.constitution = -2;
                                                    aging.intelligence = aging.wisdom = aging.charisma = 1;
                                                }
                                            }
                                            else if ( user_number.character_age_select === 5 ) { // venerable
                                                cache.resume.push(getTranslationByKey("character-aging-venerable"));
                                                if ( user_number.option_status_aging === 1 ) {
                                                    aging.strength = aging.dexterity = aging.constitution = -3;
                                                    aging.intelligence = aging.wisdom = aging.charisma = 1;
                                                }
                                            }
                                        }
                                        else {
                                            if (user_number.character_age < local.race[user_number.character_race][7]) { // youth
                                                cache.resume.push(getTranslationByKey("character-aging-youth"));
                                                aging.label = getTranslationByKey("character-aging-youth");
                                                if (user_number.option_status_aging === 1) {
                                                    aging.dexterity = 2;
                                                    aging.strength = aging.constitution = aging.constitution = aging.wisdom = -2;
                                                }
                                            }
                                            else if (user_number.character_age < local.race[user_number.character_race][8]) { // adult
                                                aging.label = getTranslationByKey("character-aging-adult");
                                            }
                                            else if (user_number.character_age < local.race[user_number.character_race][9]) { // middle age
                                                cache.resume.push(getTranslationByKey("character-aging-middle"));
                                                aging.label = getTranslationByKey("character-aging-middle");
                                                if (user_number.option_status_aging === 1) {
                                                    aging.strength = aging.dexterity = aging.constitution = -1;
                                                    aging.intelligence = aging.wisdom = aging.charisma = 1;
                                                }
                                            }
                                            else if (user_number.character_age < local.race[user_number.character_race][10]) { // old
                                                cache.resume.push(getTranslationByKey("character-aging-old"));
                                                aging.label = getTranslationByKey("character-aging-old");
                                                if (user_number.option_status_aging === 1) {
                                                    aging.strength = aging.dexterity = aging.constitution = -2;
                                                    aging.intelligence = aging.wisdom = aging.charisma = 1;
                                                }
                                            }
                                            else { // venerable
                                                cache.resume.push(getTranslationByKey("character-aging-venerable"));
                                                aging.label = getTranslationByKey("character-aging-venerable");
                                                if (user_number.option_status_aging === 1) {
                                                    aging.strength = aging.dexterity = aging.constitution = -3;
                                                    aging.intelligence = aging.wisdom = aging.charisma = 1;
                                                }
                                            }
                                        }
                                        break;
                                }

                                // ------------------------------------------
                                // condition
                                // need "condition_[...]"
                                // ------------------------------------------
                                // antagonized
                                if ( user_number.status_condition_antagonized === 1 ) {
                                    cache.resume.push(getTranslationByKey("status-antagonized"));
                                    if ( user_number.option_status_condition === 1 )  status.attack_opportunity = false;
                                }

                                // bleed
                                if ( user_number.status_condition_bleed === 1 ) {
                                    cache.resume.push(getTranslationByKey("status-bleed"));
                                    // void
                                }

                                // drowsy
                                switch( user_number.status_condition_drowsy ) {
                                    case 0: // awake
                                        // void
                                        break;

                                    case 1: // mild
                                        cache.resume.push(getTranslationByKey("status-drowsy-mild"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.strength -= 2;
                                            status.dexterity -= 2;
                                            status.constitution -= 2;
                                            status.intelligence -= 2;
                                            status.wisdom -= 2;
                                            status.charisma -= 2;

                                            status.initiative -= 2;

                                            status.concentration += 2;

                                            status.reflex -= 2;
                                            status.willpower -= 2;
                                            status.skill -= 2;
                                        }
                                        break;

                                    case 2: // moderate
                                        cache.resume.push(getTranslationByKey("status-drowsy-moderate"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.strength -= 4;
                                            status.dexterity -= 4;
                                            status.constitution -= 4;
                                            status.intelligence -= 4;
                                            status.wisdom -= 4;
                                            status.charisma -= 4;

                                            status.initiative -= 4;
                                            status.concentration += 4;
                                            status.arcane_spell_failure += 25;

                                            status.reflex -= 4;
                                            status.willpower -= 4;
                                            status.skill -= 4;
                                        }
                                        break;

                                    case 3: // extreme
                                        cache.resume.push(getTranslationByKey("status-drowsy-extreme"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.strength -= 8;
                                            status.dexterity -= 8;
                                            status.constitution -= 8;
                                            status.intelligence -= 8;
                                            status.wisdom -= 8;
                                            status.charisma -= 8;

                                            status.initiative -= 8;

                                            status.concentration += 8;
                                            status.arcane_spell_failure += 50;

                                            status.reflex -= 8;
                                            status.willpower -= 8;
                                            status.skill -= 8;
                                        }
                                        break;

                                    case 4 : // asleep
                                        cache.resume.push(getTranslationByKey("status-drowsy-asleep"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.skill_perception -= 10;
                                            // + effects of Helpless
                                        }

                                        break;
                                }

                                // health
                                switch (user_number.status_condition_health) {
                                    case 0: // healthy
                                        // void
                                        break;

                                    case 1: // staggered
                                        cache.resume.push(getTranslationByKey("status-staggered"));
                                        if ( user_number.option_status_condition === 1 ) status.action_full_round = false;
                                        break;

                                    case 2: // out of battle
                                        cache.resume.push(getTranslationByKey("status-disabled"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.speed_tactic = Math.min(0.5, status.speed_tactic);
                                            status.action_full_round = false;
                                        }
                                        break;

                                    case 3: // unconscious
                                        cache.resume.push(getTranslationByKey("status-unconscious"));
                                        if ( user_number.option_status_condition === 1 ) status.action = false;
                                        // + helpless condition
                                        break;

                                    case 4: // dying
                                        cache.resume.push(getTranslationByKey("status-dying"));
                                        if ( user_number.option_status_condition === 1 ) status.action = false;
                                        // + helpless condition
                                        break;

                                    case 5: // stable
                                        cache.resume.push(getTranslationByKey("status-stable"));
                                        if ( user_number.option_status_condition === 1 ) status.action = false;
                                        // + helpless condition
                                        break;

                                    case 6: // dead
                                        cache.resume.push(getTranslationByKey("status-dead"));
                                        if ( user_number.option_status_condition === 1 ) status.action = false;
                                        break;

                                    case 7: // energy-drained
                                        cache.resume.push(getTranslationByKey("status-energy-drained"));
                                        if ( user_number.option_status_condition === 1 ) status.action = false;
                                        break;
                                }

                                // vital energy
                                if ( status.vital_energy > 0 ) {
                                    if ( status.vital_energy === 1 ) {
                                        cache.resume.push(getTranslationByKey("status-effect-negative-level"));
                                    }
                                    else {
                                        cache.resume.push(getTranslationByKey("status-effect-negative-levels").replace("%s", status.vital_energy));
                                    }

                                    if ( user_number.option_status_condition === 1 ) {
                                        status.hit_points -= 5 * status.vital_energy;
                                        status.strength -= status.vital_energy;
                                        status.dexterity -= status.vital_energy;
                                        status.constitution -= status.vital_energy;
                                        status.intelligence -= status.vital_energy;
                                        status.wisdom -= status.vital_energy;
                                        status.charisma -= status.vital_energy;

                                        status.base_attack -= status.vital_energy;
                                        status.combat_maneuver_bonus -= status.vital_energy;

                                        status.caster_level -= status.vital_energy;

                                        status.fortitude -= status.vital_energy;
                                        status.reflex -= status.vital_energy;
                                        status.willpower -= status.vital_energy;

                                        status.skill -= status.vital_energy;
                                        status.skill_perception -= status.vital_energy;
                                    }
                                }

                                // mental health
                                switch (user_number.status_condition_mental_health) {
                                    case 0: // peaceful
                                        // void
                                        break;

                                    case 1: // shaken
                                        cache.resume.push(getTranslationByKey("status-shaken"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.base_attack -= 2;
                                            status.strength -= 2;
                                            status.dexterity -= 2;
                                            status.constitution -= 2;
                                            status.intelligence -= 2;
                                            status.wisdom -= 2;
                                            status.charisma -= 2;
                                            status.fortitude -= 2;
                                            status.reflex -= 2;
                                            status.willpower -= 2;
                                            status.skill -= 2;
                                            status.skill_perception -= 2;
                                        }
                                        break;

                                    case 2: // frightened
                                        cache.resume.push(getTranslationByKey("status-frightened"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.action_attack = false;
                                            status.strength -= 2;
                                            status.dexterity -= 2;
                                            status.constitution -= 2;
                                            status.intelligence -= 2;
                                            status.wisdom -= 2;
                                            status.charisma -= 2;
                                            status.fortitude -= 2;
                                            status.reflex -= 2;
                                            status.willpower -= 2;
                                            status.skill -= 2;
                                            status.skill_perception -= 2;
                                        }
                                        break;

                                    case 3: // panicked
                                        cache.resume.push(getTranslationByKey("status-panicked"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.action_attack = false;
                                            status.action_spell = false;
                                            status.action_full_round = false;
                                            status.strength -= 2;
                                            status.dexterity -= 2;
                                            status.constitution -= 2;
                                            status.intelligence -= 2;
                                            status.wisdom -= 2;
                                            status.charisma -= 2;
                                            status.fortitude -= 2;
                                            status.reflex -= 2;
                                            status.willpower -= 2;
                                            status.skill -= 2;
                                            status.skill_perception -= 2;
                                        }
                                        break;
                                }

                                // stamina
                                switch (user_number.status_condition_stamina) {
                                    case 0: // fit
                                        // void
                                        break;

                                    case 1: // tired
                                        cache.resume.push(getTranslationByKey("status-tired"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.speed_run_mode = 0;
                                            status.strength -= 2;
                                            status.dexterity -= 2;
                                        }
                                        break;

                                    case 2: // exhausted
                                        cache.resume.push(getTranslationByKey("status-exhausted"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.speed_tactic = Math.min(0.5, status.speed_tactic);
                                            status.speed_run_mode = 0;
                                            status.strength -= 6;
                                            status.dexterity -= 6;
                                        }
                                        break;
                                }

                                // environment
                                if ( user_number.status_condition_cowering === 1 ) { // cowering
                                    cache.resume.push(getTranslationByKey("status-cowering"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.action = false;
                                        status.armor_class_melee -= 2;
                                        status.armor_class_ranged -= 2;
                                        status.ac_dexterity_ceiling = 0;
                                    }
                                }

                                if ( user_number.status_condition_fighting_defensively === 1 ) { // fighting defensively
                                    cache.resume.push(getTranslationByKey("status-fighting-defensively"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.base_attack -= 4;
                                        status.armor_class_dodge += 2;
                                        if ( user_number.skill_acrobatics_ranks > 2 ) status.skill_acrobatics += 1;
                                    }
                                }

                                if ( user_number.status_condition_flat_footed === 1 ) { // flat-footed
                                    cache.resume.push(getTranslationByKey("status-flat-footed"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.ac_dexterity_ceiling = 0;
                                        status.base_attack_opportunity = false;
                                    }
                                }

                                if ( user_number.status_condition_helpless === 1 ) { // helpless
                                    cache.resume.push(getTranslationByKey("status-helpless"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.target_sneak_attack = true;
                                        status.dexterity_ceiling = 0;
                                        status.armor_class_melee -= 4;
                                    }
                                }

                                if ( user_number.status_condition_prone === 1 ) { // prone
                                    cache.resume.push(getTranslationByKey("status-prone"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.base_attack -= 4;
                                        status.armor_class_melee -= 4;
                                        status.armor_class_ranged += 4;
                                    }
                                }

                                switch (user_number.status_condition_movement) { // movements
                                    case 1: // free
                                        // void
                                        break;

                                    case 2: // charge
                                        cache.resume.push(getTranslationByKey("status-movement-charge"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.base_attack += 2;
                                            cache.speed_run_multiplier = 2; // to apply speed run calculated
                                            status.armor_class_melee -= 2;
                                            status.armor_class_ranged -= 2;
                                            status.ac_dexterity_ceiling = 0;
                                            status.rush = false;
                                        }
                                        break;

                                    case 3: // crawl
                                        cache.resume.push(getTranslationByKey("status-movement-crawl"));
                                        status.speed_run_mode = 0;
                                        status.speed_base = Math.min(status.speed_base, 5);
                                        // + prone condition
                                        break;

                                    case 4: // entangled
                                        cache.resume.push(getTranslationByKey("status-movement-entangled"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.base_attack -= 2;
                                            status.speed_tactic = Math.min(0.5, status.speed_tactic);
                                            status.speed_run_mode = 0;
                                            status.dexterity -= 4;
                                            status.concentration -= 5;
                                        }
                                        break;

                                    case 5: // grappled
                                        cache.resume.push(getTranslationByKey("status-movement-grappled"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.base_attack -= 2;
                                            status.speed_tactic = 0;
                                            status.dexterity -= 4;
                                            status.combat_maneuver_bonus -= 2;
                                            status.combat_maneuver_defense -= 2;
                                            status.grappled = true;
                                            status.attack_opportunity = false;
                                        }
                                        break;

                                    case 6: // pinned
                                        cache.resume.push(getTranslationByKey("status-movement-pinned"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.action_full_round = false;
                                            status.speed_tactic = 0;
                                            status.dexterity_mod_ceiling = 0;
                                            status.armor_class_melee -= 4;
                                            status.armor_class_ranged -= 4;
                                            status.ac_dexterity_ceiling = 0;
                                            status.spell_no_somatic_material = false;
                                        }
                                        break;
                                }

                                if ( user_number.status_condition_total_defense === 1 ) { // total defense
                                    cache.resume.push(getTranslationByKey("status-total-defense"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.armor_class_dodge += 4;
                                        if ( user_number.skill_acrobatics_ranks > 2 ) status.skill_acrobatics += 2;
                                    }
                                }

                                // deseases
                                if ( user_number.status_condition_nauseated === 1 ) { // nauseated
                                    cache.resume.push(getTranslationByKey("status-nauseated"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.action_attack = false;
                                        status.action_spell = false;
                                        status.action_full_round = false;
                                    }
                                }

                                if ( user_number.status_condition_sickened === 1 ) { // sickened
                                    cache.resume.push(getTranslationByKey("status-sickened"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.base_attack -= 2;
                                        status.attack_damage -= 2;
                                        status.strength -= 2;
                                        status.dexterity -= 2;
                                        status.constitution -= 2;
                                        status.intelligence -= 2;
                                        status.wisdom -= 2;
                                        status.charisma -= 2;
                                        status.fortitude -= 2;
                                        status.reflex -= 2;
                                        status.willpower -= 2;
                                        status.skill -= 2;
                                        status.skill_perception -= 2;
                                    }
                                }

                                // sens
                                if ( user_number.status_condition_blinded === 1 ) { // blinded
                                    cache.resume.push(getTranslationByKey("status-blinded"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.attack_failure = 50;
                                        status.speed_tactic = Math.min(0.5, status.speed_tactic);
                                        status.strength -= 4;
                                        status.dexterity -= 4;
                                        status.armor_class_melee -= 2;
                                        status.armor_class_ranged -= 2;
                                        status.ac_dexterity_ceiling = 0;
                                        status.skill_loose_sight = true;
                                        status.skill_perception -= 4;
                                    }
                                }

                                if ( user_number.status_condition_confused === 1 ) {
                                    cache.resume.push(getTranslationByKey("status-confused"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.confused = true;
                                        status.attack_opportunity = false;
                                    }
                                }

                                if ( user_number.status_condition_dazed === 1 ) { // dazed
                                    cache.resume.push(getTranslationByKey("status-dazed"));
                                    if ( user_number.option_status_condition === 1 ) status.action = false;
                                }

                                if ( user_number.status_condition_dazzled === 1 ) {
                                    cache.resume.push(getTranslationByKey("status-dazzled"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.base_attack -= 1;
                                        status.skill_perception -= 1;
                                    }
                                }

                                if ( user_number.status_condition_deafened === 1 ) { // defeaned
                                    cache.resume.push(getTranslationByKey("status-deafened"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.initiative -= 4;
                                        status.skill_perception -= 4;
                                        status.deafened = true;
                                        status.spell_verbal = 20;
                                    }
                                }

                                if ( user_number.status_condition_stunned === 1 ) { // stunned
                                    cache.resume.push(getTranslationByKey("status-stunned"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.action = false;
                                        status.armor_class_melee -= 2;
                                        status.armor_class_ranged -= 2;
                                        status.ac_dexterity_ceiling = 0;
                                        status.combat_maneuver_defense -= 4;
                                        status.dropped_out_hands = true;
                                    }
                                }

                                // spells
                                if ( user_number.status_condition_incorporeal === 1 ) {
                                    cache.resume.push(getTranslationByKey("status-incorporeal"));
                                    if ( user_number.option_status_condition === 1) {
                                        status.immune_physical_attack = true;
                                        status.half_damage_magic = true;
                                    }
                                }

                                if ( user_number.status_condition_invisible === 1 ) {
                                    status.invisible = true;
                                    cache.resume.push(getTranslationByKey("status-invisible"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.target_flat_footed = true;
                                        status.base_attack += 2;
                                    }
                                }

                                if ( user_number.status_condition_mesmerized === 1 ) {
                                    cache.resume.push(getTranslationByKey("status-mesmerized"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.action = false;
                                        status.skill_reactive = -4;
                                    }
                                }

                                if ( user_number.status_condition_paralyzed === 1 ) {
                                    cache.resume.push(getTranslationByKey("status-paralyzed"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        status.action = false;
                                        status.strength_ceiling = 0;
                                        // + helpless condition
                                    }
                                }

                                if ( user_number.status_condition_petrified === 1 ) {
                                    cache.resume.push(getTranslationByKey("status-petrified"));
                                    if ( user_number.option_status_condition === 1 ) {
                                        if ( user_number.status_condition_health !== 3 ) cache.resume.push(getTranslationByKey("status-unconscious"));
                                        status.action = false;
                                        status.strength_ceiling = 0;
                                        // + helpless condition
                                    }
                                }

                                // ------------------------------------------
                                // class & specialization
                                // ------------------------------------------
                                if ( user_number.option_status_class === 1 ) {
                                    // barbarian rage
                                    if (user_number.status_class_barbarian_rage) {
                                        cache.resume.push(getTranslationByKey("status-class-barbarian-rage"));
                                        status.strength += 4;
                                        status.constitution += 4;

                                        status.willpower += 2;
                                        status.armor_class_melee -= 2;
                                        status.armor_class_ranged -= 2;

                                        status.barbarian_rage = true;
                                    }

                                    // monk crane style
                                    if (user_number.status_condition_fighting_defensively === 1 || user_number.status_condition_total_defense === 1) {
                                        switch (user_number.status_class_monk_crane) {
                                            case 1:
                                                // void
                                                break;

                                            case 2: // crane style
                                                cache.resume.push(getTranslationByKey("status-class-monk-crane-style"));
                                                if (user_number.option_status_condition === 1) {
                                                    if (user_number.status_condition_fighting_defensively === 1) {
                                                        status.base_attack += 4; // cancel fighting defensively condition
                                                        status.base_attack -= 2;
                                                    }
                                                    status.armor_class_dodge += 1;
                                                }
                                                break;

                                            case 3: // crane wing
                                                cache.resume.push(getTranslationByKey("status-class-monk-crane-wing"));
                                                if (user_number.option_status_condition === 1) {
                                                    if (user_number.status_condition_fighting_defensively === 1) {
                                                        status.base_attack += 4; // cancel fighting defensively condition
                                                        status.base_attack -= 2;
                                                        status.armor_class_melee += 4;
                                                    }
                                                    status.armor_class_dodge += 1;
                                                }
                                                break;

                                            case 4 : // crane riposte
                                                cache.resume.push(getTranslationByKey("status-class-monk-crane-riposte"));
                                                if (user_number.option_status_condition === 1) {
                                                    if (user_number.status_condition_fighting_defensively === 1) {
                                                        status.base_attack += 4; // cancel fighting defensively condition
                                                        status.base_attack -= 1;
                                                        status.armor_class_melee += 4;
                                                    }
                                                    status.armor_class_dodge += 1;
                                                }
                                                break;
                                        }
                                    }
                                    if (user_number.status_condition_total_defense === 1) if (user_number.status_class_monk_crane !== 4) status.attack_opportunity = true;
                                }

                                // ------------------------------------------
                                // encumbrance + armor malus + dextery ceiling
                                // need "repeating_[...]", "currency_[...]"
                                // ------------------------------------------
                                if ( user_string.option_template === "companion" || user_string.option_template === "pc") {
                                    // purse
                                    encumbrance.total += (user_number.currency_platinum + user_number.currency_gold + user_number.currency_silver + user_number.currency_copper) * 0.01;

                                    // weapons
                                    Object.keys(repeating_weapon).forEach(id => {
                                        encumbrance.total += repeating_weapon[id][field.weapon.weight];
                                    });

                                    // armor
                                    Object.keys(repeating_armor).forEach(id => {
                                        if (repeating_armor[id][field.armor.worn] === 1) {
                                            if (user_number.option_status_armor_penalty === 1) {
                                                switch (repeating_armor[id][field.armor.type]) {
                                                    case 1: // light
                                                        if (user_number.armor_proficiency_light === 0) encumbrance.armor_penalty_proficiency -= Math.abs(repeating_armor[id][field.armor.penalty]);
                                                        break;

                                                    case 2: // medium
                                                        if (user_number.armor_proficiency_medium === 0) encumbrance.armor_penalty_proficiency -= Math.abs(repeating_armor[id][field.armor.penalty]);
                                                        break;

                                                    case 3: // heavy
                                                        if (user_number.armor_proficiency_heavy === 0) encumbrance.armor_penalty_proficiency -= Math.abs(repeating_armor[id][field.armor.penalty]);
                                                        break;

                                                    case 4: // shield
                                                        if (user_number.armor_proficiency_shield === 0) encumbrance.armor_penalty_proficiency -= Math.abs(repeating_armor[id][field.armor.penalty]);
                                                        break;

                                                    case 5: // tower shield
                                                        if (user_number.armor_proficiency_shield_tower === 0) encumbrance.armor_penalty_proficiency -= Math.abs(repeating_armor[id][field.armor.penalty]);
                                                        break;

                                                    case 6: // other
                                                        encumbrance.armor_penalty_proficiency -= Math.abs(repeating_armor[id][field.armor.penalty]);
                                                        break;
                                                }
                                                encumbrance.armor_penalty -= Math.abs(repeating_armor[id][field.armor.penalty]);
                                                if (repeating_armor[id][field.armor.dexterity] !== null) encumbrance.dexterity_ceiling = Math.min(encumbrance.dexterity_ceiling, repeating_armor[id][field.armor.dexterity]);
                                            }
                                        }
                                        encumbrance.total += repeating_armor[id][field.armor.weight];
                                    });

                                    // equipment
                                    Object.keys(repeating_equipment).forEach(id => {
                                        encumbrance.total += repeating_equipment[id][field.equipment.weight] * repeating_equipment[id][field.equipment.quantity];
                                    });

                                    // equipment magic
                                    encumbrance.total += user_number.equipment_magic_head_weight;
                                    encumbrance.total += user_number.equipment_magic_neck_weight;
                                    encumbrance.total += user_number.equipment_magic_body_weight;
                                    encumbrance.total += user_number.equipment_magic_belt_weight;
                                    encumbrance.total += user_number.equipment_magic_wrist_weight;
                                    encumbrance.total += user_number.equipment_magic_hand_weight;
                                    encumbrance.total += user_number.equipment_magic_finger1_weight;
                                    encumbrance.total += user_number.equipment_magic_finger2_weight;
                                    encumbrance.total += user_number.equipment_magic_foot_weight;
                                }
                                delete(repeating_weapon);
                                delete(repeating_armor);
                                delete(repeating_equipment);

                                // ------------------------------------------
                                // status custom
                                // ------------------------------------------
                                Object.keys(repeating_custom).forEach(id => {
                                    if ( parseNumber(repeating_custom[id][field.custom.switch]) === 1 && isJSON( repeating_custom[id][field.custom.formula] ) ) {
                                        // label
                                        if ( repeating_custom[id][field.custom.switch] !== "" ) cache.resume.push( repeating_custom[id][field.custom.label] );

                                        // format data
                                        let json = JSON.parse(repeating_custom[id][field.custom.formula]);
                                        for ( let prop in json ) {
                                            if ( json.hasOwnProperty(prop) ) json[prop] = parseInt( json[prop] );
                                        }

                                        // character
                                        if (json.hasOwnProperty("hp") && json.hp !== 0 ) status.hit_points += json.hp;
                                        // action
                                        if ( json.hasOwnProperty("act") && json.act === 0 ) status.action = false;
                                        if ( json.hasOwnProperty("afr") && json.afr === 0 ) status.action_full_round = false;
                                        if ( json.hasOwnProperty("sb") && json.sb >= 0 ) status.speed_base = Math.min( status.speed_base, json.sb );
                                        if ( json.hasOwnProperty("stm") && json.stm !== 100 ) status.speed_tactic = Math.min( status.speed_tactic, json.stm/100 );
                                        if ( json.hasOwnProperty("srm") && json.srm !== 4 ) status.speed_run_mode = Math.min( status.speed_run_mode, json.srm );
                                        if ( json.hasOwnProperty("afa") && json.afa !== 0 ) status.arcane_spell_failure += json.afa;
                                        if ( json.hasOwnProperty("att") && json.att === 0 ) status.action_attack = false;
                                        if ( json.hasOwnProperty("ao") && json.ao === 0 ) status.attack_opportunity = false;
                                        if ( json.hasOwnProperty("sa") && json.sa === 1 ) status.target_sneak_attack = true;
                                        if ( json.hasOwnProperty("spe") && json.spe === 0 ) status.action_spell = false;
                                        // attribute
                                        if ( json.hasOwnProperty("str") && json.str !== 0 ) status.strength += json.str;
                                        if ( json.hasOwnProperty("sc")&& json.sc !== 0 ) status.strength_ceiling = Math.min( status.strength_ceiling, json.sc );
                                        if ( json.hasOwnProperty("dex") && json.dex !== 0 ) status.dexterity += json.dex;
                                        if ( json.hasOwnProperty("dc")&& json.dc !== 0 ) status.dexterity_ceiling = Math.min( status.dexterity_ceiling, json.dc );
                                        if ( json.hasOwnProperty("dmc")&& json.dmc !== 0 ) status.dexterity_mod_ceiling = Math.min( status.dexterity_mod_ceiling, json.dmc );
                                        if ( json.hasOwnProperty("con") && json.con !== 0 ) status.constitution += json.con;
                                        if ( json.hasOwnProperty("int") && json.int !== 0 ) status.intelligence += json.int;
                                        if ( json.hasOwnProperty("wis") && json.wis !== 0 ) status.wisdom += json.wis;
                                        if ( json.hasOwnProperty("cha") && json.cha !== 0 ) status.charisma += json.cha;
                                        // battle
                                        if ( json.hasOwnProperty("ini") && json.ini !== 0 ) status.initiative += json.ini;
                                        if ( json.hasOwnProperty("cmb") && json.cmb !== 0) status.combat_maneuver_bonus += json.cmb;
                                        if ( json.hasOwnProperty("ba") && json.ba !== 0 ) status.base_attack += json.ba;
                                        if ( json.hasOwnProperty("dam") && json.dam !== 0 ) status.attack_damage += json.dam;
                                        // magic
                                        if ( json.hasOwnProperty("asf") && json.asf !== 0 ) status.arcane_spell_failure += json.asf;
                                        if ( json.hasOwnProperty("cl") && json.cl !== 0 ) status.caster_level += json.cl;
                                        if ( json.hasOwnProperty("cnc") && json.cnc !== 0  ) status.concentration += json.cnc;
                                        if ( json.hasOwnProperty("hdm") && json.hdm === 1 ) status.half_damage_magic = true;
                                        // defense
                                        if ( json.hasOwnProperty("ref") && json.ref !== 0 ) status.reflex += json.ref;
                                        if ( json.hasOwnProperty("for") && json.for !== 0 ) status.fortitude += json.for;
                                        if ( json.hasOwnProperty("wil") && json.wil !== 0 ) status.willpower += json.wil;
                                        if ( json.hasOwnProperty("acm") && json.acm !== 0 ) status.armor_class_melee += json.acm;
                                        if ( json.hasOwnProperty("acr") && json.acr !== 0 ) status.armor_class_ranged += json.acr;
                                        if ( json.hasOwnProperty("cmd") && json.cmd !== 0 ) status.combat_maneuver_defense += json.cmd;
                                        if ( json.hasOwnProperty("ipa") && json.ipa === 1 ) status.immune_physical_attack = true;
                                        //skill
                                        if ( json.hasOwnProperty("ski") && json.ski !== 0 ) status.skill += json.ski;
                                        if ( json.hasOwnProperty("ski") && json.sp !== 0 ) status.skill_perception += json.sp;
                                        if ( json.hasOwnProperty("sr") && json.sr !== 0 ) status.skill_reactive = json.sr;
                                    }
                                });
                                delete(repeating_custom);

                                // ------------------------------------------
                                // synthesis 1/2
                                // necessary for health
                                // ------------------------------------------
                                health.hit_points += status.hit_points;
                                health.hit_points_ceiling += status.hit_points;
                                health.nonlethal_damage_ceiling += status.hit_points;

                                cache.strength += aging.strength + status.strength;
                                cache.dexterity += aging.dexterity + status.dexterity;
                                cache.constitution += aging.constitution + status.constitution;

                                // ------------------------------------------
                                // action
                                // need "action", "option_unit_speed"
                                // ------------------------------------------
                                // action
                                if ( status.action === false ) {
                                    status.action_spell = false;
                                    status.action_full_round = false;
                                    status.action_attack = false;
                                    status.speed_tactic = 0;
                                    status.speed_run_mode = 0;
                                }

                                // ------------------------------------------
                                // health
                                // ------------------------------------------
                                // need "option_template", "health"
                                // health.status : 0 - healthy / 1 - staggered / 2 - disabled / 3 - unconscious / 4 - dead
                                // need calculated "strength", "dexterity" and "constitution"

                                // hit points
                                if ( cache.constitution === 0 || health.hit_points <= -cache.constitution ) health.status = 4;
                                else if ( health.hit_points <= 0 ) health.status = 3;

                                // nonlethal damage
                                if ( (user_string.option_template === "pc" || user_string.option_template === "npc" ) && user_string.option_health === "standard" && user_number.option_status_nonlethal_damage === 1 ) {
                                    if ( health.nonlethal_damage > health.hit_points_ceiling ) health.status = 4;
                                    else if ( health.nonlethal_damage > health.hit_points ) health.status = Math.max(health.status, 3);
                                    else if ( health.nonlethal_damage !== 0 && health.nonlethal_damage === health.hit_points ) health.status = Math.max(health.status, 1);
                                }

                                // wound threshold
                                if ( user_string.option_health === "standard" && user_number.option_status_wound_threshold === 1 ) {
                                    let current = {
                                        "base" : health.hit_points,
                                        "ceiling": health.hit_points_ceiling,
                                        "ratio" : 0
                                    };
                                    // for the ratio, we need to work with positives values
                                    if ( current.ceiling < current.base ) {
                                        current.ratio = 0;
                                    }
                                    else {
                                        if (current.base < 0) {
                                            current.ceiling += Math.abs(current.base) + 1;
                                            current.base = 1;
                                        }
                                        current.ratio = +formatNumber(current.base / current.ceiling, 0.01);
                                    }

                                    if ( current.ratio <= 0.25 ) {
                                        cache.resume.push(getTranslationByKey("status-wound-threshold-critical"));
                                        status.base_attack -= 3;
                                        status.strength -= 3;
                                        status.dexterity -= 3;
                                        status.constitution -= 3;
                                        status.intelligence -= 3;
                                        status.wisdom -= 3;
                                        status.charisma -= 3;
                                        status.caster_level -= 3;
                                        status.fortitude -= 3;
                                        status.reflex -= 3;
                                        status.willpower -= 3;
                                        status.armor_class_melee -= 3;
                                        status.armor_class_ranged -= 3;
                                        status.skill -= 3;
                                        status.skill_perception -= 3;
                                    }
                                    else if ( current.ratio <= 0.5 ) {
                                        cache.resume.push(getTranslationByKey("status-wound-threshold-wounded"));
                                        status.base_attack -= 2;
                                        status.strength -= 2;
                                        status.dexterity -= 2;
                                        status.constitution -= 2;
                                        status.intelligence -= 2;
                                        status.wisdom -= 2;
                                        status.charisma -= 2;
                                        status.caster_level -= 2;
                                        status.fortitude -= 2;
                                        status.reflex -= 2;
                                        status.willpower -= 2;
                                        status.armor_class_melee -= 2;
                                        status.armor_class_ranged -= 2;
                                        status.skill -= 2;
                                        status.skill_perception -= 2;
                                    }
                                    else if ( current.ratio <= 0.75 ) {
                                        cache.resume.push(getTranslationByKey("status-wound-threshold-grazed"));
                                        status.base_attack -= 1;
                                        status.strength -= 1;
                                        status.dexterity -= 1;
                                        status.constitution -= 1;
                                        status.intelligence -= 1;
                                        status.wisdom -= 1;
                                        status.charisma -= 1;
                                        status.caster_level -= 1;
                                        status.fortitude -= 1;
                                        status.reflex -= 1;
                                        status.willpower -= 1;
                                        status.armor_class_melee -= 1;
                                        status.armor_class_ranged -= 1;
                                        status.skill -= 1;
                                        status.skill_perception -= 1;
                                    }

                                    delete(current);
                                }

                                // health status
                                switch( health.status ) {
                                    case 1: // staggered
                                        cache.resume.push(getTranslationByKey("status-staggered"));
                                        if ( user_number.option_status_condition === 1 ) status.action_full_round = false;
                                        break;

                                    case 2 : // disabled
                                        // void
                                        break;

                                    case 3 : // unconscious
                                        cache.resume.push(getTranslationByKey("status-unconscious"));
                                        if ( user_number.option_status_condition === 1 ) {
                                            status.action = false;
                                            status.strength_ceiling = 0;
                                        }
                                        cache.resume.push(getTranslationByKey("status-helpless"));
                                        if ( user_number.option_status_condition === 1 && user_number.status_condition_helpless !== 1 ) {
                                            status.target_sneak_attack = true;
                                            status.dexterity_ceiling = 0;
                                            status.armor_class_melee += 4;
                                        }
                                        break;

                                    case 4 : // dead
                                        cache.resume.push(getTranslationByKey("status-dead"));
                                        if ( user_number.option_status_condition === 1 ) status.action = false;
                                        break;
                                }

                                // ------------------------------------------
                                // synthesis 2/2
                                // necessary for CMB height, encumbrance
                                // ------------------------------------------
                                cache.strength = Math.min(cache.strength, status.strength_ceiling);
                                cache.dexterity = Math.min(cache.dexterity, status.dexterity_ceiling);

                                cache.strength_mod = Math.floor(cache.strength / 2 - 5);
                                cache.dexterity_mod = Math.min(Math.floor(cache.dexterity / 2 - 5), status.dexterity_mod_ceiling);

                                if ( user_string.option_template === "companion" || user_string.option_template === "pc" ) {
                                    // ------------------------------------------
                                    // caster level corrected
                                    // need calculated "caster_level"
                                    // ------------------------------------------
                                    cache.caster_level_corrected = Math.max(user_number.caster_level_rank + user_number.caster_level_miscellaneous + user_number.caster_level_temporary + status.caster_level, 0);

                                    // ------------------------------------------
                                    // CMB height
                                    // need calculated "dexterity_mod"
                                    // ------------------------------------------
                                    switch (user_number.character_creature_size_select) {
                                        case 8: // fine
                                        case 4: // diminutive
                                        case 2: // tiny
                                            cache.combat_maneuver_bonus_creature_size = cache.dexterity_mod;
                                            break;

                                        default: // small, medium, large, huge, gargantuan, colossal
                                            cache.combat_maneuver_bonus_creature_size = cache.strength_mod;
                                            break;
                                    }


                                    // ------------------------------------------
                                    // encumbrance + armor class dodge bonus
                                    // need calculated "strength",
                                    // need "speed_tactic", "armor_penalty", "dexterity_ceiling", "status.ac_dexterity_ceiling", "cache.armor_class_mod_dodge"

                                    // ------------------------------------------
                                    // pathfinder data are badly rounded, in remplacement  :
                                    // light = max / 3
                                    // medium = max * 2 / 3
                                    // Strength in [0;10] : encumbrance = 5 x Strength
                                    // Strength in ]10; Infinity[ : encumbrance = 24.9087 e^( 0.1386 x Strength )

                                    // encumbrance max
                                    if (cache.strength < 11) {
                                        encumbrance.charge_heavy = 10 * cache.strength;
                                    }
                                    else {
                                        encumbrance.charge_heavy = Math.round(24.9087 * Math.exp(0.1386 * cache.strength));
                                    }
                                    if (user_number.option_unit_weight === 1) encumbrance.charge_heavy = convertUnit(encumbrance.charge_heavy, "lb2kg");

                                    // encumbrance max + height & stance
                                    encumbrance.charge_heavy *= local.encumbrance_mode[user_number.character_creature_size_select][user_number.character_stance];

                                    //  overcharge
                                    if (encumbrance.charge_heavy === 0) {
                                        encumbrance.total = 0;
                                        encumbrance.total_percent = 0;
                                        encumbrance.charge_light = 0;
                                        encumbrance.charge_medium = 0;
                                        encumbrance.charge_heavy = 0;
                                        encumbrance.type = 1;
                                    }
                                    else {
                                        encumbrance.total_percent = encumbrance.total / encumbrance.charge_heavy;

                                        // values need to be rounded now for value consistency
                                        encumbrance.total = +formatNumber(encumbrance.total, 0.01);
                                        encumbrance.charge_light = +formatNumber(encumbrance.charge_heavy / 3, 0.01);
                                        encumbrance.charge_medium = +formatNumber(encumbrance.charge_heavy * 2 / 3, 0.01);
                                        encumbrance.charge_heavy = +formatNumber(encumbrance.charge_heavy, 0.01);

                                        if (encumbrance.total <= encumbrance.charge_light) { // light charge
                                            // void
                                        }
                                        else if (encumbrance.total <= encumbrance.charge_medium) { // medium charge
                                            cache.resume.push(getTranslationByKey("status-charge"));
                                            if (encumbrance.total_percent < 0.34) encumbrance.total_percent = 0.34; // for progress bar consistency
                                            if (user_number.option_status_encumbrance === 1) {
                                                encumbrance.armor_penalty = Math.min(-3, encumbrance.armor_penalty);
                                                encumbrance.armor_penalty_proficiency = Math.min(-3, encumbrance.armor_penalty_proficiency);
                                                encumbrance.dexterity_ceiling = Math.min(3, encumbrance.dexterity_ceiling);
                                                status.speed_tactic = Math.min(2 / 3, status.speed_tactic);
                                            }

                                        }
                                        else if (encumbrance.total <= encumbrance.charge_heavy) {  // heavy charge
                                            cache.resume.push(getTranslationByKey("status-charge"));
                                            if (encumbrance.total_percent < 0.68) encumbrance.total_percent = 0.68; // for progress bar consistency
                                            if (user_number.option_status_encumbrance === 1) {
                                                encumbrance.armor_penalty = Math.min(-6, encumbrance.armor_penalty);
                                                encumbrance.armor_penalty_proficiency = Math.min(-6, encumbrance.armor_penalty_proficiency);
                                                encumbrance.dexterity_ceiling = Math.min(1, encumbrance.dexterity_ceiling);
                                                status.speed_run_mode = Math.min(3, status.speed_run_mode);
                                                status.speed_tactic = Math.min(2 / 3, status.speed_tactic);
                                            }
                                        }
                                        else { // overcharge
                                            cache.resume.push(getTranslationByKey("status-overcharge"));
                                            encumbrance.total_percent = 1; // for progress bar consistency
                                            if (user_number.option_status_encumbrance === 1) {
                                                encumbrance.armor_penalty = Math.min(-6, encumbrance.armor_penalty);
                                                encumbrance.armor_penalty_proficiency = Math.min(-6, encumbrance.armor_penalty_proficiency);
                                                encumbrance.dexterity_ceiling = Math.min(1, encumbrance.dexterity_ceiling);
                                                status.speed_run_mode = 0;
                                                status.speed_tactic = 0;
                                            }
                                        }
                                    }
                                    status.speed_run_mode *= cache.speed_run_multiplier;

                                    status.ac_dexterity_ceiling = Math.min(status.ac_dexterity_ceiling, encumbrance.dexterity_ceiling);
                                    if (status.ac_dexterity_ceiling === 0) {
                                        cache.armor_class_mod_dodge = 0;
                                        status.armor_class_dodge = Math.min(status.armor_class_dodge, 0);
                                    }
                                }

                                // ------------------------------------------
                                // status effects
                                // ------------------------------------------
                                // health
                                if ( status.hit_points !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-hit-points"), status.hit_points));

                                // action
                                if ( status.action === false ) {
                                    cache.effect.push(getTranslationByKey("status-effect-action-none"));
                                }
                                else {
                                    if ( status.action_full_round === false) cache.effect.push(getTranslationByKey("status-effect-action-full-round-none"));
                                    if ( status.speed_base === 0 ||  status.speed_tactic === 0 ) {
                                        cache.effect.push(getTranslationByKey("status-effect-action-no-speed"));
                                    }
                                    else {
                                        if ( status.speed_base !== cache.speed_base ) cache.effect.push(getTranslationByKey("status-effect-action-speed-base").replace("%s", status.speed_base ).replace("%u", cache.unit_speed));
                                        if ( status.speed_tactic !== 1 ) cache.effect.push(getTranslationByKey("status-effect-action-speed").replace("%s", formatNumber(status.speed_tactic*100, 0.01, cache.unit_decimal, cache.unit_thousand) ) );
                                        if ( status.speed_run_mode === 0 ) {
                                            cache.effect.push(getTranslationByKey("status-effect-action-no-run"));
                                        }
                                        else if ( status.speed_run_mode !== 4 ) {
                                            cache.effect.push(getTranslationByKey("status-effect-action-run").replace("%s", status.speed_run_mode));
                                        }
                                    }
                                    if ( status.rush === false ) cache.effect.push(getTranslationByKey("status-effect-rush"));
                                }
                                if ( status.attack_failure > 0) cache.effect.push(getTranslationByKey("status-effect-attack-failure").replace("%s", status.attack_failure));
                                if ( status.confused === true ) cache.effect.push(getTranslationByKey("status-effect-confused"));
                                if ( status.deafened === true ) cache.effect.push(getTranslationByKey("status-effect-skill-perception-deafened"));
                                if ( status.grappled === true ) cache.effect.push(getTranslationByKey("status-effect-no-action-both-hands"));
                                if ( status.attack_opportunity === false ) cache.effect.push(getTranslationByKey("status-effect-no-attack-of-opportunity"));
                                if ( status.dropped_out_hands === true  ) cache.effect.push(getTranslationByKey("status-effect-dropped-out-hands"));

                                // attribute
                                let current = {
                                    "strength" : aging.strength + status.strength,
                                    "dexterity" : aging.strength + status.dexterity,
                                    "constitution" : aging.constitution + status.constitution,
                                    "intelligence" : aging.intelligence + status.intelligence,
                                    "wisdom" : aging.wisdom + status.wisdom,
                                    "charisma" : aging.charisma + status.charisma
                                };
                                if ( current.strength !== 0 && current.strength === current.dexterity && current.strength === current.constitution && current.strength === current.intelligence && current.strength === current.wisdom && current.strength === current.charisma ) {
                                    cache.effect.push(attributeModifier(getTranslationByKey("status-effect-attribute"), status.strength));
                                }
                                else {
                                    if ( current.strength !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-strength"), current.strength));
                                    if ( current.dexterity !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-dexterity"), current.dexterity));
                                    if ( current.constitution !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-constitution"), current.constitution));
                                    if ( current.intelligence !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-intelligence"), current.intelligence));
                                    if ( current.wisdom !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-wisdom"), current.wisdom));
                                    if ( current.charisma !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-charisma"), current.charisma));
                                }
                                delete(current);
                                if ( status.strength_ceiling !== Infinity ) cache.effect.push(getTranslationByKey("status-effect-strength-ceiling").replace("%s", status.strength_ceiling));
                                if ( status.dexterity_ceiling !== Infinity ) cache.effect.push(getTranslationByKey("status-effect-dexterity-ceiling").replace("%s", status.dexterity_ceiling));
                                if ( status.dexterity_mod_ceiling !== Infinity ) cache.effect.push(getTranslationByKey("status-effect-dexterity-mod-ceiling").replace("%s", status.dexterity_mod_ceiling));

                                // battle
                                if ( status.action === true ) {
                                    if ( status.action_attack === false ) {
                                        cache.effect.push(getTranslationByKey("status-effect-attack-none"));
                                    }
                                    else {
                                        if ( status.base_attack !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-base-attack"), status.base_attack));
                                        if ( status.attack_damage !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-attack-damage"), status.attack_damage));
                                    }
                                }
                                if ( status.combat_maneuver_bonus !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-combat-maneuver-bonus"), status.combat_maneuver_bonus));
                                if ( status.initiative !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-initiative"), status.initiative));
                                if ( status.target_sneak_attack === true ) cache.effect.push(getTranslationByKey("defense-status-target-sneak-attack"));

                                // spell
                                if ( status.action === true ) {
                                    if ( status.action_spell === false ) {
                                        cache.effect.push(getTranslationByKey("status-effect-action-spell-none"));
                                    }
                                    else {
                                        if ( status.concentration !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-concentration-difficulty-class"), status.concentration));
                                    }
                                    if ( status.caster_level !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-caster-level"), status.caster_level));
                                    if ( status.arcane_spell_failure !== 0) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-arcane-spell-failure"), status.arcane_spell_failure));
                                    if ( status.spell_no_somatic_material === true ) cache.effect.push(getTranslationByKey("status-effect-spell-no-somatic-and-material"));
                                    if ( status.spell_verbal !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-spell-verbal"), status.spell_verbal));
                                }

                                // save
                                if ( status.fortitude !== 0 && status.fortitude === status.reflex && status.fortitude === status.willpower ) {
                                    cache.effect.push(attributeModifier(getTranslationByKey("status-effect-save"), status.reflex));
                                }
                                else {
                                    if ( status.fortitude !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-save-fortitude"), status.fortitude));
                                    if ( status.reflex !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-save-reflex"), status.reflex));
                                    if ( status.willpower !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-save-willpower"), status.willpower));
                                }

                                // armor class
                                if ( status.armor_class_melee !== 0 && status.armor_class_melee === status.armor_class_ranged ) {
                                    cache.effect.push(attributeModifier(getTranslationByKey("status-effect-armor-class"), status.armor_class_melee));
                                }
                                else {
                                    if ( status.armor_class_melee !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-armor-class-melee"), status.armor_class_melee));
                                    if ( status.armor_class_ranged !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-armor-class-ranged"), status.armor_class_ranged));
                                }
                                if ( status.armor_class_dodge !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-armor-class-dodge"), status.armor_class_dodge));
                                if ( status.ac_dexterity_ceiling === 0 && status.dexterity_mod_ceiling > 0 ) cache.effect.push(getTranslationByKey("status-effect-armor-class-dexterity-bonus-none"));

                                // combat maneuver bonus
                                if ( status.combat_maneuver_defense !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-combat-maneuver-defense"), status.combat_maneuver_defense));

                                // defense
                                if ( status.immune_physical_attack === true ) cache.effect.push(getTranslationByKey("status-effect-immune-physical-attack"));
                                if ( status.half_damage_magic === true ) cache.effect.push(getTranslationByKey("status-effect-half-damage-magic"));

                                // skill
                                if ( status.skill !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-skill"), status.skill));
                                if ( status.skill_loose_sight === true ) cache.effect.push(getTranslationByKey("status-effect-skill-sight"));
                                if ( status.skill_perception !== 0 && status.skill !== status.skill_perception ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-skill-perception"), status.skill_perception));
                                if ( status.skill_acrobatics !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-skill-acrobatics"), status.skill_acrobatics));
                                if ( status.skill_reactive !== 0 ) cache.effect.push(attributeModifier(getTranslationByKey("status-effect-skill-reactive"), status.skill_reactive));

                                // encumbrance
                                if ( user_number.option_status_encumbrance === 1 ) {
                                    if ( encumbrance.armor_penalty !== 0 ) {
                                        cache.effect.push(getTranslationByKey("status-effect-encumbrance-roll").replace("%s", encumbrance.armor_penalty));
                                    }
                                    if ( encumbrance.dexterity_ceiling !== Infinity ) {
                                        cache.effect.push(getTranslationByKey("status-effect-encumbrance-armor-class-dexterity-ceiling").replace("%s", encumbrance.dexterity_ceiling));
                                    }
                                    if ( encumbrance.armor_penalty_proficiency !== 0 ) {
                                        cache.effect.push(getTranslationByKey("status-effect-armor-proficiency").replace("%s", encumbrance.armor_penalty_proficiency));
                                    }
                                }

                                // order string
                                if ( cache.effect.length === 0 ) cache.effect.push(getTranslationByKey("status-effect-ok"));

                                // ------------------------------------------
                                // alert
                                // ------------------------------------------
                                if ( user_number.option_status_aging === 0 ) cache.effect.push( getTranslationByKey("status-active-aging-alert") );
                                if ( user_number.option_status_armor_penalty === 0 ) cache.effect.push( getTranslationByKey("status-active-armor-penalty-alert") );
                                if ( user_number.option_status_class === 0 ) cache.effect.push( getTranslationByKey("status-active-class-alert") );
                                if ( user_number.option_status_condition === 0 ) cache.effect.push( getTranslationByKey("status-active-condition-alert") );
                                if ( user_number.option_status_encumbrance === 0 ) cache.effect.push( getTranslationByKey("status-active-encumbrance-alert") );
                                if ( user_string.option_health === "standard" ) {
                                    if (user_number.option_status_nonlethal_damage === 0) cache.effect.push(getTranslationByKey("status-active-nonlethal-damage-alert"));
                                    if (user_number.option_status_wound_threshold === 0) cache.effect.push(getTranslationByKey("status-active-wound-threshold-alert"));
                                }

                                // ------------------------------------------
                                // status attack
                                // ------------------------------------------
                                if ( status.action_attack === false ) {
                                    cache.effect_attack.push(getTranslationByKey("battle-status-none"));
                                }
                                else {
                                    if ( status.attack_failure > 0 ) cache.effect_attack.push( getTranslationByKey("battle-status-failure").replace("%s", status.attack_failure));
                                    if ( status.rush === false ) cache.effect_attack.push(getTranslationByKey("battle-status-rush"));
                                    if ( status.target_flat_footed === true ) cache.effect_attack.push(getTranslationByKey("battle-status-target-flat-footed"));
                                    if ( status.attack_opportunity === false ) cache.effect_attack.push(getTranslationByKey("battle-status-no-attack-of-opportunity"));
                                }
                                if ( status.dropped_out_hands === true ) cache.effect_attack.push(getTranslationByKey("inventory-effect-dropped-out-hands"));

                                // ------------------------------------------
                                // status spell
                                // ------------------------------------------
                                if ( status.action_spell === false ) {
                                    cache.effect_spell.push(getTranslationByKey("spell-status-none"));
                                }
                                else {
                                    if ( status.spell_no_somatic_material === true ) cache.effect_spell.push(getTranslationByKey("spell-status-somatic-and-material"));
                                    if ( status.spell_verbal !== 0 ) cache.effect_spell.push(getTranslationByKey("spell-status-verbal").replace("%s", status.spell_verbal));
                                }

                                // ------------------------------------------
                                // status defense
                                // ------------------------------------------
                                if ( status.immune_physical_attack === true ) cache.effect_defense.push(getTranslationByKey("defense-status-immune-physical-attack"));
                                if ( status.invisible === true ) cache.effect_defense.push(getTranslationByKey("defense-status-invisible"));
                                if ( status.half_damage_magic === true ) cache.effect_defense.push(getTranslationByKey("defense-status-half-dammage-magic"));
                                if ( status.target_sneak_attack === true ) cache.effect_defense.push(getTranslationByKey("defense-status-target-sneak-attack"));
                                if ( status.dropped_out_hands === true ) cache.effect_defense.push(getTranslationByKey("inventory-effect-dropped-out-hands"));

                                // ------------------------------------------
                                // status skill
                                // ------------------------------------------
                                if ( status.deafened === true ) cache.effect_skill.push( getTranslationByKey("skill-status-perception-deafened") );
                                if ( status.skill_loose_sight === true ) cache.effect_skill.push( getTranslationByKey("skill-status-sight") );
                                if ( status.skill_reactive !== 0 ) cache.effect_skill.push( attributeModifier(getTranslationByKey("skill-status-reactive"), status.skill_reactive) );
                                if ( status.barbarian_rage === true ) cache.effect_skill.push( getTranslationByKey("skill-status-rage") );

                                // ------------------------------------------
                                // inventory
                                // ------------------------------------------
                                if ( status.dropped_out_hands === true ) cache.effect_inventory.push(getTranslationByKey("inventory-effect-dropped-out-hands"));

                                // ------------------------------------------

                                // order string
                                cache.resume = sortLocale(cache.resume);

                                // prepare payload
                                let payload = {};

                                payload["health_hit_points"] = health.hit_points;
                                payload["health_hit_points_max"] = health.hit_points_ceiling;
                                payload["health_nonlethal_damage"] = health.nonlethal_damage;
                                payload["health_nonlethal_damage_max"] = health.nonlethal_damage_ceiling;

                                payload["health_wound_points"] = health.wound_points;
                                payload["health_wound_points_max"] = health.wound_points_ceiling;
                                payload["health_vigor"] = health.vigor;
                                payload["health_vigor_max"] = health.vigor_ceiling;

                                payload["status"] = cache.resume.join(", ");
                                payload["status_effect"] = cache.effect.join("\n");
                                payload["attack_status_alert"] = ( cache.effect_attack.length > 0 ? cache.effect_attack.join(" ") : " " );
                                payload["spell_status_alert"] = ( cache.effect_spell.length > 0 ? cache.effect_spell.join(" ") : " " );
                                payload["defense_status_alert"] = ( cache.effect_defense.length > 0 ? cache.effect_defense.join(" ") : " " );
                                payload["skill_status_alert"] = ( cache.effect_skill.length > 0 ? cache.effect_skill.join(" ") : " " );
                                payload["inventory_status_alert"] = ( cache.effect_inventory.length > 0 ? cache.effect_inventory.join(" ") : " " );

                                payload["foo_status_hit_points"] = status.hit_points;
                                payload["foo_status_caster_level"] = status.caster_level;
                                payload["foo_status_arcane_spell_failure"] = status.arcane_spell_failure;
                                payload["foo_character_strength_total_alert"] = ( status.strength_ceiling !== Infinity ? "show" : "hide" );
                                payload["foo_status_strength"] = status.strength;
                                payload["foo_status_dexterity"] = status.dexterity;
                                payload["foo_character_dexterity_total_alert"] = ( status.dexterity_ceiling !== Infinity ? "show" : "hide" );
                                payload["foo_character_dexterity_mod_alert"] = ( status.dexterity_mod_ceiling !== Infinity ? "show" : "hide" );
                                payload["foo_status_dexterity_flatfooted"] = Math.min(status.ac_dexterity_ceiling, ( cache.dexterity_mod > 0 ? 0 : cache.dexterity_mod ) );
                                payload["foo_status_constitution"] = status.constitution;
                                payload["foo_status_intelligence"] = status.intelligence;
                                payload["foo_status_wisdom"] = status.wisdom;
                                payload["foo_status_charisma"] = status.charisma;
                                payload["foo_base_attack"] = status.base_attack;
                                payload["foo_status_attack_damage"] = status.attack_damage;
                                payload["foo_status_combat_maneuver_bonus"] = status.combat_maneuver_bonus;
                                payload["foo_status_initiative"] = status.initiative;
                                payload["foo_status_spell_verbal"] = status.spell_verbal;
                                payload["foo_status_concentration"] = status.concentration;

                                payload["foo_status_fortitude"] = status.fortitude;
                                payload["foo_status_reflex"] = status.reflex;
                                payload["foo_status_willpower"] = status.willpower;

                                payload["foo_status_armor_class_melee"] = status.armor_class_melee;
                                payload["foo_status_armor_class_ranged"] = status.armor_class_ranged;
                                payload["foo_status_armor_class_dodge"] = status.armor_class_dodge;
                                payload["foo_armor_class_mod_dodge"] = cache.armor_class_mod_dodge;
                                payload["foo_status_combat_maneuver_defense"] = status.combat_maneuver_defense;
                                payload["foo_status_skill"] = status.skill;
                                payload["foo_status_skill_perception"] = status.skill_perception;

                                if ( user_string.option_template === "companion" || user_string.option_template === "pc" ) { // companion / pc
                                    payload["foo_character_strength_total"] = cache.strength;
                                    payload["foo_character_strength_mod"] = cache.strength_mod;
                                    payload["foo_character_dexterity_total"] = cache.dexterity;
                                    payload["foo_character_dexterity_mod"] = cache.dexterity_mod;
                                }
                                else { // npc
                                    payload["foo_npc_character_strength_total"] = cache.strength;
                                    payload["foo_npc_character_strength_mod"] = cache.strength_mod;
                                    payload["foo_npc_character_dexterity_total"] = cache.dexterity;
                                    payload["foo_npc_character_dexterity_mod"] = cache.dexterity_mod;
                                }
                                payload["character_aging_label"] = aging.label;
                                payload["foo_character_aging_strength"] = aging.strength;
                                payload["foo_character_aging_dexterity"] = aging.dexterity;
                                payload["foo_character_aging_constitution"] = aging.constitution;
                                payload["foo_character_aging_intelligence"] = aging.intelligence;
                                payload["foo_character_aging_wisdom"] = aging.wisdom;
                                payload["foo_character_aging_charisma"] = aging.charisma;
                                payload["character_speed_tactic"] = formatNumber(status.speed_tactic * status.speed_base, 0.5, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_speed;
                                payload["character_speed_run_mode"] = formatNumber(status.speed_run_mode * status.speed_tactic * status.speed_base, 0.5, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_speed;
                                payload["character_speed_swim"] = formatNumber(status.speed_tactic * status.speed_base / 4, 0.5, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_speed;
                                payload["character_speed_climb"] = formatNumber(status.speed_tactic * status.speed_base/ 4, 0.5, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_speed;
                                payload["character_speed_lift"] = formatNumber(encumbrance.charge_heavy, 0.1, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_weight;
                                payload["character_speed_pull"] = formatNumber(5 * encumbrance.charge_heavy, 0.1, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_weight;

                                payload["foo_combat_maneuver_bonus_creature_size"] = cache.combat_maneuver_bonus_creature_size;

                                payload["foo_caster_level_total_corrected"] = cache.caster_level_corrected;

                                payload["foo_armor_class_dexterity"] = Math.min(cache.dexterity_mod, status.ac_dexterity_ceiling);
                                payload["foo_armor_class_dexterity_alert"] = ( status.ac_dexterity_ceiling !== Infinity && cache.dexterity_mod >= 0 ? "show" : "hide" );
                                payload["foo_combat_maneuver_defense_alert"] = ( status.ac_dexterity_ceiling !== Infinity && cache.dexterity_mod >= 0 ? "show" : "hide" );

                                payload["equipment_encumbrance_total"] = formatNumber(encumbrance.total, 0.01, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_weight;
                                payload["equipment_encumbrance_charge_percent"] = ( encumbrance.total_percent > 1 ? 1 : +formatNumber(encumbrance.total_percent, 0.01) );
                                payload["equipment_encumbrance_charge_light"] = formatNumber(encumbrance.charge_light, 0.01, cache.unit_decimal, cache.unit_thousand)  + " " + cache.unit_weight;
                                payload["equipment_encumbrance_charge_medium"] = formatNumber(encumbrance.charge_medium, 0.01, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_weight;
                                payload["equipment_encumbrance_charge_heavy"] = formatNumber(encumbrance.charge_heavy, 0.01, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_weight;

                                payload["foo_status_encumbrance"] = encumbrance.armor_penalty;
                                payload["foo_status_encumbrance_proficiency"] = encumbrance.armor_penalty_proficiency;
                                cache.armor_proficiency = [];

                                if ( user_number.armor_proficiency_light === 1 ) cache.armor_proficiency.push(getTranslationByKey("armor-proficiency-light"));
                                if ( user_number.armor_proficiency_medium === 1 ) cache.armor_proficiency.push(getTranslationByKey("armor-proficiency-medium"));
                                if ( user_number.armor_proficiency_heavy === 1 ) cache.armor_proficiency.push(getTranslationByKey("armor-proficiency-heavy"));
                                if ( user_number.armor_proficiency_shield === 1 ) cache.armor_proficiency.push(getTranslationByKey("armor-proficiency-shield"));
                                if ( user_number.armor_proficiency_shield_tower === 1 ) cache.armor_proficiency.push(getTranslationByKey("equipment-shield-tower"));
                                if ( cache.armor_proficiency.length === 0 ) cache.armor_proficiency.push(getTranslationByKey("equipment-proficiency-none"));
                                payload["armor_proficiency_resume"] = cache.armor_proficiency.join(", ");

                                payload["equipment_encumbrance_dexterity_ceiling"] = ( encumbrance.dexterity_ceiling === Infinity ? getTranslationByKey("no-limit") : encumbrance.dexterity_ceiling.toString());

                                delete(cache);
                                delete(user_number);

                                // send payload
                                setAttrs(payload);
                            });
                        });
                    });
                }, false);
            });
        });
    }

    // ------------------------------------------
    // character
    // ------------------------------------------
    // spoken languages
    on(
        "change:language_common change:language_draconic change:language_dwarven change:language_elven change:language_gnomish change:language_goblin change:language_halfling change:language_jotun change:language_orcish change:language_sylvan change:language_undercommon"
        + " change:language_abyssal change:language_aklo change:language_aquan change:language_auran change:language_celestial change:language_gnoll change:language_ignan change:language_infernal change:language_necril change:language_shadowtongue change:language_terran"
        + " change:language_druidic"
        + " change:language_other"
        , character_spoken_language );
    function character_spoken_language() {
        getAttrsNumber([
            "language_common", "language_draconic", "language_dwarven", "language_elven", "language_gnomish", "language_goblin", "language_halfling", "language_jotun", "language_orcish", "language_sylvan", "language_undercommon",
            "language_abyssal", "language_aklo", "language_aquan", "language_auran", "language_celestial", "language_gnoll", "language_ignan", "language_infernal", "language_necril", "language_shadowtongue", "language_terran",
            "language_druidic",
            "language_other"
        ], (user_number) => {
            getAttrs([
                "language_other"
            ], (user_string) => {
                let languages = [];
                // common languages
                if (user_number.language_common === 1) languages.push(getTranslationByKey("language-common"));
                if (user_number.language_draconic === 1) languages.push(getTranslationByKey("language-draconic"));
                if (user_number.language_dwarven === 1) languages.push(getTranslationByKey("language-dwarven"));
                if (user_number.language_elven === 1) languages.push(getTranslationByKey("language-elven"));
                if (user_number.language_gnomish === 1) languages.push(getTranslationByKey("language-gnomish"));
                if (user_number.language_goblin === 1) languages.push(getTranslationByKey("language-goblin"));
                if (user_number.language_halfling === 1) languages.push(getTranslationByKey("language-halfling"));
                if (user_number.language_jotun === 1) languages.push(getTranslationByKey("language-jotun"));
                if (user_number.language_orcish === 1) languages.push(getTranslationByKey("language-orcish"));
                if (user_number.language_sylvan === 1) languages.push(getTranslationByKey("language-sylvan"));
                if (user_number.language_undercommon === 1) languages.push(getTranslationByKey("language-undercommon"));

                // rare languages
                if (user_number.language_abyssal === 1) languages.push(getTranslationByKey("language-abyssal"));
                if (user_number.language_aklo === 1) languages.push(getTranslationByKey("language-aklo"));
                if (user_number.language_aquan === 1) languages.push(getTranslationByKey("language-aquan"));
                if (user_number.language_auran === 1) languages.push(getTranslationByKey("language-auran"));
                if (user_number.language_celestial === 1) languages.push(getTranslationByKey("language-celestial"));
                if (user_number.language_gnoll === 1) languages.push(getTranslationByKey("language-gnoll"));
                if (user_number.language_ignan === 1) languages.push(getTranslationByKey("language-ignan"));
                if (user_number.language_infernal === 1) languages.push(getTranslationByKey("language-infernal"));
                if (user_number.language_necril === 1) languages.push(getTranslationByKey("language-necril"));
                if (user_number.language_shadowtongue === 1) languages.push(getTranslationByKey("language-shadowtongue"));
                if (user_number.language_terran === 1) languages.push(getTranslationByKey("language-terran"));

                // secrets languages
                if (user_number.language_druidic === 1) languages.push(getTranslationByKey("language-druidic"));

                // user languages
                if (user_string.language_other !== "") languages.push(user_string.language_other);

                // sum
                if (languages.length === 0) languages.push(getTranslationByKey("language-none"));
                languages = sortLocale(languages);

                // prepare payload
                let payload = {};
                payload["language"] = languages.join(", ");
                delete(user_number);
                delete(user_string);

                // send payload
                setAttrs(payload);
            });
        });
    }

    // character weight + character race
    on(
        "change:option_unit_decimal change:option_unit_thousand change:option_unit_height change:option_unit_weight"
        + " change:character_race change:character_sex"
        + " change:character_height_mod change:character_weight_mod"
        , character_height_weight );
    function character_height_weight() {
        getAttrsNumber([
            "option_unit_decimal", "option_unit_thousand", "option_unit_height", "option_unit_weight",
            "character_race", "character_sex",
            "character_height_mod", "character_weight_mod"
        ], (user) => {
            let cache = {
                "offset" : 0,
                "height" : 0,
                "height_total": 0,
                "type": "",
                "subtype": "",
                "weight": 0,
                "weight_total": 0,
                "unit_decimal": ".",
                "unit_thousand": ",",
                "unit_height": "",
                "unit_weight": ""
            };

            let payload = {};

            if ( user.character_race > 0 ) {
                cache.offset = ( user.character_sex === 1 ? 2 : 0 );

                switch( local.race[user.character_race][0] ) {
                    case 1: cache.type = "humanoid"; break;
                    case 2: cache.type = "outside"; break;
                }
                switch( local.race[user.character_race][1] ) {
                    case 1: cache.subtype = "dwarf"; break;
                    case 2: cache.subtype = "elf"; break;
                    case 3: cache.subtype = "gnome"; break;
                    case 4: cache.subtype = "halfing"; break;
                    case 5: cache.subtype = "human"; break;
                    case 6: cache.subtype = "orc"; break;
                    case 7: cache.subtype = "catfolk"; break;
                    case 8: cache.subtype = "dhampir"; break;
                    case 9: cache.subtype = "goblinoid"; break;
                    case 10: cache.subtype = "native"; break;
                    case 11: cache.subtype = "ratfolk"; break;
                    case 12: cache.subtype = "reptile"; break;
                    case 13: cache.subtype = "tengu"; break;
                    case 14: cache.subtype = "aquatic"; break;
                    case 15: cache.subtype = "changeling"; break;
                    case 16: cache.subtype = "grippli"; break;
                    case 17: cache.subtype = "metamorph"; break;
                    case 18: cache.subtype = "samsaran"; break;
                    case 19: cache.subtype = "strix"; break;
                    case 20: cache.subtype = "vanara"; break;
                    case 21: cache.subtype = "vishkanya"; break;
                    case 22: cache.subtype = "wayang"; break;
                }
                cache.height = local.race[user.character_race][2+cache.offset];
                cache.height_total = cache.height + user.character_height_mod;
                cache.weight_mod_mode = local.race[user.character_race][6];
                cache.weight = local.race[user.character_race][3+cache.offset];
                cache.weight_total = cache.weight + user.character_weight_mod * cache.weight_mod_mode;

                // unit
                switch(user.option_unit_decimal) {
                    case 1 : // comma
                        cache.unit_decimal = ",";
                        break;

                    case 2 : // dot
                        cache.unit_decimal = ".";
                        break;

                    case 3 : // momayyez
                        cache.unit_decimal = "";
                        break;
                }

                switch(user.option_unit_thousand) {
                    case 1 : // comma
                        cache.unit_thousand = ",";
                        break;

                    case 2 : // space
                        cache.unit_thousand = " ";
                        break;
                }

                // prepare payload
                switch(user.option_unit_height) {
                    case 1: // feet
                        cache.height = convertUnit(cache.height, "in2ft");
                        cache.height_total = convertUnit(cache.height_total, "in2ft");
                        cache.unit_height = getTranslationByKey("option-unit-feet-short");
                        break;

                    case 2: // meter
                        cache.height = convertUnit(cache.height, "in2m");
                        cache.height_total = convertUnit(cache.height_total, "in2m");
                        cache.unit_height = getTranslationByKey("option-unit-meter-short");
                        break;
                }

                switch(user.option_unit_weight) {
                    case 1: // kilogram
                        cache.weight = convertUnit(cache.weight, "lb2kg");
                        cache.weight_total = convertUnit(cache.weight_total, "lb2kg");
                        cache.unit_weight = getTranslationByKey("option-unit-kilogram-short");
                        break;

                    case 2: // pound
                        cache.unit_weight = getTranslationByKey("option-unit-pound-short");
                        break;
                }

                payload["character_type"] = getTranslationByKey("character-type-"+cache.type);
                payload["character_subtype"] = getTranslationByKey("character-subtype-"+cache.subtype);
                payload["character_height_base"] = formatNumber(cache.height, 0.01, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_height;
                payload["character_height_total"] = formatNumber(cache.height_total, 0.01, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_height;
                payload["character_weight_mod_mode"] = formatNumber(cache.weight_mod_mode, 0.1, cache.unit_decimal, cache.unit_thousand);
                payload["character_weight_base"] = formatNumber(cache.weight, 0.1, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_weight;
                payload["character_weight_total"] =  formatNumber(cache.weight_total, 0.1, cache.unit_decimal, cache.unit_thousand) + " " + cache.unit_weight;
            }
            else {
                payload["character_type"] = "";
                payload["character_subtype"] = "";
                payload["character_height_base"] = "";
                payload["character_height_total"] = "";
                payload["character_weight_mod_mode"] = "";
                payload["character_weight_base"] = "";
                payload["character_weight_total"] = "";
            }

            payload["character_race_toggle"] = ( user.character_race === 0 ? "show": "hide" );

            delete(user);
            delete(cache);

            // send payload
            setAttrs(payload);
        });
    }

    // ------------------------------------------
    // companion
    // ------------------------------------------
    // companion race
    on( "change:companion_race", companion_race );
    function companion_race() {
        getAttrsNumber(["companion_race"], (user) => {
            // prepare payload
            let payload = {};
            payload["companion_race_toggle"] = ( user.companion_race === 0 ? "show": "hide" );

            delete(user);

            // send payload
            setAttrs(payload);
        });
    }

    // ------------------------------------------
    // specialization
    // ------------------------------------------
    // weapon proficiency
    on( "change:weapon_proficiency_simple change:weapon_proficiency_martial change:weapon_proficiency_exotic", specialization_weapon_proficiency );
    function specialization_weapon_proficiency() {
        getAttrsNumber([
            "weapon_proficiency_simple", "weapon_proficiency_martial", "weapon_proficiency_exotic"
        ], (user) => {
            let type = [];
            if ( user.weapon_proficiency_simple === 1 ) type.push(getTranslationByKey("weapon-proficiency-simple"));
            if ( user.weapon_proficiency_martial === 1 ) type.push(getTranslationByKey("weapon-proficiency-martial"));
            if ( user.weapon_proficiency_exotic === 1 ) type.push(getTranslationByKey("weapon-proficiency-exotic"));

            // concate
            if ( type.length === 0 ) type.push(getTranslationByKey("equipment-proficiency-none"));
            //type = sortLocale(type);

            // prepare payload
            let payload = {};
            payload["weapon_proficiency_resume"] = type.join(", ");
            delete(weapon_proficiency_simple);

            // send payload
            setAttrs(payload);
        });
    }

    // class name
    on( "change:repeating_class:class_name", class_name_repeating );
    function class_name_repeating(e) {
        // format "repeating_class_-LrcL2qT7lhjZ6BZrble_class_name"
        let source = e.sourceAttribute.replace(/class_name/, '');

        let payload = {};
        switch(+e.newValue) {
            case 0: // other
                payload[source+"class_toggle"] = "show";
                break;

            default:
                payload[source+"class_toggle"] = "hide";
                break;
        }

        // send payload
        setAttrs(payload);
    }

    // class + experience
    on(
        "change:option_unit_decimal change:option_unit_thousand"
        + " change:character_experience_rate"
        + " change:repeating_class:class_base_attack_bonus1 change:repeating_class:class_base_attack_bonus2 change:repeating_class:class_base_attack_bonus3 change:repeating_class:class_base_attack_bonus4 change:repeating_class:class_fortitude change:repeating_class:class_reflex change:repeating_class:class_willpower change:repeating_class:class_level remove:repeating_class"
        , specialization_class_experience);
    function specialization_class_experience() {
        let field = {
            "get": {
                "bab1" : "class_base_attack_bonus1",
                "bab2" : "class_base_attack_bonus2",
                "bab3" : "class_base_attack_bonus3",
                "bab4" : "class_base_attack_bonus4",
                "fortitude" : "class_fortitude",
                "reflex" : "class_reflex",
                "willpower" : "class_willpower",
                "level" : "class_level"
            },
            "set": {
                "bab1" : "foo_class_base_attack_bonus1_total",
                "bab2" : "foo_class_base_attack_bonus2_total",
                "bab3" : "foo_class_base_attack_bonus3_total",
                "bab4" : "foo_class_base_attack_bonus4_total",
                "fortitude" : "foo_class_fortitude_total",
                "reflex" : "foo_class_reflex_total",
                "willpower" : "foo_class_willpower_total",
                "level" : "foo_class_level_total"
            }
        };
        getAttrsNumber([
            "option_unit_decimal", "option_unit_thousand",
            "character_experience_rate"
        ], (user) => {
            getAttrsRepeating("class", Object.values(field.get), (repeating) => {
                // classes
                let cache = {
                    "unit_decimal": ".",
                    "unit_thousand": ",",
                    "bab1": 0,
                    "bab2": 0,
                    "bab3": 0,
                    "bab4": 0,
                    "fortitude": 0,
                    "reflex": 0,
                    "willpower": 0,
                    "level": 0,
                    "experience_total": ""
                };

                // unit
                switch(user.option_unit_decimal) {
                    case 1 : // comma
                        cache.unit_decimal = ",";
                        break;

                    case 2 : // dot
                        cache.unit_decimal = ".";
                        break;

                    case 3 : // momayyez
                        cache.unit_decimal = "";
                        break;
                }

                switch(user.option_unit_thousand) {
                    case 1 : // comma
                        cache.unit_thousand = ",";
                        break;

                    case 2 : // space
                        cache.unit_thousand = " ";
                        break;
                }

                // iterate payload
                Object.keys(repeating).forEach( id => {
                    cache.bab1 += repeating[id][field.get.bab1];
                    cache.bab2 += repeating[id][field.get.bab2];
                    cache.bab3 += repeating[id][field.get.bab3];
                    cache.bab4 += repeating[id][field.get.bab4];
                    cache.fortitude += repeating[id][field.get.fortitude];
                    cache.reflex += repeating[id][field.get.reflex];
                    cache.willpower += repeating[id][field.get.willpower];
                    cache.level += repeating[id][field.get.level];
                });
                if ( cache.level < 0 ) cache.level = 0;
                delete(repeating);

                // experience
                // need "level"
                if ( cache.level < 20 ) {
                    cache.experience_total = formatNumber(local.experience_rate[cache.level][user.character_experience_rate-1], 0.01, cache.unit_decimal, cache.unit_thousand);
                }
                else {
                    cache.experience_total = getTranslationByKey("character-experience-ceiling");
                }

                // prepare payload
                let payload = {};
                payload[field.set.bab1] = cache.bab1;
                payload[field.set.bab2] = cache.bab2;
                payload[field.set.bab3] = cache.bab3;
                payload[field.set.bab4] = cache.bab4;
                payload[field.set.fortitude] = cache.fortitude;
                payload[field.set.reflex] = cache.reflex;
                payload[field.set.willpower] = cache.willpower;
                payload[field.set.level] = cache.level;
                payload["character_experience_total"] = cache.experience_total;

                delete(cache);
                delete(user);

                // send payload
                setAttrs(payload);
            });
        });
    }

    // class name
    on( "change:repeating_classspecialization:class_specialization_name", specialization_class_name_repeating );
    function specialization_class_name_repeating(e) {
        // format "repeating_classspecialization_-LrcL2qT7lhjZ6BZrble_class_specialization_name"
        let source = e.sourceAttribute.replace(/class_specialization_name/, '');

        let payload = {};
        switch(+e.newValue) {
            case 0: // other
                payload[source+"class_specialization_toggle"] = "show";
                break;

            default:
                payload[source+"class_specialization_toggle"] = "hide";
                break;
        }

        // send payload
        setAttrs(payload);
    }

    // ------------------------------------------
    // battle
    // ------------------------------------------
    // weapon attribute modifier roll
    // ( need a custom handler for attribute to be able to import weapon from inventory )
    on( "change:repeating_battle"
        + " change:foo_character_dexterity_mod change:foo_character_strength_mod"
        , weapon_attribute_modifier );
    function weapon_attribute_modifier() {
        getAttrsRepeating("battle", ["battle_mod_attribute_select"], (repeating) => {
            getAttrsNumber(["foo_character_dexterity_mod", "foo_character_strength_mod"], (user) => {
                let header = "repeating_battle_";

                // prepare payload
                let payload = {};

                Object.keys(repeating).forEach(id => {
                    switch(repeating[id]["battle_mod_attribute_select"]) {
                        case 1: // dexterity
                            payload[header+id+"_battle_mod_attribute"] = user.foo_character_dexterity_mod;
                            break;

                        case 2: // strength
                            payload[header+id+"_battle_mod_attribute"] = user.foo_character_strength_mod;
                            break;

                        default:
                            payload[header+id+"_battle_mod_attribute"] = 0;
                    }
                });

                // send payload
                setAttrs(payload);
            });
        });
    }

    // ------------------------------------------
    // spell
    // ------------------------------------------
    // spell custom
    on( "change:repeating_spellcustom:spellcustom_prepared change:repeating_spellcustom:spellcustom_level remove:repeating_spellcustom", spellcustom_repeating);
    function spellcustom_repeating() {
        getAttrsRepeating("spellcustom", ["spellcustom_prepared","spellcustom_level"], (repeating) => {
            let cache = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

            // iterate payload
            Object.keys(repeating).forEach( id => {
                cache[repeating[id]["spellcustom_level"]] += repeating[id]["spellcustom_prepared"];
            });
            delete(repeating);

            // prepare payload
            let payload = {};
            payload["foo_spell0_prepared_custom"] = cache[0];
            payload["foo_spell1_prepared_custom"] = cache[1];
            payload["foo_spell2_prepared_custom"] = cache[2];
            payload["foo_spell3_prepared_custom"] = cache[3];
            payload["foo_spell4_prepared_custom"] = cache[4];
            payload["foo_spell5_prepared_custom"] = cache[5];
            payload["foo_spell6_prepared_custom"] = cache[6];
            payload["foo_spell7_prepared_custom"] = cache[7];
            payload["foo_spell8_prepared_custom"] = cache[8];
            payload["foo_spell9_prepared_custom"] = cache[9];

            delete(cache);

            // send payload
            setAttrs(payload);
        });
    }

    on( "change:repeating_spellcustom:spellcustom_incantation_touch_select", spell_touch_repeating );
    on( "change:repeating_spellcustom:spellcustom_effect_select", spell_effect_repeating );
    on( "change:repeating_spellcustom:spellcustom_save_select", spell_save_repeating );
    on( "change:repeating_spellcustom:spellcustom_damage_select", spell_damage_repeating );

    // spells
    for (let i = 0, size = 10; i < size; i++) {
        on( "change:repeating_spell"+i+":spell"+i+"_incantation_touch_select", spell_touch_repeating );
        on( "change:repeating_spell"+i+":spell"+i+"_effect_select", spell_effect_repeating );
        on( "change:repeating_spell"+i+":spell"+i+"_save_select", spell_save_repeating );
        on( "change:repeating_spell"+i+":spell"+i+"_damage_select", spell_damage_repeating );
    }

    // spell functions
    function spell_touch_repeating( event ) {
        // get spell level
        let [, level] =  event.sourceAttribute.match(/repeating_spell(custom|[0-9]+).*/i);
        if ( level === null ) return;

        // iterate data
        // format "repeating_spellX_-LrcL2qT7lhjZ6BZrble_spellX_incantation_type_select"
        let regex = new RegExp("spell"+level+"_incantation_touch_select");
        let source = event.sourceAttribute.replace(regex, '');

        let payload = {};
        switch( +event.newValue ) {
            case 0: // no touch
                payload[source+"spell"+level+"_incantation_toggle"] = "no-touch";
                break;

            case 1: // melee touch
                payload[source+"spell"+level+"_incantation_toggle"] = "melee-touch";
                break;

            case 2: // ranged touch
                payload[source+"spell"+level+"_incantation_toggle"] = "ranged-touch";
                break;
        }

        // send payload
        setAttrs(payload);
    }

    function spell_effect_repeating( event ) {
        // get spell level
        let [, level] =  event.sourceAttribute.match(/repeating_spell(custom|[0-9]+).*/i);
        if ( level === null ) return;

        // iterate data
        // format "repeating_spellX_-LrcL2qT7lhjZ6BZrble_spellX_effect_select"
        let regex = new RegExp("spell"+level+"_effect_select$");
        let source = event.sourceAttribute.replace(regex, '');

        let payload = {};
        payload[source+"spell"+level+"_effect_toggle"] = ( +event.newValue === 0 ? "hide" : "show" );

        // send payload
        setAttrs(payload);
    }

    function spell_save_repeating( event ) {
        // get spell level
        let [, level] =  event.sourceAttribute.match(/repeating_spell(custom|[0-9]+).*/i);
        if ( level === null ) return;

        // iterate data
        // format "repeating_spellX-LrcL2qT7lhjZ6BZrble_spellX_save_select"
        let regex = new RegExp("spell"+level+"_save_select$");
        let source = event.sourceAttribute.replace(regex, '');

        let payload = {};
        payload[source+"spell"+level+"_save_toggle"] = ( +event.newValue === 0 ? "hide" : "show" );

        // send payload
        setAttrs(payload);
    }

    function spell_damage_repeating( event ) {
        // get spell level
        let [, level] =  event.sourceAttribute.match(/repeating_spell(custom|[0-9]+).*/i);
        if ( level === null ) return;

        // iterate data

        // format "repeating_spellX-LrcL2qT7lhjZ6BZrble_spellX_damage_select"
        let regex = new RegExp("spell"+level+"_damage_select$");
        let source = event.sourceAttribute.replace(regex, '');

        let payload = {};
        payload[source+"spell"+level+"_damage_toggle"] = ( +event.newValue === 0 ? "hide" : "show" );

        // send payload
        setAttrs(payload);
    }

    // ------------------------------------------
    // skill
    // ------------------------------------------
    // skill
    on(
        "change:option_template"
        + " change:skill_acrobatics_ranks change:skill_handle_animal_ranks change:skill_artistry_ranks change:skill_appraise_ranks change:skill_bluff_ranks change:skill_climb_ranks change:skill_craft_ranks change:skill_profession_ranks change:skill_disguise_ranks change:skill_diplomacy_ranks change:skill_heal_ranks change:skill_fly_ranks change:skill_knowledge_arcana_ranks change:skill_knowledge_dungeoneering_ranks change:skill_knowledge_engineering_ranks change:skill_knowledge_geography_ranks change:skill_knowledge_history_ranks change:skill_knowledge_local_ranks change:skill_knowledge_nature_ranks change:skill_knowledge_planes_ranks change:skill_knowledge_religion_ranks change:skill_knowledge_nobility_ranks change:skill_ride_ranks change:skill_escape_artist_ranks change:skill_intimidate_ranks change:skill_linguistics_ranks change:skill_swim_ranks change:skill_perception_ranks change:skill_sleight_of_hand_ranks change:skill_sense_motive_ranks change:skill_disable_device_ranks change:skill_stealth_ranks change:skill_survival_ranks change:skill_spellcraft_ranks change:skill_use_magic_device_ranks"
        , skill);
    function skill() {
        getAttrs([
            "option_template",
            "skill_acrobatics_ranks", "skill_handle_animal_ranks", "skill_artistry_ranks", "skill_appraise_ranks", "skill_bluff_ranks", "skill_climb_ranks", "skill_craft_ranks", "skill_profession_ranks", "skill_disguise_ranks", "skill_diplomacy_ranks", "skill_heal_ranks", "skill_fly_ranks", "skill_knowledge_arcana_ranks", "skill_knowledge_dungeoneering_ranks", "skill_knowledge_engineering_ranks", "skill_knowledge_geography_ranks", "skill_knowledge_history_ranks", "skill_knowledge_local_ranks", "skill_knowledge_nature_ranks", "skill_knowledge_planes_ranks", "skill_knowledge_religion_ranks", "skill_knowledge_nobility_ranks", "skill_ride_ranks", "skill_escape_artist_ranks", "skill_intimidate_ranks", "skill_linguistics_ranks", "skill_swim_ranks", "skill_perception_ranks", "skill_sleight_of_hand_ranks", "skill_sense_motive_ranks", "skill_disable_device_ranks", "skill_stealth_ranks", "skill_survival_ranks", "skill_spellcraft_ranks", "skill_use_magic_device_ranks"
        ], (user) => {
            getAttrsRepeating("skillperform", ["skill_perform_ranks"], (repeating) => {
                // white list
                let npc_list = ["skill_climb_ranks", "skill_escape_artist_ranks", "skill_fly_ranks", "skill_intimidate_ranks", "skill_perception_ranks", "skill_stealth_ranks", "skill_survival_ranks", "skill_swim_ranks"];

                // prepare payload
                let payload = {};
                payload["foo_skill_ranks_total"] = 0;

                // iterate payload
                Object.keys(user).forEach( attr => {
                    if ( attr !== "option_template" ) {
                        switch(user.option_template) {
                            case "companion":
                                // void
                                break;

                            case "npc":
                                if ( npc_list.indexOf(attr) !== -1 ) {
                                    payload["foo_skill_ranks_total"] += parseNumber(user[attr]);
                                }
                                break;

                            case "pc":
                                payload["foo_skill_ranks_total"] += parseNumber(user[attr]);
                                break;
                        }

                    }
                });
                delete(repeating);

                // send payload
                setAttrs(payload);
            });
        });
    }

    // skill perform
    on(
        "change option_template"
        + " change:repeating_skillperform:skill_perform_ranks remove:repeating_skillperform"
        , skill_perform);
    function skill_perform() {
        getAttrs(["option_template"], (user) => {
            if ( user.option_template === "pc" || user.option_template === "npc") {
                getAttrsRepeating("skillperform", ["skill_perform_ranks"], (repeating) => {
                    // prepare payload
                    let payload = {};
                    payload["foo_skill_perform_ranks_total"] = 0;

                    // iterate payload
                    Object.keys(repeating).forEach( id => {
                        payload["foo_skill_perform_ranks_total"] += repeating[id]["skill_perform_ranks"];
                    });
                    delete(repeating);

                    // send payload
                    setAttrs(payload);
                });
            }
            else {
                // prepare payload
                let payload = {};
                payload["foo_skill_perform_ranks_total"] = 0;

                // send payload
                setAttrs(payload);
            }
        });
    }

    // skill custom ( ranks )
    on("change:repeating_skillcustom:skill_custom_ranks remove:repeating_skillcustom", skill_custom);
    function skill_custom() {
        getAttrsRepeating("skillcustom", ["skill_custom_ranks"], (repeating) => {
            // prepare payload
            let payload = {};
            payload["foo_skill_custom_ranks_total"] = 0;

            // iterate payload
            Object.keys(repeating).forEach( id => {
                payload["foo_skill_custom_ranks_total"] += repeating[id]["skill_custom_ranks"];
            });
            delete(repeating);

            // send payload
            setAttrs(payload);
        });
    }

    // skill custom ( attributes )
    on( "change:repeating_skillcustom"
        + " change:foo_status_encumbrance"
        + " change:foo_character_strength_mod change:foo_character_dexterity_mod"
        + " change:character_intelligence_base change:character_intelligence_race change:character_intelligence_bonus change:character_intelligence_penalty change:character_intelligence_temporary"
        + " change:character_constitution_base change:character_constitution_race change:character_constitution_bonus change:character_constitution_penalty change:character_constitution_temporary"
        + " change:character_wisdom_base change:character_wisdom_race change:character_wisdom_bonus change:character_wisdom_penalty change:character_wisdom_temporary"
        + " change:character_charisma_base change:character_charisma_race change:character_charisma_bonus change:character_charisma_penalty change:character_charisma_temporary"
        , skill_custom_attribute );
    function skill_custom_attribute() {
        getAttrsNumber([
            "foo_status_encumbrance", "foo_character_strength_mod", "foo_character_dexterity_mod",
            "character_strength_base", "character_strength_race", "character_strength_bonus", "character_strength_penalty", "character_strength_temporary",
            "character_dexterity_base", "character_dexterity_race", "character_dexterity_bonus", "character_dexterity_penalty", "character_dexterity_temporary",
            "character_constitution_base", "character_constitution_race", "character_constitution_bonus", "character_constitution_penalty", "character_constitution_temporary",
            "character_intelligence_base", "character_intelligence_race", "character_intelligence_bonus", "character_intelligence_penalty", "character_intelligence_temporary",
            "character_wisdom_base", "character_wisdom_race", "character_wisdom_bonus", "character_wisdom_penalty", "character_wisdom_temporary",
            "character_charisma_base", "character_charisma_race", "character_charisma_bonus", "character_charisma_penalty", "character_charisma_temporary",
        ], (user) => {
            let attribute = {
                "strength" : user.foo_character_strength_mod,
                "dexterity": user.foo_character_dexterity_mod,
                "constitution": Math.floor( ( user.character_constitution_base+user.character_constitution_race+user.character_constitution_bonus+user.character_constitution_penalty+user.character_constitution_temporary ) / 2 - 5),
                "intelligence": Math.floor( ( user.character_intelligence_base+user.character_intelligence_race+user.character_intelligence_bonus+user.character_intelligence_penalty+user.character_intelligence_temporary) / 2 - 5),
                "wisdom": Math.floor( ( user.character_wisdom_base+user.character_wisdom_race+user.character_wisdom_bonus+user.character_wisdom_penalty+user.character_wisdom_temporary) / 2 - 5),
                "charisma": Math.floor( ( user.character_charisma_base+user.character_charisma_race+user.character_charisma_bonus+user.character_charisma_penalty+user.character_charisma_temporary ) / 2 - 5),
            };
            let encumbrance = user.foo_status_encumbrance;
            let header = "repeating_skillcustom_";

            getAttrsRepeating("skillcustom", ["skill_custom_mod_attribute_select"], (repeating) => {
                // prepare payload
                let payload = {};

                // iterate payload
                Object.keys(repeating).forEach( id => {
                    switch( repeating[id].skill_custom_mod_attribute_select ) {
                        case 1: // strength
                            payload[header+id+"_skill_custom_mod_attribute"] = attribute.strength;
                            payload[header+id+"_skill_custom_mod_status"] = encumbrance;
                            break;

                        case 2: // dexterity
                            payload[header+id+"_skill_custom_mod_attribute"] = attribute.dexterity;
                            payload[header+id+"_skill_custom_mod_status"] = encumbrance;
                            break;

                        case 3: // constitution
                            payload[header+id+"_skill_custom_mod_attribute"] = attribute.constitution;
                            payload[header+id+"_skill_custom_mod_status"] = 0;
                            break;

                        case 4: // intelligence
                            payload[header+id+"_skill_custom_mod_attribute"] = attribute.intelligence;
                            payload[header+id+"_skill_custom_mod_status"] = 0;
                            break;

                        case 5: // wisdom
                            payload[header+id+"_skill_custom_mod_attribute"] = attribute.wisdom;
                            payload[header+id+"_skill_custom_mod_status"] = 0;
                            break;

                        case 6: // charisma
                            payload[header+id+"_skill_custom_mod_attribute"] = attribute.charisma;
                            payload[header+id+"_skill_custom_mod_status"] = 0;
                            break;
                    }
                });
                delete(repeating);

                // send payload
                setAttrs(payload);
            });
        });
    }

    // ------------------------------------------
    // inventory
    // ------------------------------------------
    // armor bonus + arcane spell failure
    on( "change:user_decimal"
        + " change:foo_status_arcane_spell_failure change:arcane_spell_failure_miscellaneous change:arcane_spell_failure_temporary"
        + " change:repeating_armor:equipment_armor_worn change:repeating_armor:equipment_armor_armor_bonus change:equipment_armor_arcane_spell_failure remove:repeating_armor"
        , equipment_armor);
    function equipment_armor() {
        getAttrsNumber([
            "option_unit_decimal", "option_unit_thousand", "foo_status_arcane_spell_failure", "arcane_spell_failure_miscellaneous", "arcane_spell_failure_temporary"
        ], (user) => {
            let field = {
                "get": {
                    "armor": "equipment_armor_armor_bonus",
                    "status": "foo_status_arcane_spell_failure",
                    "spellfailure": "equipment_armor_arcane_spell_failure",
                    "worn": "equipment_armor_worn"
                },
                "set": {
                    "armor": "foo_armor_bonus",
                    "spellfailure_total": "foo_arcane_spell_failure_total",
                    "spellfailure_penalty": "arcane_spell_failure_penalty",
                    "spellfailure_total_percent": "arcane_spell_failure_total_percent"
                }
            };
            getAttrsRepeating("armor", Object.values(field.get), (repeating) => {
                let cache = {
                    "unit_decimal": ".",
                    "unit_thousand": ",",
                    "armor": 0,
                    "spellfailure_armor": 0,
                    "spellfailure": 0
                };

                // unit
                switch(user.option_unit_decimal) {
                    case 1 : // comma
                        cache.unit_decimal = ",";
                        break;

                    case 2 : // dot
                        cache.unit_decimal = ".";
                        break;

                    case 3 : // momayyez
                        cache.unit_decimal = "";
                        break;
                }

                switch(user.option_unit_thousand) {
                    case 1 : // comma
                        cache.unit_thousand = ",";
                        break;

                    case 2 : // space
                        cache.unit_thousand = " ";
                        break;
                }

                // iterate payload
                // amor
                Object.keys(repeating).forEach(id => {
                    if ( repeating[id][field.get.worn] === 1 ) {
                        cache.armor += repeating[id][field.get.armor];
                        cache.spellfailure_armor += repeating[id][field.get.spellfailure];
                    }
                });
                delete(repeating);

                cache.spellfailure = cache.spellfailure_armor + user.foo_status_arcane_spell_failure + user.arcane_spell_failure_miscellaneous + user.arcane_spell_failure_temporary;
                if ( cache.spellfailure < 0 ) cache.spellfailure = 0;
                if ( cache.spellfailure > 100 ) cache.spellfailure = 100;

                // prepare payload
                let payload = {};
                payload[field.set.spellfailure_total] = cache.spellfailure;
                payload[field.set.spellfailure_total_percent] = formatNumber(cache.spellfailure, 0.01, cache.unit_decimal, cache.unit_thousand) + " %";
                payload[field.set.spellfailure_penalty] = formatNumber(cache.spellfailure_armor, 0.01);
                payload[field.set.armor] = cache.armor;

                delete(cache);
                delete(user);

                // send payload
                setAttrs(payload);
            });
        });
    }

    // export "equipment_weapon" element to "repeating_battle"
    on( "clicked:repeating_weapon:create-attack", inventory_to_battle_repeating );
    function inventory_to_battle_repeating(event)  {
        // format "repeating_weapon_-LrcL2qT7lhjZ6BZrble_create-attack"
        let source = event.sourceAttribute.replace(/create-attack$/, '');

        let field = {
            "getNumber" : {
                "damage_dice_count" : "equipment_weapon_dice_count",
                "damage_dice_type" : "equipment_weapon_dice_type",
                "damage_critic" : "equipment_weapon_critic",
                "damage_critic_multiplier" : "equipment_weapon_critic_multiplier",
                "range" : "equipment_weapon_range",
            },
            "getString" : {
                "name" : "equipment_weapon_name",
                "range_description" : "equipment_weapon_range_description",
                "special" : "equipment_weapon_special"
            },
            "set" : {
                "name" : "battle_name",
                "description_short": "battle_description_short",
                "modifier": "battle_mod_attribute",
                "modifier_select": "battle_mod_attribute_select",
                "damage_dice_count" : "battle_dice_count",
                "damage_dice_type": "battle_dice_type",
                "range": "battle_range",
                "damage_critic": "battle_damage_critic",
                "damage_critic_multiplier": "battle_damage_critic_multiplier"
            }
        };
        field.getNumber = preprendArrayProperties(field.getNumber, source );
        field.getString = preprendArrayProperties(field.getString, source );

        getAttrsNumber(Object.values(field.getNumber), (user_number) => {
            getAttrs(Object.values(field.getString), (user_string) => {
                // generate new ID
                // note : setAttrs() generate new row if doesn't exist
                let id = "repeating_battle_"+generateRowID()+"_";
                field.set = preprendArrayProperties(field.set, id );

                let cache = [];
                if ( user_string[ field.getString.special ] !== "" ) cache.push( user_string[ field.getString.special ] );

                // prepare payload
                let payload = {};
                payload[field.set.name] = user_string[ field.getString.name ];
                payload[field.set.damage_dice_count] = user_number[ field.getNumber.damage_dice_count ];
                payload[field.set.damage_dice_type] = user_number[ field.getNumber.damage_dice_type ];
                switch( user_number[ field.getNumber.range ]) {
                    case 1: // melee
                        payload[field.set.range] = 0;
                        payload[field.set.modifier_select] = 2;
                        break;

                    case 2: // ranged
                        if ( user_string[ field.getString.range_description ] !== "" ) cache.push( getTranslationByKey("battle-range").replace("%s", user_string[ field.getString.range_description ]) );
                        payload[field.set.range] = 1;
                        payload[field.set.modifier_select] = 1;
                        break;
                }
                payload[field.set.damage_critic] = user_number[ field.getNumber.damage_critic ];
                payload[field.set.damage_critic_multiplier] = user_number[ field.getNumber.damage_critic_multiplier ];

                payload[field.set.description_short] = cache.join(", ");

                delete(cache);
                delete(user_number);
                delete(user_string);
                delete(user);

                // send payload
                setAttrs(payload);
            });
        });
    }

    // transfert weapon to "repeating_weaponracks"
    on( "clicked:repeating_weapon:weapon-to-racks", weapon_to_racks_repeating );
    function weapon_to_racks_repeating(event) {
        // format "repeating_weapon_-LrcL2qT7lhjZ6BZrble_weapon-to-racks"
        let source = event.sourceAttribute.replace(/weapon-to-racks$/, '');

        let field = {
            "getNumber" : {
                "damage_dice_count" : "equipment_weapon_dice_count",
                "damage_dice_type" : "equipment_weapon_dice_type",
                "damage_critic" : "equipment_weapon_critic",
                "damage_critic_multiplier" : "equipment_weapon_critic_multiplier",
                "range" : "equipment_weapon_range",
                "damage_type": "equipment_weapon_damage_type",
                "weight": "equipment_weapon_weight",
            },
            "getString" : {
                "name" : "equipment_weapon_name",
                "range_description" : "equipment_weapon_range_description",
                "special" : "equipment_weapon_special"
            },
            "set" : {
                "name" : "weapon_rack_name",
                "damage_dice_count" : "weapon_rack_dice_count",
                "damage_dice_type" : "weapon_rack_dice_type",
                "damage_critic" : "weapon_rack_critic",
                "damage_critic_multiplier" : "weapon_rack_critic_multiplier",
                "range" : "weapon_rack_range",
                "range_description" : "weapon_rack_range_description",
                "damage_type": "weapon_rack_damage_type",
                "weight": "weapon_rack_weight",
                "special" : "weapon_rack_special"
            }
        };
        field.getNumber = preprendArrayProperties(field.getNumber, source );
        field.getString = preprendArrayProperties(field.getString, source );

        getAttrsNumber(Object.values(field.getNumber), (user_number) => {
            getAttrs(Object.values(field.getString), (user_string) => {
                // generate new ID
                // note : setAttrs() generate new row if doesn't exist
                field.set = preprendArrayProperties(field.set, "repeating_weaponrack_"+generateRowID()+"_" );

                // prepare payload
                let payload = {};
                payload[field.set.name] = user_string[ field.getString.name ];
                payload[field.set.damage_dice_count] = user_number[ field.getNumber.damage_dice_count ];
                payload[field.set.damage_dice_type] = user_number[ field.getNumber.damage_dice_type ];
                payload[field.set.damage_critic] = user_number[ field.getNumber.damage_critic ];
                payload[field.set.damage_critic_multiplier] = user_number[ field.getNumber.damage_critic_multiplier];
                payload[field.set.range] = user_number[ field.getNumber.range ];
                payload[field.set.range_description] = user_string[ field.getString.range_description ];
                payload[field.set.damage_type] = user_number[ field.getNumber.damage_type ];
                payload[field.set.weight] = user_number[ field.getNumber.weight ];
                payload[field.set.special] = user_string[ field.getString.special ];

                delete(user_number);
                delete(user_string);

                // remove object in equipment
                // note  removeRepeatingRow() don't trigger on("remove:repeating_weapon")
                removeRepeatingRow(source.slice(0, -1));

                // send payload
                setAttrs(payload, {silent:true}, core );
            });
        })
    }

    // transfert armor to "repeating_armorracks"
    on( "clicked:repeating_armor:armor-to-racks", armor_to_racks_repeating );
    function armor_to_racks_repeating(event) {
        // format "repeating_armorracks_-LrcL2qT7lhjZ6BZrble_armor-to-racks"
        let source = event.sourceAttribute.replace(/armor-to-racks$/, '');

        let field = {
            "getNumber" : {
                "type" : "equipment_armor_type",
                "bonus" : "equipment_armor_armor_bonus",
                "dexterity_ceiling" : "equipment_armor_dexterity_ceiling",
                "penalty": "equipment_armor_armor_penalty",
                "arcane_spell_failure" : "equipment_armor_arcane_spell_failure",
                "weight" : "equipment_armor_weight"
            },
            "getString" : {
                "name" : "equipment_armor_name",
                "special" : "equipment_armor_special"
            },
            "set" : {
                "name" : "armor_rack_name",
                "type" : "armor_rack_type",
                "bonus" : "armor_rack_armor_bonus",
                "dexterity_ceiling" : "armor_rack_dexterity_ceiling",
                "penalty": "armor_rack_armor_penalty",
                "arcane_spell_failure" : "armor_rack_arcane_spell_failure",
                "weight" : "armor_rack_weight",
                "special" : "armor_rack_special"
            }
        };
        field.getNumber = preprendArrayProperties(field.getNumber, source );
        field.getString = preprendArrayProperties(field.getString, source );

        getAttrsNumber(Object.values(field.getNumber), (user_number) => {
            getAttrs(Object.values(field.getString), (user_string) => {
                // generate new ID
                // note : setAttrs() generate new row if doesn't exist
                field.set = preprendArrayProperties(field.set, "repeating_armorrack_"+generateRowID()+"_" );

                // prepare payload
                let payload = {};
                payload[field.set.name] = user_string[ field.getString.name ];
                payload[field.set.type] = user_number[ field.getNumber.type ];
                payload[field.set.bonus] = user_number[ field.getNumber.bonus ];
                payload[field.set.dexterity_ceiling] = user_number[ field.getNumber.dexterity_ceiling ];
                payload[field.set.penalty] = user_number[ field.getNumber.penalty ];
                payload[field.set.arcane_spell_failure] = user_number[ field.getNumber.arcane_spell_failure ];
                payload[field.set.weight] = user_number[ field.getNumber.weight ];
                payload[field.set.special] = user_string[ field.getString.special ];

                delete(user_number);
                delete(user_string);

                // remove object in equipment
                removeRepeatingRow(source.slice(0, -1));

                // send payload
                // note  removeRepeatingRow() don't trigger on("remove:repeating_equipment")
                setAttrs(payload, {silent:true}, core );
            });
        })
    }

    // transfert equipment to "repeating_deposit"
    on( "clicked:repeating_equipment:inventory-to-deposit", inventory_to_deposit_repeating );
    function inventory_to_deposit_repeating(event) {
        // format "repeating_equipment_-LrcL2qT7lhjZ6BZrble_inventory-to-deposit"
        let source = event.sourceAttribute.replace(/inventory-to-deposit$/, '');

        let field = {
            "getNumber" : {
                "quantity" : "equipment_quantity",
                "weight" : "equipment_weight"
            },
            "getString" : {
                "label" : "equipment_label",
            },
            "set" : {
                "label" : "deposit_label",
                "quantity": "deposit_quantity",
                "weight": "deposit_weight"
            }
        };
        field.getNumber = preprendArrayProperties(field.getNumber, source );
        field.getString = preprendArrayProperties(field.getString, source );

        getAttrsNumber(Object.values(field.getNumber), (user_number) => {
            getAttrs(Object.values(field.getString), (user_string) => {
                // generate new ID
                // note : setAttrs() generate new row if doesn't exist
                field.set = preprendArrayProperties(field.set, "repeating_deposit_"+generateRowID()+"_" );

                // prepare payload
                let payload = {};
                payload[field.set.label] = user_string[ field.getString.label ];
                payload[field.set.quantity] = user_number[ field.getNumber.quantity ];
                payload[field.set.weight] = user_number[ field.getNumber.weight ];

                delete(user_number);
                delete(user_string);

                // remove object in equipment
                removeRepeatingRow(source.slice(0, -1));

                // send payload
                // note  removeRepeatingRow() don't trigger on("remove:repeating_equipment")
                setAttrs(payload, {silent:true}, core );
            });
        })
    }

    // ------------------------------------------
    // stock
    // ------------------------------------------
    // transfert weapon to "repeating_weapon"
    on( "clicked:repeating_weaponrack:racks-to-weapon", racks_to_weapon_repeating );
    function racks_to_weapon_repeating(event) {
        // format "repeating_weaponrack_-LrcL2qT7lhjZ6BZrble_racks-to-weapon"
        let source = event.sourceAttribute.replace(/racks-to-weapon$/, '');

        let field = {
            "getNumber" : {
                "damage_dice_count" : "weapon_rack_dice_count",
                "damage_dice_type" : "weapon_rack_dice_type",
                "damage_critic" : "weapon_rack_critic",
                "damage_critic_multiplier" : "weapon_rack_critic_multiplier",
                "range" : "weapon_rack_range",
                "damage_type": "weapon_rack_damage_type",
                "weight": "weapon_rack_weight",
            },
            "getString" : {
                "name" : "weapon_rack_name",
                "range_description" : "weapon_rack_range_description",
                "special" : "weapon_rack_special"
            },
            "set" : {
                "name" : "equipment_weapon_name",
                "damage_dice_count" : "equipment_weapon_dice_count",
                "damage_dice_type" : "equipment_weapon_dice_type",
                "damage_critic" : "equipment_weapon_critic",
                "damage_critic_multiplier" : "equipment_weapon_critic_multiplier",
                "range" : "equipment_weapon_range",
                "range_description" : "equipment_weapon_range_description",
                "damage_type": "equipment_weapon_damage_type",
                "weight": "equipment_weapon_weight",
                "special" : "equipment_weapon_special"
            }
        };
        field.getNumber = preprendArrayProperties(field.getNumber, source );
        field.getString = preprendArrayProperties(field.getString, source );

        getAttrsNumber(Object.values(field.getNumber), (user_number) => {
            getAttrs(Object.values(field.getString), (user_string) => {
                // generate new ID
                // note : setAttrs() generate new row if doesn't exist
                field.set = preprendArrayProperties(field.set, "repeating_weapon_"+generateRowID()+"_" );

                // prepare payload
                let payload = {};
                payload[field.set.name] = user_string[ field.getString.name ];
                payload[field.set.damage_dice_count] = user_number[ field.getNumber.damage_dice_count ];
                payload[field.set.damage_dice_type] = user_number[ field.getNumber.damage_dice_type ];
                payload[field.set.damage_critic] = user_number[ field.getNumber.damage_critic ];
                payload[field.set.damage_critic_multiplier] = user_number[ field.getNumber.damage_critic_multiplier];
                payload[field.set.range] = user_number[ field.getNumber.range ];
                payload[field.set.range_description] = user_string[ field.getString.range_description ];
                payload[field.set.damage_type] = user_number[ field.getNumber.damage_type ];
                payload[field.set.weight] = user_number[ field.getNumber.weight ];
                payload[field.set.special] = user_string[ field.getString.special ];

                delete(user_number);
                delete(user_string);

                // remove object in equipment
                removeRepeatingRow(source.slice(0, -1));

                // send payload
                // note  removeRepeatingRow() don't trigger on("remove:repeating_equipment")
                setAttrs(payload);
            });
        })
    }

    // transfert armor to "repeating_armor"
    on( "clicked:repeating_armorrack:racks-to-armor", racks_to_armor_repeating );
    function racks_to_armor_repeating(event) {
        // format "repeating_armorrack_-LrcL2qT7lhjZ6BZrble_racks-to-armor"
        let source = event.sourceAttribute.replace(/racks-to-armor$/, '');

        let field = {
            "getNumber" : {
                "type" : "armor_rack_type",
                "bonus" : "armor_rack_armor_bonus",
                "dexterity_ceiling" : "armor_rack_dexterity_ceiling",
                "penalty": "armor_rack_armor_penalty",
                "arcane_spell_failure" : "armor_rack_arcane_spell_failure",
                "weight" : "armor_rack_weight"
            },
            "getString" : {
                "name" : "armor_rack_name",
                "special" : "armor_rack_special"
            },
            "set" : {
                "name" : "equipment_armor_name",
                "type" : "equipment_armor_type",
                "bonus" : "equipment_armor_armor_bonus",
                "dexterity_ceiling" : "equipment_armor_dexterity_ceiling",
                "penalty": "equipment_armor_armor_penalty",
                "arcane_spell_failure" : "equipment_armor_arcane_spell_failure",
                "weight" : "equipment_armor_weight",
                "special" : "equipment_armor_special"
            }
        };

        field.getNumber = preprendArrayProperties(field.getNumber, source );
        field.getString = preprendArrayProperties(field.getString, source );

        getAttrsNumber(Object.values(field.getNumber), (user_number) => {
            getAttrs(Object.values(field.getString), (user_string) => {
                // generate new ID
                // note : setAttrs() generate new row if doesn't exist
                field.set = preprendArrayProperties(field.set, "repeating_armor_"+generateRowID()+"_" );

                // prepare payload
                let payload = {};
                payload[field.set.name] = user_string[ field.getString.name ];
                payload[field.set.type] = user_number[ field.getNumber.type ];
                payload[field.set.bonus] = user_number[ field.getNumber.bonus ];
                payload[field.set.dexterity_ceiling] = user_number[ field.getNumber.dexterity_ceiling ];
                payload[field.set.penalty] = user_number[ field.getNumber.penalty ];
                payload[field.set.arcane_spell_failure] = user_number[ field.getNumber.arcane_spell_failure ];
                payload[field.set.weight] = user_number[ field.getNumber.weight ];
                payload[field.set.special] = user_string[ field.getString.special ];

                delete(user_number);
                delete(user_string);

                // remove object in equipment
                removeRepeatingRow(source.slice(0, -1));

                // send payload
                // note  removeRepeatingRow() don't trigger on("remove:repeating_equipment")
                setAttrs(payload);
            });
        })
    }

    // transfert object to "repeating_equipment"
    on( "clicked:repeating_deposit:deposit-to-inventory", deposit_to_equipment_repeating );
    function deposit_to_equipment_repeating(event) {
        // format "repeating_deposit_-LrcL2qT7lhjZ6BZrble_deposit-to-inventory"
        let source = event.sourceAttribute.replace(/deposit-to-inventory$/, '');

        let field = {
            "getNumber" : {
                "quantity" : "deposit_quantity",
                "weight" : "deposit_weight"
            },
            "getString" : {
                "label" : "deposit_label",
            },
            "set" : {
                "label" : "equipment_label",
                "quantity": "equipment_quantity",
                "weight": "equipment_weight"
            }
        };
        field.getNumber = preprendArrayProperties(field.getNumber, source );
        field.getString = preprendArrayProperties(field.getString, source );

        getAttrsNumber(Object.values(field.getNumber), (user_number) => {
            getAttrs(Object.values(field.getString), (user_string) => {
                // generate new ID
                // note : setAttrs() generate new row if doesn't exist
                field.set = preprendArrayProperties(field.set, "repeating_equipment_"+generateRowID()+"_" );

                // prepare payload
                let payload = {};
                payload[field.set.label] = user_string[ field.getString.label ];
                payload[field.set.quantity] = user_number[ field.getNumber.quantity ];
                payload[field.set.weight] = user_number[ field.getNumber.weight ];

                delete(user_number);
                delete(user_string);

                // remove object in deposit
                removeRepeatingRow(source.slice(0, -1));

                // send payload
                setAttrs(payload);
            });
        });
    }

    // ------------------------------------------
    // function
    // ------------------------------------------

    // convert units
    //
    // value            (number)
    // method           (string)
    function convertUnit(value, method) {
        switch(method) {
            case "in2ft": // inch to feet
                return value * 0.083333;

            case "in2m": // inch to meter
                return value * 0.025400;

            case "ft2m": // feet to meter
                return value * 0.304800;

            case "lb2kg": // pound to kilogram
                return value * 0.453592;

            default:
                return value;
        }
    }

    function datelocale() {
        let date = new Date();
        let hour = date.getHours();
        let min = date.getMinutes();
        let sec = date.getSeconds();

        hour = ( hour < 10 ? "0"+hour : hour.toString() );
        min = ( min < 10 ? "0"+min : min.toString() );
        sec = ( sec < 10 ? "0"+sec : sec.toString() );

        return hour+":"+min+":"+sec;
    }

    // format number ( return string )
    // examples :
    // formatNumber(10.33, 0.1) -> 10.3
    // formatNumber(136, 10) -> 140
    //
    // array            (number) number to parse
    //                  note : it doesn't accept string because ECMAscript doesn't handle rounding correctly
    // step             (number) round reference
    // decimal          (one character) character for decimal
    // thousand         (one character) character for thousand
    //
    // note :           - to use this function with a number as output, dont change "decimal" or "thousand"
    //                  - ECMAscript need numbers formated as "1000.1" to convert string to numbers
    function formatNumber(value, step = 1, decimal = ".", thousand = "") {
        value = parseFloat(value);

        // round value
        if ( step !== 0 ) {
            let inverse = 1.0 / step;
            value = Math.round(value * inverse) / inverse;
        }

        // format to local
        if ( decimal !== "." || thousand !== "") {
            value = value.toString();
            value = value.replace(".", decimal);
            value = value.replace(/\B(?=(\d{3})+(?!\d))/g, thousand);
        }

        return value
    }

    // get all attribute name and their value as getAttrs()
    // for numbers only ( values are cleaned, so a string return 0 )
    //
    // attr             (string or array of string) atributes to find
    // callback         (function) returning function after xhr request
    function getAttrsNumber(attr, callback) {
        if ( !Array.isArray(attr) ) attr = [attr];
        if ( !(callback instanceof Function) ) callback = () => {};

        getAttrs(attr, (payload) => {
            Object.keys(payload).forEach( key => { payload[key] = parseNumber(payload[key]) });
            callback(payload);
        });
    }

    // get all attributes name and their values from a repeating block ordered by Id (roll20 generated)
    // for numbers only
    // section	        (string) section name from "repeating_<section>_<field>"
    // fields           (string or array of string) attributes from "repeating_<section>_<field>"
    // callback         (function) returning function after xhr request
    // isNumber         (boolean) parse date as number(true)|default or string(false)
    function getAttrsRepeating(section, fields, callback) {
        section = section.replace(/^repeating_/g, '');
        if ( !Array.isArray(fields) ) fields = [fields];
        if ( !(callback instanceof Function) ) callback = () => {};

        // get data from DOM
        // note : we work on raw data and not with initialized variables
        // because we don't know what "getAttrs" produce
        getSectionIDs(section, id => {
            // prepares attributes name for "getAttrs"
            let attributeNames = id.reduce( (m,id) => [...m, ...(fields.map(field => "repeating_"+section+'_'+id+'_'+field))],[]);

            getAttrs(attributeNames, raw => {
                let payload = {}, regex = new RegExp( "repeating_" + section + "_([^_]*)_(.*)"), field, sub_field;
                Object.keys(raw).forEach( key => {
                    [, field, sub_field] = key.match(regex);
                    if ( !payload.hasOwnProperty( field ) ) payload[ field ] = {};
                    payload[ field ][ sub_field ] = parseNumber( raw[key] );
                });
                callback(payload);
            });
        });
    }

    // check if a string is JSON commpliant
    //
    // value            (string)
    // return           (boolean)
    function isJSON(str) {
        if ( str === "" || str === null ) return false;
        // clean string
        str = str.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@'); // @ character
        str = str.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']'); // enclosures
        str = str.replace(/(?:^|:|,)(?:\s*\[)+/g, ''); // trim
        // test
        return (/^[\],:{}\s]*$/).test(str);
    }

    // parse and clean numbers from roll20
    // checkbox from roll20 return "on" for TRUE, 0 for FALSE
    // some values from compendium return various string instead of an number ( "-", "&amp;Mdash;", ... )
    //
    // value            (number) number to parse
    function parseNumber(value) {
        if ( value === null || value === undefined ) return 0;
        if ( value === "on" ) return 1;
        if ( isNaN(value) ) value = 0;
        return parseFloat(value);
    }

    // parse and clean string from roll20
    // checkbox from roll20 return "on" for TRUE, 0 for FALSE
    // some values from compendium return various string instead of an number ( "-", "&amp;Mdash;", ... )
    //
    // value            (number) number to parse
    function parseString(value) {
        if ( value === null || value === undefined ) return "";
        return String(value).trim();
    }

    // send mesage to log window
    function sendLog(message) {
        console.log("["+datelocale()+"] "+message);
    }

    // sort string with locale configuration
    //
    // array            (array of strings)
    function sortLocale(array) {
        return array.sort((strA, strB) => strA.localeCompare(strB, local.language) > 0);
    }

    // prepend array properties with a string
    //
    // array            (array) array to parse
    // str              (string) string to add in array
    function preprendArrayProperties(arr, str) {
        for ( let prop in arr ) {
            if ( !arr.hasOwnProperty(prop) ) continue;
            if ( typeof(arr[prop]) === "string" ) arr[prop] = str+arr[prop];
        }
        return arr;
    }
</script>

<div class="locale">
    <!-- translation -->
    <span data-i18n="language"></span>

    <span data-i18n="option-unit-case-short"></span>
    <span data-i18n="option-unit-feet-short"></span>
    <span data-i18n="option-unit-meter-short"></span>
    <span data-i18n="option-unit-kilogram-short"></span>
    <span data-i18n="option-unit-pound-short"></span>

    <span data-i18n="status-dead"></span>
    <span data-i18n="status-dying"></span>
    <span data-i18n="status-exhausted"></span>
    <span data-i18n="status-fit"></span>
    <span data-i18n="status-frightened"></span>
    <span data-i18n="status-healthy"></span>
    <span data-i18n="status-movement-entangled"></span>
    <span data-i18n="status-movement-free"></span>
    <span data-i18n="status-movement-grappled"></span>
    <span data-i18n="status-movement-pinned"></span>
    <span data-i18n="status-disabled"></span>
    <span data-i18n="status-unconscious"></span>
    <span data-i18n="status-panicked"></span>
    <span data-i18n="status-peaceful"></span>
    <span data-i18n="status-stable"></span>
    <span data-i18n="status-staggered"></span>
    <span data-i18n="status-shaken"></span>
    <span data-i18n="status-tired"></span>

    <span data-i18n="attribute-strength-label"></span>
    <span data-i18n="attribute-dexterity-label"></span>
    <span data-i18n="attribute-constitution-label"></span>
    <span data-i18n="attribute-intelligence-label"></span>
    <span data-i18n="attribute-wisdom-label"></span>
    <span data-i18n="attribute-charisma-label"></span>

    <span data-i18n="initiative-label"></span>
    <span data-i18n="combat-maneuver-bonus"></span>

    <span data-i18n="spell-status-none"></span>
    <span data-i18n="spell-status-verbal"></span>
    <span data-i18n="spell-status-somatic-and-material"></span>
    <span data-i18n="spell-concentration-defensive-label"></span>
    <span data-i18n="spell-concentration-pinned-label"></span>
    <span data-i18n="spell-concentration-grappled-label"></span>
    <span data-i18n="spell-concentration-wound-label"></span>
    <span data-i18n="spell-concentration-damage-label"></span>

    <span data-i18n="save-fortitude-label"></span>
    <span data-i18n="save-reflex-label"></span>
    <span data-i18n="save-willpower-label"></span>

    <span data-i18n="skill-status-reactive"></span>
    <span data-i18n="skill-status-sight"></span>

    <span data-i18n="skill-acrobatics-label"></span>
    <span data-i18n="skill-appraise-label"></span>
    <span data-i18n="skill-artistry-label"></span>
    <span data-i18n="skill-bluff-label"></span>
    <span data-i18n="skill-climb-label"></span>
    <span data-i18n="skill-craft-label"></span>
    <span data-i18n="skill-diplomacy-label"></span>
    <span data-i18n="skill-disable-device-label"></span>
    <span data-i18n="skill-disguise-label"></span>
    <span data-i18n="skill-escape-artist-label"></span>
    <span data-i18n="skill-fly-label"></span>
    <span data-i18n="skill-handle-animal-label"></span>
    <span data-i18n="skill-heal-label"></span>
    <span data-i18n="skill-intimidate-label"></span>
    <span data-i18n="skill-knowledge-arcana-label"></span>
    <span data-i18n="skill-knowledge-dungeoneering-label"></span>
    <span data-i18n="skill-knowledge-engineering-label"></span>
    <span data-i18n="skill-knowledge-geography-label"></span>
    <span data-i18n="skill-knowledge-history-label"></span>
    <span data-i18n="skill-knowledge-local-label"></span>
    <span data-i18n="skill-knowledge-nature-label"></span>
    <span data-i18n="skill-knowledge-nobility-label"></span>
    <span data-i18n="skill-knowledge-planes-label"></span>
    <span data-i18n="skill-knowledge-religion-label"></span>
    <span data-i18n="skill-linguistics-label"></span>
    <span data-i18n="skill-perception-label"></span>
    <span data-i18n="skill-profession-label"></span>
    <span data-i18n="skill-ride-label"></span>
    <span data-i18n="skill-sense-motive-label"></span>
    <span data-i18n="skill-spellcraft-label"></span>
    <span data-i18n="skill-sleight-of-hand-label"></span>
    <span data-i18n="skill-stealth-label"></span>
    <span data-i18n="skill-survival-label"></span>
    <span data-i18n="skill-swim-label"></span>
    <span data-i18n="skill-use-magic-device-label"></span>

    <span data-i18n="skill-perform-label"></span>

    <!-- variables -->
    <input type="hidden" name="attr_foo_status_hit_points" value="0" />
    <input type="hidden" name="attr_foo_status_caster_level" value="0" />
    <input type="hidden" name="attr_foo_status_arcane_spell_failure" value="0" />
    <input type="hidden" name="attr_foo_status_strength" value="0" />
    <input type="hidden" name="attr_foo_status_dexterity" value="0" />
    <input type="hidden" name="attr_foo_status_dexterity_flatfooted" />
    <input type="hidden" name="attr_foo_status_intelligence" value="0" />
    <input type="hidden" name="attr_foo_status_constitution" value="0" />
    <input type="hidden" name="attr_foo_status_wisdom" value="0" />
    <input type="hidden" name="attr_foo_status_charisma" value="0" />
    <input type="hidden" name="attr_foo_status_initiative" value="0" />
    <input type="hidden" name="attr_foo_status_combat_maneuver_bonus" value="0" />
    <input type="hidden" name="attr_foo_base_attack" value="0" />
    <input type="hidden" name="attr_foo_status_attack_damage" value="0" />
    <input type="hidden" name="attr_foo_status_spell_verbal" value="0" />
    <input type="hidden" name="attr_foo_status_concentration" value="0" />
    <input type="hidden" name="attr_foo_status_fortitude" value="0" />
    <input type="hidden" name="attr_foo_status_reflex" value="0" />
    <input type="hidden" name="attr_foo_status_willpower" value="0" />

    <input type="hidden" name="attr_foo_status_armor_class_melee" value="0" />
    <input type="hidden" name="attr_foo_status_armor_class_ranged" value="0" />
    <input type="hidden" name="attr_foo_status_armor_class_dodge" value="0" />

    <input type="hidden" name="attr_foo_status_combat_maneuver_defense" value="0" />
    <input type="hidden" name="attr_foo_status_skill" value="0" />
    <input type="hidden" name="attr_foo_status_skill_perception" value="0" />
    <input type="hidden" name="attr_foo_status_encumbrance" value="0" />
    <input type="hidden" name="attr_foo_status_encumbrance_proficiency" value="0" />

    <input type="hidden" name="attr_foo_character_strength_total" value="0" />
    <input type="hidden" name="attr_foo_character_strength_mod" value="0" />
    <input type="hidden" name="attr_foo_character_dexterity_total" value="0" />
    <input type="hidden" name="attr_foo_character_dexterity_mod" value="0" />
    <input type="hidden" name="attr_foo_character_aging_strength" value="0" />
    <input type="hidden" name="attr_foo_character_aging_dexterity" value="0" />
    <input type="hidden" name="attr_foo_character_aging_constitution" value="0" />
    <input type="hidden" name="attr_foo_character_aging_intelligence" value="0" />
    <input type="hidden" name="attr_foo_character_aging_wisdom" value="0" />
    <input type="hidden" name="attr_foo_character_aging_charisma" value="0" />
    <input type="hidden" name="attr_foo_character_height" value="0" />
    <input type="hidden" name="attr_foo_character_height_special" value="0" />

    <input type="hidden" name="attr_foo_class_base_attack_bonus1_total" value="0" />
    <input type="hidden" name="attr_foo_class_base_attack_bonus2_total" value="0" />
    <input type="hidden" name="attr_foo_class_base_attack_bonus3_total" value="0" />
    <input type="hidden" name="attr_foo_class_base_attack_bonus4_total" value="0" />
    <input type="hidden" name="attr_foo_class_fortitude_total" value="0" />
    <input type="hidden" name="attr_foo_class_reflex_total" value="0" />
    <input type="hidden" name="attr_foo_class_willpower_total" value="0" />
    <input type="hidden" name="attr_foo_class_level_total" value="0" />

    <input type="hidden" name="attr_foo_combat_maneuver_bonus_creature_size" value="0" />
    <input type="hidden" name="attr_foo_armor_class_mod_dodge" value="0" />

    <input type="hidden" name="attr_foo_caster_level_total_corrected" value="0" />
    <input type="hidden" name="attr_foo_arcane_spell_failure_total" value="0" />
    <input type="hidden" name="attr_foo_spell0_prepared" value="0">
    <input type="hidden" name="attr_foo_spell0_prepared_custom" value="0">
    <input type="hidden" name="attr_foo_spell1_prepared" value="0">
    <input type="hidden" name="attr_foo_spell1_prepared_custom" value="0">
    <input type="hidden" name="attr_foo_spell2_prepared" value="0">
    <input type="hidden" name="attr_foo_spell2_prepared_custom" value="0">
    <input type="hidden" name="attr_foo_spell3_prepared" value="0">
    <input type="hidden" name="attr_foo_spell3_prepared_custom" value="0">
    <input type="hidden" name="attr_foo_spell4_prepared" value="0">
    <input type="hidden" name="attr_foo_spell4_prepared_custom" value="0">
    <input type="hidden" name="attr_foo_spell5_prepared" value="0">
    <input type="hidden" name="attr_foo_spell5_prepared_custom" value="0">
    <input type="hidden" name="attr_foo_spell6_prepared" value="0">
    <input type="hidden" name="attr_foo_spell6_prepared_custom" value="0">
    <input type="hidden" name="attr_foo_spell7_prepared" value="0">
    <input type="hidden" name="attr_foo_spell7_prepared_custom" value="0">
    <input type="hidden" name="attr_foo_spell8_prepared" value="0">
    <input type="hidden" name="attr_foo_spell8_prepared_custom" value="0">
    <input type="hidden" name="attr_foo_spell9_prepared" value="0">
    <input type="hidden" name="attr_foo_spell9_prepared_custom" value="0">

    <input type="hidden" name="attr_foo_armor_bonus" value="0" />
    <input type="hidden" name="attr_foo_armor_class_dexterity" value="0" />

    <input type="hidden" name="attr_foo_skill_ranks_total" value ="0" />
    <input type="hidden" name="attr_foo_skill_perform_ranks_total" value ="0" />
    <input type="hidden" name="attr_foo_skill_custom_ranks_total" value ="0" />

    <input type="hidden" name="attr_foo_npc_character_strength_total" value="0" />
    <input type="hidden" name="attr_foo_npc_character_strength_mod" value="0" />
    <input type="hidden" name="attr_foo_npc_character_dexterity_total" value="0" />
    <input type="hidden" name="attr_foo_npc_character_dexterity_mod" value="0" />
</div>

<!-- DOM interactions -->
<input type="hidden" class="toggle" name="attr_option_template" value="pc" />
<input type="hidden" class="toggle" name="attr_option_health" value="standard" />
<input type="hidden" class="toggle" name="attr_modal" value="closed" />

<input type="hidden" name="attr_foo_character_strength_total_alert" value="hide" />
<input type="hidden" name="attr_foo_character_dexterity_total_alert" value="hide" />
<input type="hidden" name="attr_foo_character_dexterity_mod_alert" value="hide" />
<input type="hidden" name="attr_foo_armor_class_dexterity_alert" value="hide" />
<input type="hidden" name="attr_foo_combat_maneuver_defense_alert" value="hide" />

<div class="compendium-drop-target">
    <input type="hidden" name="attr_compendium_name" accept="Name" />
    <input type="hidden" name="attr_compendium_data" accept="data" />
    <input type="hidden" name="attr_compendium_content" accept="Content" />

    <div class="header">
        <div class="flex-row">
            <div class="flex-col8">
                <div class="header-name">
                    <input class="header-character" type="text" name="attr_character_name" title="" value="@{character_name}" data-i18n-placeholder="character-name-placeholder" />
                    <input class="header-title" type="text" name="attr_character_title" title="" data-i18n-placeholder="character-title-placeholder" />
                </div>
            </div>

            <div class="flex-col4">
                <div class="header-health section">
                    <div class="template-health-standard">
                        <table>
                            <tbody>
                            <tr>
                                <th width="66.666666%">
                                    <span data-i18n="health-hit-points"></span>
                                </th>
                                <td width="33.333333%">
                                    <div class="input-group">
                                        <input type="number" name="attr_health_hit_points" data-i18n-title="health-hit-points-title" value="1" title="" readonly="readonly"/>
                                        <div class="input-group-text">
                                            <span data-i18n="sign-separator"></span>
                                        </div>
                                        <input type="number" name="attr_health_hit_points_max" data-i18n-title="health-hit-points-max-title" value="1" title="" readonly="readonly" />
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    <span data-i18n="health-nonlethal-damage"></span>
                                </th>
                                <td>
                                    <div class="input-group">
                                        <input type="number" name="attr_health_nonlethal_damage" title="" data-i18n-title="health-nonlethal-damage-title" value="0" readonly="readonly" />
                                        <div class="input-group-text">
                                            <span data-i18n="sign-separator"></span>
                                        </div>
                                        <input type="number" name="attr_health_nonlethal_damage_max" title="" data-i18n-title="health-nonlethal-damage-max-title" value="0" readonly="readonly" />
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="template-health-alternative">
                        <table>
                            <tbody>
                            <tr>
                                <th width="66.666666%">
                                    <span data-i18n="health-wound-points"></span>
                                </th>
                                <td width="33.333333%">
                                    <div class="input-group">
                                        <input type="number" name="attr_health_wound_points" title="" data-i18n-title="health-wound-points-title" value="1" readonly="readonly" />
                                        <div class="input-group-text">
                                            <span data-i18n="sign-separator"></span>
                                        </div>
                                        <input type="number" name="attr_health_wound_points_max" title="" data-i18n-title="health-wound-points-max-title" value="1" readonly="readonly" />
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    <span data-i18n="health-vigor"></span>
                                </th>
                                <td>
                                    <div class="input-group">
                                        <input type="number" name="attr_health_vigor" title="" data-i18n-title="health-vigor-title" value="1" readonly="readonly" />
                                        <div class="input-group-text">
                                            <span data-i18n="sign-separator"></span>
                                        </div>
                                        <input type="number" name="attr_health_vigor_max" title="" data-i18n-title="health-vigor-max-title" value="1" readonly="readonly" />
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex-row">
            <div class="flex-col8">
                <div class="flex-row">
                    <div class="flex-col-auto">
                        <div class="status-modal">
                            <div class="status-button">
                                <div class="modal">
                                    <input title="" class="modal-checkbox" data-i18n-title="status" type="checkbox" />
                                    <span class="modal-status-fake-button button" data-i18n="status-short"></span>
                                    <div class="modal-background"></div>
                                    <div class="modal-dialog modal-large">
                                        <div class="modal-header">
                                            <span data-i18n="status"></span>
                                        </div>
                                        <input type="text" class="status-modal-resume" name="attr_status" title="" readonly="readonly" />

                                        <div class="modal-body">
                                            <div class="flex-row">
                                                <div class="flex-col">
                                                    <h2 data-i18n="status-health-and-mental"></h2>
                                                    <ul data-i18n-list="status-health-and-mental-list">
                                                        <li data-i18n-list-item="antagonized">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_antagonized" title="" data-i18n-title="status-antagonized-title"/>
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-antagonized"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="bleed">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_bleed" title="" data-i18n-title="status-bleed-title"/>
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-bleed"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="drowsy">
                                                            <div class="button" data-i18n-title="status-drowsy-title">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="status-drowsy"></span>
                                                                    </div>
                                                                    <select name="attr_status_condition_drowsy" title="">
                                                                        <option value="0" selected="selected" data-i18n="status-drowsy-awake"></option>
                                                                        <option value="1" data-i18n="status-drowsy-mild-short"></option>
                                                                        <option value="2" data-i18n="status-drowsy-moderate-short"></option>
                                                                        <option value="3" data-i18n="status-drowsy-extreme-short"></option>
                                                                        <option value="4" data-i18n="status-drowsy-asleep"></option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="health">
                                                            <div class="button" data-i18n-title="status-health-title">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="status-health"></span>
                                                                    </div>
                                                                    <select name="attr_status_condition_health" title="">
                                                                        <option value="0" selected="selected" data-i18n="status-healthy"></option>
                                                                        <option value="1" data-i18n="status-staggered"></option>
                                                                        <option value="2" data-i18n="status-disabled"></option>
                                                                        <option value="3" data-i18n="status-unconscious"></option>
                                                                        <option value="4" data-i18n="status-dying"></option>
                                                                        <option value="5" data-i18n="status-stable"></option>
                                                                        <option value="6" data-i18n="status-dead"></option>
                                                                        <option value="7" data-i18n="status-energy-drained"></option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="mental-health">
                                                            <div class="button" data-i18n-title="status-mental-health-title">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="status-mental-health-short"></span>
                                                                    </div>
                                                                    <select name="attr_status_condition_mental_health" title="">
                                                                        <option value="0" selected="selected" data-i18n="status-peaceful"></option>
                                                                        <option value="1" data-i18n="status-shaken"></option>
                                                                        <option value="2" data-i18n="status-frightened"></option>
                                                                        <option value="3" data-i18n="status-panicked"></option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="stamina">
                                                            <div class="button" data-i18n-title="status-stamina-title">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="status-stamina-short"></span>
                                                                    </div>
                                                                    <select name="attr_status_condition_stamina" title="">
                                                                        <option value="0" selected="selected" data-i18n="status-fit"></option>
                                                                        <option value="1" data-i18n="status-tired"></option>
                                                                        <option value="2" data-i18n="status-exhausted"></option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>

                                                    <h2 data-i18n="status-environment"></h2>
                                                    <ul data-i18n-list="status-environment-list">
                                                        <li data-i18n-list-item="cowering">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_cowering" title="" data-i18n-title="status-cowering-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-cowering"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="prone">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_prone" title="" data-i18n-title="status-prone-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-prone"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="fighting-defensively">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_fighting_defensively" title="" data-i18n-title="status-fighting-defensively-title"/>
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-fighting-defensively"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="flat-footed">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_flat_footed" title="" data-i18n-title="status-flat-footed-title"/>
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-flat-footed"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="helpless">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_helpless" title="" data-i18n-title="status-helpless-title"/>
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-helpless"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="movement">
                                                            <div class="button" data-i18n-title="status-movement-title">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="status-movement-short"></span>
                                                                    </div>
                                                                    <select name="attr_status_condition_movement" title="">
                                                                        <option value="1" data-i18n="status-movement-free" selected="selected"></option>
                                                                        <option value="2" data-i18n="status-movement-charge"></option>
                                                                        <option value="3" data-i18n="status-movement-crawl"></option>
                                                                        <option value="4" data-i18n="status-movement-entangled"></option>
                                                                        <option value="5" data-i18n="status-movement-grappled"></option>
                                                                        <option value="6" data-i18n="status-movement-pinned"></option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="total-defense">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_total_defense" title="" data-i18n-title="status-total-defense-title"/>
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-total-defense"></span>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>

                                                <div class="flex-col">
                                                    <h2 data-i18n="status-deseases"></h2>
                                                    <ul data-i18n-list="status-deseases-list">
                                                        <li data-i18n-list-item="sickened">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_sickened" title="" data-i18n-title="status-sickened-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-sickened"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="nauseated">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_nauseated" title="" data-i18n-title="status-nauseated-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-nauseated"></span>
                                                            </div>
                                                        </li>
                                                    </ul>

                                                    <h2 data-i18n="status-sens"></h2>
                                                    <ul data-i18n-list="status-sens-list">
                                                        <li data-i18n-list-item="blinded">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_blinded" title="" data-i18n-title="status-blinded-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-blinded"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="confused">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_confused" title="" data-i18n-title="status-confused-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-confused"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="dazed">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_dazed" title="" data-i18n-title="status-dazed-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-dazed"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="dazzled">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_dazzled" title="" data-i18n-title="status-dazzled-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-dazzled"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="deafened">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_deafened" title="" data-i18n-title="status-deafened-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-deafened"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="stunned">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_stunned" title="" data-i18n-title="status-stunned-title"/>
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-stunned"></span>
                                                            </div>
                                                        </li>
                                                    </ul>

                                                    <h2 data-i18n="status-spell"></h2>
                                                    <ul data-i18n-list="status-spell-list">
                                                        <li data-i18n-list-item="incorporeal">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_incorporeal" title="" data-i18n-title="status-incorporeal-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-incorporeal"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="invisible">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_invisible" title="" data-i18n-title="status-invisible-title"/>
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-invisible"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="mesmerized">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_mesmerized" title="" data-i18n-title="status-mesmerized-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-mesmerized"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="paralyzed">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_paralyzed" title="" data-i18n-title="status-paralyzed-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-paralyzed"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="petrified">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_condition_petrified" title="" data-i18n-title="status-petrified-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-petrified"></span>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>

                                                <div class="flex-col">
                                                    <h2 data-i18n="status-negative-level"></h2>
                                                    <ul>
                                                        <li>
                                                            <div class="input-group">
                                                                <div class="input-group-text">
                                                                    <span data-i18n="permanent"></span>
                                                                </div>
                                                                <input type="number" name="attr_status_condition_negative_level" title="" min="0" step="1" value="0" />
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="input-group">
                                                                <div class="input-group-text">
                                                                    <span data-i18n="temporary"></span>
                                                                </div>
                                                                <input type="number" name="attr_status_condition_negative_level_temporary" title="" min="0" step="1" value="0" />
                                                            </div>
                                                        </li>
                                                    </ul>

                                                    <h2 data-i18n="status-class"></h2>
                                                    <ul>
                                                        <li>
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_status_class_barbarian_rage" title="" data-i18n-title="status-class-barbarian-rage-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="status-class-barbarian-rage"></span>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="button" data-i18n-title="status-class-monk-crane-title">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="status-class-crane-style-short"></span>
                                                                    </div>
                                                                    <select name="attr_status_class_monk_crane" title="">
                                                                        <option value="1" data-i18n="status-class-monk-crane-unknown" selected="selected"></option>
                                                                        <option value="2" data-i18n="status-class-monk-crane-style"></option>
                                                                        <option value="3" data-i18n="status-class-monk-crane-wing"></option>
                                                                        <option value="4" data-i18n="status-class-monk-crane-riposte"></option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>

                                                    <h2 data-i18n="status-custom"></h2>
                                                    <div class="status-custom">
                                                        <fieldset class="repeating_statuscustom">
                                                            <div class="status-accordion">
                                                                <input class="accordion-checkbox" type="checkbox" title="" data-i18n-title="show-hide">
                                                                <div class="accordion-container">
                                                                    <div class="accordion-label">
                                                                        <div class="button-switch">
                                                                            <input type="checkbox" name="attr_status_custom_switch" title=""  />
                                                                            <span class="button-switch-face"></span>
                                                                            <span class="button-switch-label" name="attr_status_custom_label"></span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="accordion-content">
                                                                        <input type="text" name="attr_status_custom_label" title="" data-i18n-placeholder="status-custom-label" value="" />
                                                                        <input type="text" name="attr_status_custom_formula" title="" data-i18n-placeholder="status-custom-formula" value="" />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </fieldset>
                                                    </div>
                                                </div>

                                                <div class="flex-col">
                                                    <h2 data-i18n="status-effect"></h2>
                                                    <textarea class="status-effect" name="attr_status_effect" title="" readonly="readonly"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex-col-auto">
                        <div class="status-custom-modal">
                            <div class="modal">
                                <input title="" class="modal-checkbox" data-i18n-title="status-custom" type="checkbox" />
                                <span class="modal-label button tools"></span>
                                <div class="modal-background"></div>
                                <div class="modal-dialog modal-large">
                                    <div class="modal-header">
                                        <span data-i18n="status-custom"></span>
                                    </div>

                                    <div class="modal-body">
                                        <div class="flex-row">
                                            <div class="flex-col3">
                                                <div class="input-group">
                                                    <div class="input-group-text">
                                                        <span data-i18n="status-custom-label"></span>
                                                    </div>
                                                    <input class="text-center" type="text" name="attr_status_custom_user_label" title="" />
                                                </div>
                                            </div>
                                            <div class="flex-col9">
                                                <div class="input-group">
                                                    <div class="input-group-text">
                                                        <span data-i18n="status-custom-formula"></span>
                                                    </div>
                                                    <input class="text-center" type="text" name="attr_status_custom_user_formula" title="" data-i18n-placeholder="status-custom-formula-placeholder" step="1" value="" />

                                                    <button
                                                            type="action"
                                                            name="act_status-decompile"
                                                            class="button"
                                                            data-i18n-title="status-custom-decompile-title"
                                                    >
                                                        <span data-i18n="status-custom-decompile"></span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <div class=" flex-row">
                                            <div class="flex-col3">
                                                <h2 data-i18n="character-nav"></h2>
                                                <ul>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="health-hit-points"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_hit_points" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-action"></span>
                                                            </div>
                                                            <select name="attr_status_custom_action" title="">
                                                                <option data-i18n="yes" value="1" selected="selected"></option>
                                                                <option data-i18n="no" value="2"></option>
                                                            </select>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-action-full-round"></span>
                                                            </div>
                                                            <select name="attr_status_custom_action_full_round" title="">
                                                                <option data-i18n="yes" value="1" selected="selected"></option>
                                                                <option data-i18n="no" value="2"></option>
                                                            </select>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-speed-base-ceiling"></span>
                                                            </div>
                                                            <select name="attr_status_custom_speed_base_ceiling_select" title="">
                                                                <option data-i18n="yes" value="1"></option>
                                                                <option data-i18n="no" value="2" selected="selected"></option>
                                                            </select>
                                                            <input type="number" name="attr_status_custom_speed_base_ceiling" title="" min="0" step="1" value="9" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-speed-tactic"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_speed_tactic_mode" title="" min="0" step="1" value="100" />
                                                            <div class="input-group-text">
                                                                <span>%</span>
                                                            </div>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-speed-run-mode"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_speed_run_mode" title="" step="1" value="4" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-attack-failure"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_attack_failure" title="" step="1" value="0" />
                                                            <div class="input-group-text">
                                                                <span>%</span>
                                                            </div>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-attack"></span>
                                                            </div>
                                                            <select name="attr_status_custom_attack" title="">
                                                                <option data-i18n="yes" value="1" selected="selected"></option>
                                                                <option data-i18n="no" value="2"></option>
                                                            </select>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-attack-opportunity"></span>
                                                            </div>
                                                            <select name="attr_status_custom_attack_opportunity" title="">
                                                                <option data-i18n="yes" value="1" selected="selected"></option>
                                                                <option data-i18n="no" value="2"></option>
                                                            </select>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-target-sneak-attack"></span>
                                                            </div>
                                                            <select name="attr_status_custom_target_sneak_attack" title="">
                                                                <option data-i18n="yes" value="1"></option>
                                                                <option data-i18n="no" value="2" selected="selected"></option>
                                                            </select>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-spell"></span>
                                                            </div>
                                                            <select name="attr_status_custom_spell" title="">
                                                                <option data-i18n="yes" value="1" selected="selected"></option>
                                                                <option data-i18n="no" value="2"></option>
                                                            </select>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>

                                            <div class="flex-col3">
                                                <h2 data-i18n="attribute"></h2>
                                                <ul>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="attribute-strength"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_strength" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-strength-ceiling"></span>
                                                            </div>
                                                            <select name="attr_status_custom_strength_ceiling_select" title="">
                                                                <option data-i18n="yes" value="1"></option>
                                                                <option data-i18n="no" value="2" selected="selected"></option>
                                                            </select>
                                                            <input type="number" name="attr_status_custom_strength_ceiling" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="attribute-dexterity"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_dexterity" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-dexterity-ceiling"></span>
                                                            </div>
                                                            <select name="attr_status_custom_dexterity_ceiling_select" title="">
                                                                <option data-i18n="yes" value="1"></option>
                                                                <option data-i18n="no" value="2" selected="selected"></option>
                                                            </select>
                                                            <input type="number" name="attr_status_custom_dexterity_ceiling" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-dexterity-mod-ceiling"></span>
                                                            </div>
                                                            <select name="attr_status_custom_dexterity_mod_ceiling_select" title="">
                                                                <option data-i18n="yes" value="1"></option>
                                                                <option data-i18n="no" value="2" selected="selected"></option>
                                                            </select>
                                                            <input type="number" name="attr_status_custom_dexterity_mod_ceiling" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="attribute-constitution"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_constitution" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="attribute-intelligence"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_intelligence" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="attribute-wisdom"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_wisdom" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="attribute-charisma"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_charisma" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>

                                            <div class="flex-col3">
                                                <h2 data-i18n="battle-nav"></h2>
                                                <ul>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="initiative"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_initiative" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="combat-maneuver-bonus-short"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_combat_maneuver_bonus" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="battle-attack-short"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_base_attack" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="damage"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_attack_damage" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                </ul>

                                                <h2 data-i18n="spell-nav"></h2>
                                                <ul>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-spell-arcane-spell-failure"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_arcane_spell_failure" title="" step="1" value="0" />
                                                            <div class="input-group-text">
                                                                <span>%</span>
                                                            </div>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="caster-level-title"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_caster_level" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="spell-concentration"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_concentration" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-half-damage-magic"></span>
                                                            </div>
                                                            <select name="attr_status_custom_half_damage_magic" title="">
                                                                <option data-i18n="yes" value="1"></option>
                                                                <option data-i18n="no" value="2" selected="selected"></option>
                                                            </select>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>

                                            <div class="flex-col3">
                                                <h2 data-i18n="defense-nav"></h2>
                                                <ul>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="save-reflex"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_save_reflex" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="save-fortitude"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_save_fortitude" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="save-willpower"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_save_willpower" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-armor-class-melee"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_armor_class_melee" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-armor-class-ranged"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_armor_class_ranged" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="combat-maneuver-defense-short"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_combat_maneuver_defense" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-immune-physical-attack"></span>
                                                            </div>
                                                            <select name="attr_status_custom_immune_physical_attack" title="">
                                                                <option data-i18n="yes" value="1"></option>
                                                                <option data-i18n="no" value="2" selected="selected"></option>
                                                            </select>
                                                        </div>
                                                    </li>
                                                </ul>

                                                <h2 data-i18n="skill-nav"></h2>
                                                <ul>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-skill-all"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_skill" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-skill-perception"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_skill_perception" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="status-custom-skill-reactive"></span>
                                                            </div>
                                                            <input type="number" name="attr_status_custom_skill_reactive" title="" step="1" value="0" />
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="modal-footer">
                                        <div class="flex-row">
                                            <div class="flex-col-auto">
                                                <button
                                                        type="action"
                                                        name="act_status-reset"
                                                        class="button"
                                                        data-i18n-title="status-custom-reset-title"
                                                >
                                                    <span data-i18n="status-custom-reset"></span>
                                                </button>
                                            </div>
                                            <div class="flex-col">
                                                <input type="text" name="attr_status_custom_log" value="" title="" readonly="readonly" />
                                            </div>
                                            <div  class="flex-col-auto">
                                                <button
                                                        type="action"
                                                        name="act_status-compile"
                                                        class="button"
                                                        data-i18n-title="status-custom-compile-title"
                                                >
                                                    <span data-i18n="status-custom-compile"></span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="status-resume">
                            <input name="attr_status" title="" type="text" readonly="readonly" />
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex-col4">
                <div class="flex-row">
                    <div class="flex-col"></div>
                    <div class="flex-col-auto">
                        <div class="option-modal modal">
                            <input title="" class="modal-checkbox" data-i18n-title="option" type="checkbox" />
                            <span class="modal-label button" data-i18n="option-short"></span>
                            <div class="modal-background"></div>
                            <div class="modal-dialog modal-small">
                                <div class="modal-header">
                                    <span data-i18n="option"></span>
                                </div>

                                <div class="modal-body">
                                    <div class="flex-row">
                                        <div class="flex-col6">
                                            <h2 data-i18n="option-general"></h2>
                                            <ul>
                                                <li>
                                                    <div class="button" data-i18n-title="option-template-title">
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="option-template-short"></span>
                                                            </div>
                                                            <select name="attr_option_template" title="">
                                                                <option value="pc" selected="selected" data-i18n="option-template-playable-character"></option>
                                                                <option value="companion" data-i18n="option-template-companion"></option>
                                                                <option value="npc" data-i18n="option-template-non-playable-character"></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="button" data-i18n-title="option-template-life-title">
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="option-template-life-short"></span>
                                                            </div>
                                                            <select name="attr_option_health" title="">
                                                                <option value="standard" selected="selected" data-i18n="option-template-life-standard"></option>
                                                                <option value="alternative" data-i18n="option-template-life-alternative"></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="button" data-i18n-title="option-whisper-title">
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="option-whisper-short"></span>
                                                            </div>
                                                            <select name="attr_option_whisper" title="">
                                                                <option value="" data-i18n="option-whisper-everyone" selected="selected"></option>
                                                                <option value="/w gm" data-i18n="option-whisper-game-master"></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>

                                            <h2 data-i18n="option-unit"></h2>
                                            <ul>
                                                <li>
                                                    <div class="button" data-i18n-title="option-unit-speed-title">
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="option-unit-speed-short"></span>
                                                            </div>
                                                            <select name="attr_option_unit_speed" title="" data-i18n-list="option-unit-speed-list">
                                                                <option value="3" data-i18n="option-unit-meter" data-i18n-list-item="meter"></option>
                                                                <option value="1" data-i18n="option-unit-case" data-i18n-list-item="case" selected="selected"></option>
                                                                <option value="2" data-i18n="option-unit-feet" data-i18n-list-item="feet"></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="button" data-i18n-title="option-unit-height-title">
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="option-unit-height-short"></span>
                                                            </div>
                                                            <select name="attr_option_unit_height" title="" data-i18n-list="option-unit-height-list">
                                                                <option value="1" selected="selected" data-i18n="option-unit-feet" data-i18n-list-item="feet"></option>
                                                                <option value="2" data-i18n="option-unit-meter" data-i18n-list-item="meter"></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="button" data-i18n-title="option-unit-weight-title">
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="option-unit-weight-short"></span>
                                                            </div>
                                                            <select name="attr_option_unit_weight" title="" data-i18n-list="option-unit-weight-list">
                                                                <option value="1" data-i18n="option-unit-kilogram" data-i18n-list-item="kilogram"></option>
                                                                <option value="2" selected="selected" data-i18n="option-unit-pound" data-i18n-list-item="pound"></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="button" data-i18n-title="option-unit-decimal-title">
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="option-unit-decimal-short"></span>
                                                            </div>
                                                            <select name="attr_option_unit_decimal" title="" data-i18n-list="option-unit-decimal-list">
                                                                <option value="1" data-i18n="option-unit-comma" data-i18n-list-item="comma"></option>
                                                                <option value="2" selected="selected" data-i18n="option-unit-dot" data-i18n-list-item="dot"></option>
                                                                <option value="3" data-i18n="option-unit-momayyez" data-i18n-list-item="momayyez"></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="button" data-i18n-title="option-unit-thousand-title">
                                                        <div class="input-group">
                                                            <div class="input-group-text">
                                                                <span data-i18n="option-unit-thousand-short"></span>
                                                            </div>
                                                            <select name="attr_option_unit_thousand" title="" data-i18n-list="option-unit-thousand-list">
                                                                <option value="1" selected="selected" data-i18n="option-unit-comma" data-i18n-list-item="comma"></option>
                                                                <option value="2" data-i18n="option-unit-space" data-i18n-list-item="space"></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="flex-col6">
                                            <h2 data-i18n="option-status"></h2>
                                            <ul data-i18n-list="option-status-list">
                                                <li data-i18n-list-item="aging">
                                                    <div class="button-switch">
                                                        <input type="checkbox" name="attr_option_status_aging" title="" data-i18n-title="option-status-aging-title" checked="checked" />
                                                        <span class="button-switch-face"></span>
                                                        <span class="button-switch-label" data-i18n="option-status-aging"></span>
                                                    </div>
                                                </li>
                                                <li data-i18n-list-item="armor-penalty">
                                                    <div class="button-switch">
                                                        <input type="checkbox" name="attr_option_status_armor_penalty" title="" data-i18n-title="option-status-armor-penalty-title" checked="checked" />
                                                        <span class="button-switch-face"></span>
                                                        <span class="button-switch-label" data-i18n="option-status-armor-penalty"></span>
                                                    </div>
                                                </li>
                                                <li data-i18n-list-item="condition">
                                                    <div class="button-switch">
                                                        <input type="checkbox" name="attr_option_status_condition" title="" data-i18n-title="option-status-condition-title" checked="checked" />
                                                        <span class="button-switch-face"></span>
                                                        <span class="button-switch-label" data-i18n="option-status-condition"></span>
                                                    </div>
                                                </li>
                                                <li data-i18n-list-item="class">
                                                    <div class="button-switch">
                                                        <input type="checkbox" name="attr_option_status_class" title="" data-i18n-title="option-status-class-title" checked="checked" />
                                                        <span class="button-switch-face"></span>
                                                        <span class="button-switch-label" data-i18n="option-status-class"></span>
                                                    </div>
                                                </li>
                                                <li data-i18n-list-item="encumbrance">
                                                    <div class="button-switch">
                                                        <input type="checkbox" name="attr_option_status_encumbrance" title="" data-i18n-title="option-status-encumbrance-title" checked="checked" />
                                                        <span class="button-switch-face"></span>
                                                        <span class="button-switch-label" data-i18n="option-status-encumbrance"></span>
                                                    </div>
                                                </li>
                                                <li class="template-health-standard" data-i18n-list-item="nonlethal-damage">
                                                    <div class="button-switch">
                                                        <input type="checkbox" name="attr_option_status_nonlethal_damage" title="" data-i18n-title="option-status-nonlethal-damage-title" checked="checked" />
                                                        <span class="button-switch-face"></span>
                                                        <span class="button-switch-label" data-i18n="option-status-nonlethal-damage"></span>
                                                    </div>
                                                </li>
                                                <li class="template-health-standard" data-i18n-list-item="wound-threshold">
                                                    <div class="button-switch">
                                                        <input type="checkbox" name="attr_option_status_wound_threshold" title="" data-i18n-title="option-status-wound-threshold-title" checked="checked" />
                                                        <span class="button-switch-face"></span>
                                                        <span class="button-switch-label" data-i18n="option-status-wound-threshold"></span>
                                                    </div>
                                                </li>
                                            </ul>

                                            <h2 data-i18n="option-compendium"></h2>
                                            <ul data-i18n-list="option-compendium-list">
                                                <li data-i18n-list-item="height">
                                                    <div class="button-switch">
                                                        <input type="checkbox" name="attr_compendium_creature_size_active" title="" data-i18n-title="option-compendium-height-title" checked="checked" />
                                                        <span class="button-switch-face"></span>
                                                        <span class="button-switch-label" data-i18n="option-compendium-height"></span>
                                                    </div>
                                                </li>
                                                <li data-i18n-list-item="unit">
                                                    <div class="button-switch">
                                                        <input type="checkbox" name="attr_compendium_unit_active" title="" data-i18n-title="option-compendium-unit-title" checked="checked" />
                                                        <span class="button-switch-face"></span>
                                                        <span class="button-switch-label" data-i18n="option-compendium-unit"></span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex-col-auto">
                        <div class="note-modal modal">
                            <input title="" class="modal-checkbox" data-i18n-title="note-title" type="checkbox" />
                            <span class="modal-label button" data-i18n="note"></span>
                            <div class="modal-background"></div>
                            <div class="modal-dialog modal-large">
                                <div class="modal-header">
                                    <span data-i18n="note"></span>
                                </div>

                                <div class="modal-body">
                                    <textarea name="attr_note" data-i18n-placeholder="note-placeholder" title=""></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="template-playable-character template-companion main tab">
        <span class="main-menu"></span>

        <input class="tab-input" type="radio" name="attr_nav_tab" title="" value="character" checked="checked">
        <input class="tab-input" type="radio" name="attr_nav_tab" title="" value="specialization">
        <input class="tab-input" type="radio" name="attr_nav_tab" title="" value="battle">
        <input class="tab-input" type="radio" name="attr_nav_tab" title="" value="magic">
        <input class="tab-input" type="radio" name="attr_nav_tab" title="" value="defense">
        <input class="tab-input" type="radio" name="attr_nav_tab" title="" value="skill">
        <input class="tab-input" type="radio" name="attr_nav_tab" title="" value="inventory">
        <input class="tab-input" type="radio" name="attr_nav_tab" title="" value="feat">
        <input class="tab-input" type="radio" name="attr_nav_tab" title="" value="note">

        <span class="main-slider"></span>

        <label class="tab-label">
            <span data-i18n="character-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert"></p>

                <div class="section template-health-standard">
                    <div class="flex-row">
                        <div class="flex-col7">
                            <h1 data-i18n="health-hit-points"></h1>
                            <table class="health-hit-points">
                                <thead>
                                <tr>
                                    <th width="20%">
                                        <span data-i18n="base"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                    <td></td>
                                    <th width="20%">
                                        <span data-i18n="max-short" data-i18n-title="health-hit-points-max-title"></span>
                                    </th>
                                    <td></td>
                                    <th width="20%">
                                        <span data-i18n="status-short"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" name="attr_health_hit_points_base" title="" step="1" value="1" />
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_hit_points_miscellaneous" title="" step="1" value="0"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_hit_points_temporary" title="" step="1" value="0" />
                                    </td>
                                    <td>
                                        <span data-i18n="sign-separator"></span>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_hit_points_ceiling" title="" step="1" value="1" />
                                    </td>
                                    <td></td>
                                    <td>
                                        <input type="number" name="attr_character_hit_points_status" title="" value="@{foo_status_hit_points}" disabled="disabled"/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="flex-col5">
                            <h1 data-i18n="health-nonlethal-damage"></h1>
                            <table class="health-nonlethal-damage">
                                <thead>
                                <tr>
                                    <th width="33.333333%">
                                        <span data-i18n="base"></span>
                                    </th>
                                    <th width="33.333333%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                    <td></td>
                                    <th width="33.333333%">
                                        <span data-i18n="max-short" data-i18n-title="health-nonlethal-damage-max-title"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" name="attr_health_nonlethal_damage_base" title="" min="0" step="1" value="0" />
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_nonlethal_damage_temporary" title="" min="0" step="1" value="0" />
                                    </td>
                                    <td>
                                        <span data-i18n="sign-separator"></span>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_character_nonlethal_damage_ceiling" title="" min="0" step="1" value="@{health_hit_points_base}+@{health_hit_points_miscellaneous}+@{health_hit_points_temporary}+@{foo_status_hit_points}" disabled="disabled"/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="section template-health-alternative">
                    <div class="flex-row">
                        <div class="flex-col7">
                            <h1 data-i18n="health-wound-points"></h1>
                            <table class="health-wound-points">
                                <thead>
                                <tr>
                                    <th width="33.333333%">
                                        <span data-i18n="base"></span>
                                    </th>
                                    <th width="33.333333%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                    <td></td>
                                    <th width="33.333333%">
                                        <span data-i18n="max-short" data-i18n-title="health-wound-points-max-title"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" name="attr_health_wound_points_base" title="" min="0" step="1" value="0" />
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_wound_points_temporary" title="" min="0" step="1" value="0" />
                                    </td>
                                    <td>
                                        <span data-i18n="sign-separator"></span>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_wound_points_ceiling" title="" min="0" step="1" value="0" />
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="flex-col5">
                            <h1 data-i18n="health-vigor"></h1>
                            <table class="health-vigor">
                                <thead>
                                <tr>
                                    <th width="33.333333%">
                                        <span data-i18n="base"></span>
                                    </th>
                                    <th width="33.333333%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                    <td></td>
                                    <th width="33.333333%">
                                        <span data-i18n="max-short" data-i18n-title="health-vigor-max-title"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" name="attr_health_vigor_base" title="" min="0" step="1" value="0" />
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_vigor_temporary" title="" min="0" step="1" value="0" />
                                    </td>
                                    <td>
                                        <span data-i18n="sign-separator"></span>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_vigor_ceiling" title="" min="0" step="1" value="0"/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="flex-row">
                    <div class="flex-col7">
                        <h1 data-i18n="character-level"></h1>
                        <div class="template-playable-character">
                            <table class="character-level">
                                <thead>
                                <tr>
                                    <th width="25%">
                                        <span data-i18n="character-level-short"></span>
                                    </th>
                                    <th width="50%">
                                        <span data-i18n="character-experience"></span>
                                    </th>
                                    <th width="25%">
                                        <span data-i18n="character-experience-rate"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" class="text-strong" name="attr_character_level" title="" value="@{foo_class_level_total}" disabled="disabled"/>
                                    </td>
                                    <td class="template-playable-character">
                                        <div class="input-group">
                                            <input type="number" name="attr_character_experience" title="" min="0" step="1" value="0"/>
                                            <div class="input-group-text">
                                                <span data-i18n="sign-separator"></span>
                                            </div>
                                            <input type="text" class="disabled" name="attr_character_experience_total" title="" value="" readonly="readonly" />
                                        </div>
                                    </td>
                                    <td>
                                        <select name="attr_character_experience_rate" title="">
                                            <option data-i18n="character-experience-rate-slow" value="1"></option>
                                            <option data-i18n="character-experience-rate-medium" value="2" selected="selected"></option>
                                            <option data-i18n="character-experience-rate-fast" value="3"></option>
                                        </select>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="template-companion">
                            <table class="companion-level">
                                <thead>
                                <tr>
                                    <th>
                                        <span data-i18n="character-level-short"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" class="text-strong" name="attr_character_level" title="" value="@{foo_class_level_total}" disabled="disabled"/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="flex-col5">
                        <h1 data-i18n="counter"></h1>
                        <div class="counter section">
                            <table>
                                <thead>
                                <tr>
                                    <th width="75%">
                                        <span data-i18n="counter-feature"></span>
                                    </th>
                                    <th width="25%">
                                        <span data-i18n="counter-value"></span>
                                    </th>
                                </tr>
                                </thead>
                            </table>
                            <fieldset class="repeating_counter">
                                <table>
                                    <tbody>
                                    <tr>
                                        <td width="75%">
                                            <input type="text" name="attr_counter_label" title="" data-i18n-placeholder="counter-placeholder" value="" />
                                        </td>
                                        <td width="25%">
                                            <div class="input-group">
                                                <input type="number" name="attr_counter" title=""  min="0" step="1" value="0" />
                                                <div class="input-group-text">
                                                    <span data-i18n="sign-separator"></span>
                                                </div>
                                                <input type="number" name="attr_counter_ceiling" title="" min="0" step="1" value="0" />
                                            </div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </fieldset>
                        </div>
                    </div>
                </div>

                <h1 data-i18n="attribute"></h1>
                <div class="character-attribute section">
                    <table>
                        <thead>
                        <tr>
                            <td width="1%">
                                <div class="fake-button-roll"></div>
                            </td>
                            <th width="10%">
                                <span data-i18n="attribute-short" data-i18n-title="attribute-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="total" data-i18n-title="attribute-pc-total-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="modifier-short" data-i18n-title="attribute-modifier-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="modifier-age-short" data-i18n-title="modifier-age-title"></span>
                            </th>
                            <th width="10%" colspan="2">
                                <span data-i18n="status-short"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="base"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="attribute-race"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="bonus"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="penalty"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tr>
                            <td>
                                <button
                                        name="roll_attribute_strength"
                                        type="roll"
                                        data-i18n-title="attribute-strength-roll-title"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_strength}}} {{test=[[1d20+@{foo_character_strength_mod}+@{foo_status_encumbrance_proficiency}]]}}"
                                ></button>
                            </td>
                            <td class="text-center">
                                <span data-i18n="attribute-strength"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_total" title="" class="text-strong" value="@{foo_character_strength_total}" disabled="disabled" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_mod" title="" class="text-strong" value="@{foo_character_strength_mod}" disabled="disabled" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_aging" title="" value="@{foo_character_aging_strength}" disabled="disabled" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_modifier_status" title="" value="@{foo_status_strength}" disabled="disabled"/>
                            </td>
                            <td data-i18n-title="character-modifier-encumbrance-title">
                                <input type="number" name="attr_character_strength_modifier_encumbrance" title="" value="@{foo_status_encumbrance_proficiency}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_base" title="" min="0" step="1" value="10"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_race" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_bonus" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_penalty" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button
                                        name="roll_attribute_dexterity"
                                        type="roll"
                                        data-i18n-title="attribute-dexterity-roll-title"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_dexterity}}} {{test=[[1d20+@{foo_character_dexterity_mod}+@{foo_status_encumbrance_proficiency}]]}}"
                                ></button>
                            </td>
                            <td class="text-center">
                                <span data-i18n="attribute-dexterity"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_total" title="" class="text-strong" value="@{foo_character_dexterity_total}" disabled="disabled" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_mod" title="" class="text-strong" value="@{foo_character_dexterity_mod}" disabled="disabled" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_aging" title="" min="0" step="1" value="@{foo_character_aging_dexterity}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_modifier_status" title="" value="@{foo_status_dexterity}" disabled="disabled"/>
                            </td>
                            <td data-i18n-title="character-modifier-encumbrance-title">
                                <input type="number" name="attr_character_dexterity_modifier_encumbrance" title="" value="@{foo_status_encumbrance_proficiency}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_base" title="" min="0" step="1" value="10"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_race" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_bonus" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_penalty" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button
                                        name="roll_attribute_constitution"
                                        type="roll"
                                        data-i18n-title="attribute-constitution-roll-title"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_constitution}}} {{test=[[1d20+@{character_constitution_mod}]]}}"
                                ></button>
                            </td>
                            <td class="text-center">
                                <span data-i18n="attribute-constitution"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_total" title="" class="text-strong" value="@{foo_character_aging_constitution}+@{foo_status_constitution}+@{character_constitution_base}+@{character_constitution_race}+@{character_constitution_bonus}-abs(@{character_constitution_penalty})+@{character_constitution_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_mod" title="" class="text-strong" value="floor((@{foo_character_aging_constitution}+@{foo_status_constitution}+@{character_constitution_base}+@{character_constitution_race}+@{character_constitution_bonus}-abs(@{character_constitution_penalty})+@{character_constitution_temporary})/2-5)" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_aging" title="" value="@{foo_character_aging_constitution}" disabled="disabled"/>
                            </td>
                            <td colspan="2">
                                <input type="number" name="attr_character_constitution_status" title="" value="@{foo_status_constitution}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_base" title="" min="0" step="1" value="10"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_race" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_bonus" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_penalty" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button
                                        name="roll_attribute_intelligence"
                                        type="roll"
                                        data-i18n-title="attribute-intelligence-roll-title"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_intelligence}}} {{test=[[1d20+@{character_intelligence_mod}]]}}"
                                ></button>
                            </td>
                            <td class="text-center">
                                <span data-i18n="attribute-intelligence"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_total" title="" class="text-strong" value="@{foo_character_aging_intelligence}+@{foo_status_intelligence}+@{character_intelligence_base}+@{character_intelligence_race}+@{character_intelligence_bonus}-abs(@{character_intelligence_penalty})+@{character_intelligence_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_mod" title="" class="text-strong" value="floor((@{foo_character_aging_intelligence}+@{foo_status_intelligence}+@{character_intelligence_base}+@{character_intelligence_race}+@{character_intelligence_bonus}-abs(@{character_intelligence_penalty})+@{character_intelligence_temporary})/2-5)" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_aging" title="" min="0" step="1" value="@{foo_character_aging_intelligence}" disabled="disabled"/>
                            </td>
                            <td colspan="2">
                                <input type="number" name="attr_character_intelligence_status" title="" value="@{foo_status_intelligence}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_base" title="" min="0" step="1" value="10"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_race" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_bonus" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_penalty" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button
                                        name="roll_attribute_wisdom"
                                        type="roll"
                                        data-i18n-title="attribute-wisdom-roll-title"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_wisdom}}} {{test=[[1d20+@{character_wisdom_mod}]]}}"
                                ></button>
                            </td>
                            <td class="text-center">
                                <span data-i18n="attribute-wisdom"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_total" title="" class="text-strong" value="@{foo_character_aging_wisdom}+@{foo_status_wisdom}+@{character_wisdom_base}+@{character_wisdom_race}+@{character_wisdom_bonus}-abs(@{character_wisdom_penalty})+@{character_wisdom_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_mod" title="" class="text-strong" value="floor((@{foo_character_aging_wisdom}+@{foo_status_wisdom}+@{character_wisdom_base}+@{character_wisdom_race}+@{character_wisdom_bonus}-abs(@{character_wisdom_penalty})+@{character_wisdom_temporary})/2-5)" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_aging" title="" min="0" step="1" value="@{foo_character_aging_wisdom}" disabled="disabled"/>
                            </td>
                            <td colspan="2">
                                <input type="number" name="attr_character_wisdom_status" title="" value="@{foo_status_wisdom}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_base" title="" min="0" step="1" value="10"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_race" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_bonus" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_penalty" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button
                                        name="roll_attribute_charisma"
                                        type="roll"
                                        data-i18n-title="attribute-charisma-roll-title"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_charisma}}} {{test=[[1d20+@{character_charisma_mod}]]}}"
                                ></button>
                            </td>
                            <td class="text-center">
                                <span data-i18n="attribute-charisma"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_total" title="" class="text-strong" value="@{character_charisma_base}+@{foo_character_aging_charisma}+@{foo_status_charisma}+@{character_charisma_race}+@{character_charisma_bonus}-abs(@{character_charisma_penalty})+@{character_charisma_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_mod" title="" class="text-strong" value="floor((@{character_charisma_base}+@{foo_character_aging_charisma}+@{foo_status_charisma}+@{character_charisma_race}+@{character_charisma_bonus}-abs(@{character_charisma_penalty})+@{character_charisma_temporary})/2-5)" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_aging" title="" min="0" step="1" value="@{foo_character_aging_charisma}" disabled="disabled"/>
                            </td>
                            <td colspan="2">
                                <input type="number" name="attr_character_charisma_status" title="" value="@{foo_status_charisma}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_base" title="" min="0" step="1" value="10"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_race" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_bonus" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_penalty" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                    </table>

                    <textarea name="attr_character_attribute_note" title=""></textarea>
                </div>

                <h1 data-i18n="character-appearance"></h1>
                <div class="section">
                    <input type="hidden" name="attr_character_race_toggle" title="" value="hide" />

                    <div class="flex-row">
                        <div class="flex-col8">
                            <div class="template-playable-character">
                                <table class="character-race">
                                    <thead>
                                    <tr>
                                        <th width="25%">
                                            <span data-i18n="character-race"></span>
                                        </th>
                                        <th width="25%">
                                            <span data-i18n="character-type"></span>
                                        </th>
                                        <th width="25%">
                                            <span data-i18n="character-subtype"></span>
                                        </th>
                                        <th width="25%">
                                            <span data-i18n="modifier-age-short"></span>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>
                                            <select name="attr_character_race" title="">
                                                <optgroup label="" data-i18n-label="character-race-core" data-i18n-list="character-race-core-list">
                                                    <option data-i18n="character-race-dwarf" data-i18n-list-item="dwarf" value="1"></option>
                                                    <option data-i18n="character-race-elf" data-i18n-list-item="elf" value="2"></option>
                                                    <option data-i18n="character-race-gnome" data-i18n-list-item="gnome" value="3"></option>
                                                    <option data-i18n="character-race-half-elf" data-i18n-list-item="half-elf" value="4"></option>
                                                    <option data-i18n="character-race-half-orc" data-i18n-list-item="half-orc" value="5"></option>
                                                    <option data-i18n="character-race-halfling" data-i18n-list-item="halfling" value="6"></option>
                                                    <option data-i18n="character-race-human" data-i18n-list-item="human" value="7"></option>
                                                </optgroup>
                                                <optgroup label="" data-i18n-label="character-race-featured" data-i18n-list="character-race-featured-list">
                                                    <option data-i18n="character-race-aasimar" data-i18n-list-item="aasimar" value="8"></option>
                                                    <option data-i18n="character-race-catfolk" data-i18n-list-item="catfolk" value="9"></option>
                                                    <option data-i18n="character-race-dhampir" data-i18n-list-item="dhampir" value="10"></option>
                                                    <option data-i18n="character-race-drow" data-i18n-list-item="drow" value="11"></option>
                                                    <option data-i18n="character-race-fetchling" data-i18n-list-item="fetchling" value="12"></option>
                                                    <option data-i18n="character-race-goblin" data-i18n-list-item="goblin" value="13"></option>
                                                    <option data-i18n="character-race-hobgoblin" data-i18n-list-item="hobgoblin" value="14"></option>
                                                    <option data-i18n="character-race-ifrit" data-i18n-list-item="ifrit" value="15"></option>
                                                    <option data-i18n="character-race-kobold" data-i18n-list-item="kobold" value="16"></option>
                                                    <option data-i18n="character-race-orc" data-i18n-list-item="orc" value="17"></option>
                                                    <option data-i18n="character-race-oread" data-i18n-list-item="oread" value="18"></option>
                                                    <option data-i18n="character-race-ratfolk" data-i18n-list-item="ratfolk" value="19"></option>
                                                    <option data-i18n="character-race-sylph" data-i18n-list-item="sylph" value="20"></option>
                                                    <option data-i18n="character-race-tengu" data-i18n-list-item="tengu" value="21"></option>
                                                    <option data-i18n="character-race-tiefling" data-i18n-list-item="tiefling" value="22"></option>
                                                    <option data-i18n="character-race-undine" data-i18n-list-item="undine" value="23"></option>
                                                </optgroup>
                                                <optgroup label="" data-i18n-label="character-race-uncommon" data-i18n-list="character-race-uncommon-list">
                                                    <option data-i18n="character-race-changeling" data-i18n-list-item="changeling" value="24"></option>
                                                    <option data-i18n="character-race-duergar" data-i18n-list-item="duergar" value="25"></option>
                                                    <option data-i18n="character-race-gillmen" data-i18n-list-item="gillmen" value="26"></option>
                                                    <option data-i18n="character-race-grippli" data-i18n-list-item="grippli" value="27"></option>
                                                    <option data-i18n="character-race-kitsune" data-i18n-list-item="kitsune" value="28"></option>
                                                    <option data-i18n="character-race-merfolk" data-i18n-list-item="merfolk" value="29"></option>
                                                    <option data-i18n="character-race-nagaji" data-i18n-list-item="nagaji" value="30"></option>
                                                    <option data-i18n="character-race-samsaran" data-i18n-list-item="samsaran" value="31"></option>
                                                    <option data-i18n="character-race-strix" data-i18n-list-item="strix" value="32"></option>
                                                    <option data-i18n="character-race-suli" data-i18n-list-item="suli" value="33"></option>
                                                    <option data-i18n="character-race-svirfneblin" data-i18n-list-item="svirfneblin" value="34"></option>
                                                    <option data-i18n="character-race-vanara" data-i18n-list-item="vanara" value="35"></option>
                                                    <option data-i18n="character-race-vishkanya" data-i18n-list-item="vishkanya" value="36"></option>
                                                    <option data-i18n="character-race-wayang" data-i18n-list-item="wayang" value="37"></option>
                                                </optgroup>
                                                <optgroup label="" data-i18n-label="character-race-other">
                                                    <option data-i18n="other" value="0"></option>
                                                </optgroup>
                                            </select>
                                        </td>
                                        <td>
                                            <input type="text" class="template-character-race-standard disabled" name="attr_character_type" title="" value="" readonly="readonly" />
                                            <input type="text" class="template-character-race-other" name="attr_character_type_other" title="" value="" />
                                        </td>
                                        <td>
                                            <input type="text" class="template-character-race-standard disabled" name="attr_character_subtype" title="" value="" readonly="readonly" />
                                            <input type="text" class="template-character-race-other" name="attr_character_subtype_other" title="" value="" />
                                        </td>
                                        <td>
                                            <div class="template-character-race-standard">
                                                <div class="input-group">
                                                    <input type="number" name="attr_character_age" title="" min="0" step="1" value="0">
                                                    <div class="input-group-text">
                                                        <span data-i18n="character-aging-years-short"></span>
                                                    </div>
                                                    <input type="text" class="disabled" name="attr_character_aging_label" title="" readonly="readonly">
                                                </div>
                                            </div>
                                            <select class="template-character-race-other" name="attr_character_age_select" title="">
                                                <option data-i18n="character-aging-youth" value="1"></option>
                                                <option data-i18n="character-aging-adult" value="2" selected="selected"></option>
                                                <option data-i18n="character-aging-middle" value="3"></option>
                                                <option data-i18n="character-aging-old" value="4"></option>
                                                <option data-i18n="character-aging-venerable" value="5"></option>
                                            </select>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="template-companion">
                                <table class="companion-race">
                                    <thead>
                                    <tr>
                                        <th width="75%">
                                            <span data-i18n="character-race"></span>
                                        </th>
                                        <th width="25%">
                                            <span data-i18n="modifier-age-short"></span>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>
                                            <input type="hidden" name="attr_companion_race_toggle" title="" class="companion-race-toggle" value="hide" />
                                            <div class="input-group companion-race-container-toggle">
                                                <select name="attr_companion_race" title="" data-i18n-list="companion-race-list">
                                                    <optgroup label="" data-i18n-label="monster-race-aquatic" data-i18n-list-item="aquatic" data-i18n-list="monster-race-aquatic-list">
                                                        <option data-i18n="monster-race-blue-ringed-octopus" data-i18n-list-item="blue-ringed-octopus" value="1"></option>
                                                        <option data-i18n="monster-race-dolphin" data-i18n-list-item="dolphin" value="2"></option>
                                                        <option data-i18n="monster-race-electric-eel" data-i18n-list-item="electric-eel" value="3"></option>
                                                        <option data-i18n="monster-race-giant-frog" data-i18n-list-item="giant-frog" value="4"></option>
                                                        <option data-i18n="monster-race-giant-moray-eel" data-i18n-list-item="giant-moray-eel" value="5"></option>
                                                        <option data-i18n="monster-race-killer-whale" data-i18n-list-item="killer-whale" value="6"></option>
                                                        <option data-i18n="monster-race-octopus" data-i18n-list-item="octopus" value="7"></option>
                                                        <option data-i18n="monster-race-poisonous-frog" data-i18n-list-item="poisonous-frog" value="8"></option>
                                                        <option data-i18n="monster-race-shark" data-i18n-list-item="shark" value="9"></option>
                                                        <option data-i18n="monster-race-squid" data-i18n-list-item="squid" value="10"></option>
                                                        <option data-i18n="monster-race-sea-turtle" data-i18n-list-item="sea-turtle" value="11"></option>
                                                        <option data-i18n="monster-race-toad" data-i18n-list-item="toad" value="12"></option>
                                                    </optgroup>
                                                    <optgroup label="" data-i18n-label="monster-race-dinosaur" data-i18n-list-item="dinosaur" data-i18n-list="monster-race-dinosaur-list">
                                                        <option data-i18n="monster-race-archaeopteryx" data-i18n-list-item="archaeopteryx" value="13"></option>
                                                        <option data-i18n="monster-race-ankylosaurus" data-i18n-list-item="ankylosaurus" value="14"></option>
                                                        <option data-i18n="monster-race-brachiosaurus" data-i18n-list-item="brachiosaurus" value="15"></option>
                                                        <option data-i18n="monster-race-compsognathus" data-i18n-list-item="compsognathus" value="16"></option>
                                                        <option data-i18n="monster-race-deinonychus" data-i18n-list-item="deinonychus" value="17"></option>
                                                        <option data-i18n="monster-race-elasmosaurus" data-i18n-list-item="elasmosaurus" value="18"></option>
                                                        <option data-i18n="monster-race-pteranodon" data-i18n-list-item="pteranodon" value="19"></option>
                                                        <option data-i18n="monster-race-sphenodon" data-i18n-list-item="sphenodon" value="20"></option>
                                                        <option data-i18n="monster-race-stegosaurus" data-i18n-list-item="stegosaurus" value="21"></option>
                                                        <option data-i18n="monster-race-velociraptor" data-i18n-list-item="velociraptor" value="22"></option>
                                                        <option data-i18n="monster-race-triceratopic" data-i18n-list-item="triceratopic" value="23"></option>
                                                        <option data-i18n="monster-race-tyrannosaurus" data-i18n-list-item="tyrannosaurus" value="24"></option>
                                                    </optgroup>
                                                    <optgroup label="" data-i18n-label="monster-race-flying" data-i18n-list-item="flying" data-i18n-list="monster-race-flying-list">
                                                        <option data-i18n="monster-race-bat" data-i18n-list-item="bat" value="25"></option>
                                                        <option data-i18n="monster-race-bloody-bat" data-i18n-list-item="bloody-bat" value="26"></option>
                                                        <option data-i18n="monster-race-crab" data-i18n-list-item="crab" value="28"></option>
                                                        <option data-i18n="monster-race-dodo" data-i18n-list-item="dodo" value="27"></option>
                                                        <option data-i18n="monster-race-eagle" data-i18n-list-item="eagle" value="29"></option>
                                                        <option data-i18n="monster-race-falcon" data-i18n-list-item="falcon" value="30"></option>
                                                        <option data-i18n="monster-race-owl" data-i18n-list-item="owl" value="31"></option>
                                                        <option data-i18n="monster-race-raven" data-i18n-list-item="raven" value="32"></option>
                                                        <option data-i18n="monster-race-thrush" data-i18n-list-item="thrush" value="33"></option>
                                                    </optgroup>
                                                    <optgroup label="" data-i18n-label="monster-race-land-based" data-i18n-list-item="land-based" data-i18n-list="monster-race-land-based-list">
                                                        <option data-i18n="monster-race-auroch" data-i18n-list-item="auroch" value="34"></option>
                                                        <option data-i18n="monster-race-badger" data-i18n-list-item="badger" value="35"></option>
                                                        <option data-i18n="monster-race-bear" data-i18n-list-item="bear" value="36"></option>
                                                        <option data-i18n="monster-race-bison" data-i18n-list-item="bison" value="37"></option>
                                                        <option data-i18n="monster-race-bloodthirsty-hyena" data-i18n-list-item="bloodthirsty-hyena" value="38"></option>
                                                        <option data-i18n="monster-race-bloodthirsty-rat" data-i18n-list-item="bloodthirsty-rat" value="39"></option>
                                                        <option data-i18n="monster-race-boar" data-i18n-list-item="boar" value="40"></option>
                                                        <option data-i18n="monster-race-camel" data-i18n-list-item="camel" value="41"></option>
                                                        <option data-i18n="monster-race-cat" data-i18n-list-item="cat" value="42"></option>
                                                        <option data-i18n="monster-race-cheetah" data-i18n-list-item="cheetah" value="43"></option>
                                                        <option data-i18n="monster-race-constrictor-snake" data-i18n-list-item="constrictor-snake" value="44"></option>
                                                        <option data-i18n="monster-race-dog" data-i18n-list-item="dog" value="45"></option>
                                                        <option data-i18n="monster-race-domestic-centipede" data-i18n-list-item="domestic-centipede" value="46"></option>
                                                        <option data-i18n="monster-race-dromedary" data-i18n-list-item="dromedary" value="47"></option>
                                                        <option data-i18n="monster-race-elephant" data-i18n-list-item="elephant" value="48"></option>
                                                        <option data-i18n="monster-race-flying-squirrel" data-i18n-list-item="flying-squirrel" value="49"></option>
                                                        <option data-i18n="monster-race-fox" data-i18n-list-item="fox" value="50"></option>
                                                        <option data-i18n="monster-race-giant-flea" data-i18n-list-item="giant-flea" value="51"></option>
                                                        <option data-i18n="monster-race-glutton" data-i18n-list-item="glutton" value="52"></option>
                                                        <option data-i18n="monster-race-goat" data-i18n-list-item="goat" value="53"></option>
                                                        <option data-i18n="monster-race-goblin-dog" data-i18n-list-item="goblin-dog" value="54"></option>
                                                        <option data-i18n="monster-race-gorilla" data-i18n-list-item="gorilla" value="55"></option>
                                                        <option data-i18n="monster-race-green-scorpion" data-i18n-list-item="green-scorpion" value="56"></option>
                                                        <option data-i18n="monster-race-hedgehog" data-i18n-list-item="hedgehog" value="57"></option>
                                                        <option data-i18n="monster-race-hyena" data-i18n-list-item="hyena" value="58"></option>
                                                        <option data-i18n="monster-race-horse" data-i18n-list-item="horse" value="59"></option>
                                                        <option data-i18n="monster-race-leopard" data-i18n-list-item="leopard" value="60"></option>
                                                        <option data-i18n="monster-race-lion" data-i18n-list-item="lion" value="61"></option>
                                                        <option data-i18n="monster-race-lizard" data-i18n-list-item="lizard" value="62"></option>
                                                        <option data-i18n="monster-race-mara" data-i18n-list-item="mara" value="63"></option>
                                                        <option data-i18n="monster-race-monkey" data-i18n-list-item="monkey" value="64"></option>
                                                        <option data-i18n="monster-race-otter" data-i18n-list-item="otter" value="65"></option>
                                                        <option data-i18n="monster-race-pig" data-i18n-list-item="pig" value="66"></option>
                                                        <option data-i18n="monster-race-platypus" data-i18n-list-item="platypus" value="67"></option>
                                                        <option data-i18n="monster-race-pony" data-i18n-list-item="pony" value="68"></option>
                                                        <option data-i18n="monster-race-porcupine" data-i18n-list-item="porcupine" value="69"></option>
                                                        <option data-i18n="monster-race-raccoon" data-i18n-list-item="raccoon" value="70"></option>
                                                        <option data-i18n="monster-race-rat" data-i18n-list-item="rat" value="71"></option>
                                                        <option data-i18n="monster-race-rhinoceros" data-i18n-list-item="rhinoceros" value="72"></option>
                                                        <option data-i18n="monster-race-roc" data-i18n-list-item="roc" value="73"></option>
                                                        <option data-i18n="monster-race-scarlet-spider" data-i18n-list-item="scarlet-spider" value="74"></option>
                                                        <option data-i18n="monster-race-sloth" data-i18n-list-item="sloth" value="75"></option>
                                                        <option data-i18n="monster-race-smilodon" data-i18n-list-item="smilodon" value="76"></option>
                                                        <option data-i18n="monster-race-snapping-turtle" data-i18n-list-item="snapping-turtle" value="77"></option>
                                                        <option data-i18n="monster-race-snake" data-i18n-list-item="snake" value="78"></option>
                                                        <option data-i18n="monster-race-spotted-lion" data-i18n-list-item="spotted-lion" value="79"></option>
                                                        <option data-i18n="monster-race-tiger" data-i18n-list-item="tiger" value="80"></option>
                                                        <option data-i18n="monster-race-varan" data-i18n-list-item="varan" value="81"></option>
                                                        <option data-i18n="monster-race-viper" data-i18n-list-item="viper" value="82"></option>
                                                        <option data-i18n="monster-race-weasel" data-i18n-list-item="weasel" value="83"></option>
                                                        <option data-i18n="monster-race-wolf" data-i18n-list-item="wolf" value="84"></option>
                                                    </optgroup>
                                                    <optgroup label="" data-i18n-label="monster-race-plant" data-i18n-list-item="plant" data-i18n-list="monster-race-plant-list">
                                                        <option data-i18n="monster-race-carnivorous-plant" data-i18n-list-item="carnivorous-plant" value="85"></option>
                                                        <option data-i18n="monster-race-creeping-ivy" data-i18n-list-item="creeping-ivy" value="86"></option>
                                                        <option data-i18n="monster-race-sylvanian-sprout" data-i18n-list-item="sylvanian-sprout" value="87"></option>
                                                        <option data-i18n="monster-race-vesse-de-loup" data-i18n-list-item="vesse-de-loup" value="88"></option>
                                                    </optgroup>
                                                    <optgroup label="" data-i18n-label="monster-race-other">
                                                        <option data-i18n="other" value="0"></option>
                                                    </optgroup>
                                                </select>
                                                <input type="text" name="attr_companion_race_other" title="" placeholder="" data-i18n-placeholder="other" value="">
                                            </div>
                                        </td>
                                        <td>
                                            <select name="attr_character_age_select" title="">
                                                <option data-i18n="character-aging-youth" value="1"></option>
                                                <option data-i18n="character-aging-adult" value="2" selected="selected"></option>
                                                <option data-i18n="character-aging-middle" value="3"></option>
                                                <option data-i18n="character-aging-old" value="4"></option>
                                                <option data-i18n="character-aging-venerable" value="5"></option>
                                            </select>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="flex-col4">
                            <table class="character-appearance">
                                <thead>
                                <tr>
                                    <th width="33.333333%">
                                        <span data-i18n="character-sex"></span>
                                    </th>
                                    <th width="33.333333%">
                                        <span data-i18n="character-creature-size-short" data-i18n-title="character-creature-size-title"></span>
                                    </th>
                                    <th width="33.333333%">
                                        <span data-i18n="character-stance"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <select name="attr_character_sex" title="" data-i18n-list="character-sex-list">
                                            <option data-i18n="character-sex-female" value="1" data-i18n-list-item="female"></option>
                                            <option data-i18n="character-sex-male" value="2" data-i18n-list-item="male"></option>
                                        </select>
                                    </td>
                                    <td>
                                        <select name="attr_character_creature_size_select" title="">
                                            <option data-i18n="character-creature-size-fine" value="8"></option>
                                            <option data-i18n="character-creature-size-diminutive" value="4"></option>
                                            <option data-i18n="character-creature-size-tiny" value="2"></option>
                                            <option data-i18n="character-creature-size-small" value="1"></option>
                                            <option data-i18n="character-creature-size-medium" value="0" selected="selected"></option>
                                            <option data-i18n="character-creature-size-large" value="-1"></option>
                                            <option data-i18n="character-creature-size-huge" value="-2"></option>
                                            <option data-i18n="character-creature-size-gargantuan" value="-4"></option>
                                            <option data-i18n="character-creature-size-colossal" value="-8"></option>
                                        </select>
                                    </td>
                                    <td>
                                        <select name="attr_character_stance" title="">
                                            <option data-i18n="character-stance-bipedal" value="0" selected="selected"></option>
                                            <option data-i18n="character-stance-four-legged" value="1"></option>
                                        </select>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="template-playable-character">
                        <div class="template-character-race-standard">
                            <div class="flex-row">
                                <div class="flex-col6">
                                    <table class="character-height">
                                        <thead>
                                        <tr>
                                            <th width="33.333333%">
                                                <span data-i18n="character-height" data-i18n-title="character-height-title"></span>
                                            </th>
                                            <th width="33.333333%">
                                                <span data-i18n="character-height-base" data-i18n-title="character-height-base-title"></span>
                                            </th>
                                            <th width="33.333333%%">
                                                <span data-i18n="modifier-short" data-i18n-title="character-height-title"></span>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>
                                                <input type="text" class="disabled text-strong" name="attr_character_height_total" title="" value="" readonly="readonly" />
                                            </td>
                                            <td>
                                                <input type="text" name="attr_character_height_base" title="" class="disabled" value="" readonly="readonly" />
                                            </td>
                                            <td>
                                                <input type="number" name="attr_character_height_mod" title="" min="1" step="1" value="1">
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="flex-col6">
                                    <table class="character-weight">
                                        <thead>
                                        <tr>
                                            <th width="25%">
                                                <span data-i18n="weight" data-i18n-title="character-weight-title"></span>
                                            </th>
                                            <th width="25%">
                                                <span data-i18n="character-weight-base" data-i18n-title="character-weight-base-title"></span>
                                            </th>
                                            <th width="25%">
                                                <span data-i18n="character-weight-mod-mode" data-i18n-title="character-weight-mod-mode-title"></span>
                                            </th>
                                            <th width="25%%">
                                                <span data-i18n="modifier-short" data-i18n-title="character-weight-title"></span>
                                            </th>
                                            <td></td>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>
                                                <input type="text" class="disabled text-strong" name="attr_character_weight_total" value="" title="" readonly="readonly"/>
                                            </td>
                                            <td>
                                                <input type="text" name="attr_character_weight_base" title="" class="disabled" value="" readonly="readonly" />
                                            </td>
                                            <td>
                                                <input type="text" name="attr_character_weight_mod_mode" title="" class="disabled" readonly="readonly" />
                                            </td>
                                            <td>
                                                <input type="number" name="attr_character_weight_mod" title="" min="1" step="1" value="1">
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <table class="character-head">
                        <thead>
                        <tr>
                            <th width="20%">
                                <span data-i18n="character-hair"></span>
                            </th>
                            <th width="20%">
                                <span data-i18n="character-skin"></span>
                            </th>
                            <th width="20%">
                                <span data-i18n="character-eyes"></span>
                            </th>
                            <th width="40%">
                                <span data-i18n="character-sight"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="text" name="attr_character_hair" title="" value="" />
                            </td>
                            <td>
                                <input type="text" name="attr_character_skin" title="" value="" />
                            </td>
                            <td>
                                <input type="text" name="attr_character_eyes" title="" value="" />
                            </td>
                            <td>
                                <div class="input-group">
                                    <select name="attr_character_sight" title="">
                                        <option data-i18n="character-sight-normal" value="1" selected="selected"></option>
                                        <option data-i18n="character-sight-nightvision" value="2"></option>
                                        <option data-i18n="character-sight-darkvision" value="3"></option>
                                    </select>
                                    <input type="text" name="attr_character_sight_distance" title="" value="" />
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <div class="flex-row">
                        <div class="flex-col6 template-playable-character">
                            <table class="character-background">
                                <thead>
                                <tr>
                                    <th width="50%">
                                        <span data-i18n="character-alignment"></span>
                                    </th>
                                    <th width="50%">
                                        <span data-i18n="character-deities"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <select name="attr_character_alignment_select" title="">
                                            <optgroup label="" data-i18n-label="character-alignment-lawful">
                                                <option data-i18n="character-alignment-lawful-good" value="1"></option>
                                                <option data-i18n="character-alignment-lawful-neutral" value="2"></option>
                                                <option data-i18n="character-alignment-lawful-evil" value="3"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="character-alignment-neutral">
                                                <option data-i18n="character-alignment-neutral-good" value="4"></option>
                                                <option data-i18n="character-alignment-neutral" value="5" selected="selected"></option>
                                                <option data-i18n="character-alignment-neutral-evil" value="6"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="character-alignment-chaotic">
                                                <option data-i18n="character-alignment-chaotic-good" value="7"></option>
                                                <option data-i18n="character-alignment-chaotic-neutral" value="8"></option>
                                                <option data-i18n="character-alignment-chaotic-evil" value="9"></option>
                                            </optgroup>
                                        </select>
                                    </td>
                                    <td>
                                        <select name="attr_character_deities" title="">
                                            <option data-i18n="character-deities-atheism" value="1" selected="selected"></option>
                                            <optgroup label="" data-i18n-label="character-deities-major" data-i18n-list="character-deities-major-list">
                                                <option data-i18n="character-deities-abadar" value="2"></option>
                                                <option data-i18n="character-deities-asmodeus" value="3"></option>
                                                <option data-i18n="character-deities-calistria" value="4"></option>
                                                <option data-i18n="character-deities-cayden-cailean" value="5"></option>
                                                <option data-i18n="character-deities-desna" value="6"></option>
                                                <option data-i18n="character-deities-erastil" value="7"></option>
                                                <option data-i18n="character-deities-gorum" value="8"></option>
                                                <option data-i18n="character-deities-gozreh" value="9"></option>
                                                <option data-i18n="character-deities-iomedae" value="10"></option>
                                                <option data-i18n="character-deities-irori" value="11"></option>
                                                <option data-i18n="character-deities-lamashtu" value="12"></option>
                                                <option data-i18n="character-deities-norgorber" value="13"></option>
                                                <option data-i18n="character-deities-pharasma" value="14"></option>
                                                <option data-i18n="character-deities-rovagug" value="15"></option>
                                                <option data-i18n="character-deities-sarenrae" value="16"></option>
                                                <option data-i18n="character-deities-shelyn" value="17"></option>
                                                <option data-i18n="character-deities-torag" value="18"></option>
                                                <option data-i18n="character-deities-urgathoa" value="19"></option>
                                                <option data-i18n="character-deities-zon-kuthon" value="20"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="character-deities-secondary" data-i18n-list="character-deities-secondary-list">
                                                <option data-i18n="character-deities-achaekek" value="21"></option>
                                                <option data-i18n="character-deities-apsu" value="22"></option>
                                                <option data-i18n="character-deities-aroden" value="23"></option>
                                                <option data-i18n="character-deities-besmara" value="24"></option>
                                                <option data-i18n="character-deities-dahak" value="25"></option>
                                                <option data-i18n="character-deities-droskar" value="26"></option>
                                                <option data-i18n="character-deities-ghlaunder" value="27"></option>
                                                <option data-i18n="character-deities-gogunta" value="28"></option>
                                                <option data-i18n="character-deities-groetus" value="29"></option>
                                                <option data-i18n="character-deities-kurgess" value="30"></option>
                                                <option data-i18n="character-deities-lissala" value="31"></option>
                                                <option data-i18n="character-deities-milani" value="32"></option>
                                                <option data-i18n="character-deities-razmir" value="33"></option>
                                                <option data-i18n="character-deities-sivanah" value="34"></option>
                                                <option data-i18n="character-deities-treerazer" value="35"></option>
                                                <option data-i18n="character-deities-zyphus" value="36"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="character-deities-philosophy" data-i18n-list="character-deities-philosophy-list">
                                                <option data-i18n="character-deities-diabolism" value="37"></option>
                                                <option data-i18n="character-deities-green-faith" value="38"></option>
                                                <option data-i18n="character-deities-prophecies-of-kalistrade" value="39"></option>
                                                <option data-i18n="character-deities-whispering-way" value="40"></option>
                                            </optgroup>
                                        </select>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="flex-col6">
                            <table class="language">
                                <thead>
                                <tr>
                                    <th colspan="2">
                                        <span data-i18n="language"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td width="100%">
                                        <input type="text" class="disabled" name="attr_language" title="" readonly="readonly"/>
                                    </td>
                                    <td>
                                        <div class="language-modal modal">
                                            <input title="" class="modal-checkbox" type="checkbox" />
                                            <span class="modal-label button pen"></span>
                                            <div class="modal-background"></div>
                                            <div class="modal-dialog modal-medium">
                                                <div class="modal-header">
                                                    <span data-i18n="language"></span>
                                                </div>
                                                <div class="modal-body">
                                                    <h2 data-i18n="language-everyday"></h2>
                                                    <ul data-i18n-list="language-everyday-list">
                                                        <li data-i18n-list-item="common">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_common" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-common"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="draconic">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_draconic" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-draconic"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="dwarven">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_dwarven" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-dwarven"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="elven">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_elven" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-elven"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="gnomish">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_gnomish" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-gnomish"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="goblin">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_goblin" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-goblin"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="halfling">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_halfling" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-halfling"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="jotun">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_jotun" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-jotun"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="orcish">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_orcish" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-orcish"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="sylvan">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_sylvan" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-sylvan"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="undercommon">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_undercommon" title="" data-i18n-title="language-undercommon" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-undercommon"></span>
                                                            </div>
                                                        </li>
                                                    </ul>

                                                    <h2 data-i18n="language-uncommon"></h2>
                                                    <ul data-i18n-list="language-uncommon-list">
                                                        <li data-i18n-list-item="abyssal">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_abyssal" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-abyssal"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="aklo">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_aklo" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-aklo"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="aquan">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_aquan" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-aquan"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="auran">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_auran" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-auran"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="celestial">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_celestial" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-celestial"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="gnoll">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_gnoll" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-gnoll"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="ignan">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_ignan" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-ignan"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="infernal">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_infernal" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-infernal"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="necril">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_necril" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-necril"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="shadowtongue">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_shadowtongue" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-shadowtongue"></span>
                                                            </div>
                                                        </li>
                                                        <li data-i18n-list-item="terran">
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_terran" title="" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-terran"></span>
                                                            </div>
                                                        </li>
                                                    </ul>

                                                    <h2 data-i18n="language-secret"></h2>
                                                    <ul>
                                                        <li>
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_language_druidic" title=""/>
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="language-druidic"></span>
                                                            </div>
                                                        </li>
                                                    </ul>

                                                    <h2 data-i18n="language-other"></h2>
                                                    <input type="text" name="attr_language_other" title="" value="" />
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <textarea name="attr_character_appearance_note" title=""></textarea>
                </div>

                <h1 data-i18n="speed"></h1>
                <div class="character-speed section">
                    <table>
                        <thead>
                        <tr>
                            <th width="14.285714%">
                                <span data-i18n="speed-tactic" data-i18n-title="speed-tactic-title"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="speed-run" data-i18n-title="speed-run-title"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="speed-swim" data-i18n-title="speed-swim-title"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="speed-climb" data-i18n-title="speed-climb-title"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="base"></span>
                            </th>
                            <td></td>
                            <th width="14.285714%">
                                <span data-i18n="speed-lift" data-i18n-title="speed-lift-title"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="speed-pull" data-i18n-title="speed-pull-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="text" name="attr_character_speed_tactic" title="" class="disabled text-strong" value="" readonly="readonly"/>
                            </td>
                            <td>
                                <input type="text" name="attr_character_speed_run_mode" title="" class="disabled text-strong" value="" readonly="readonly"/>
                            </td>
                            <td>
                                <input type="text" name="attr_character_speed_swim" title="" class="disabled text-strong" value="" readonly="readonly"/>
                            </td>
                            <td>
                                <input type="text" name="attr_character_speed_climb" title="" class="disabled text-strong" value="" readonly="readonly"/>
                            </td>
                            <td>
                                <input type="text" name="attr_character_speed_base" title="" min="0" step="0.5" value="9"/>
                            </td>
                            <td></td>
                            <td>
                                <input type="text" name="attr_character_speed_lift" title="" class="disabled text-strong" value="" readonly="readonly"/>
                            </td>
                            <td>
                                <input type="text" name="attr_character_speed_pull" title="" class="disabled text-strong" value="" readonly="readonly"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_character_speed_note" title=""></textarea>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="specialization-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert"></p>

                <h1 data-i18n="classes"></h1>
                <div class="class section">
                    <table>
                        <thead>
                        <tr>
                            <th width="23.076923%">
                                <span data-i18n="class"></span>
                            </th>
                            <th width="7.692308%">
                                <span data-i18n="hit-dice"></span>
                            </th>
                            <th width="7.692308%">
                                <span data-i18n="class-skills-per-level-short" data-i18n-title="class-skills-per-level-title"></span>
                            </th>
                            <th colspan="4" width="30.769231%">
                                <span data-i18n="base-attack-bonus-short" data-i18n-title="base-attack-bonus"></span>
                            </th>
                            <th width="7.692308%">
                                <span data-i18n="save-reflex-short" data-i18n-title="save-reflex-title"></span>
                            </th>
                            <th width="7.692308%">
                                <span data-i18n="save-fortitude-short" data-i18n-title="save-fortitude-title"></span>
                            </th>
                            <th width="7.692308%">
                                <span data-i18n="save-willpower-short" data-i18n-title="save-willpower-title"></span>
                            </th>
                            <th width="7.692308%">
                                <span data-i18n="level-short" data-i18n-title="character-level-short"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td colspan="3"></td>
                            <td>
                                <input title="" data-i18n-title="class-base-attack-bonus1-sum-title" type="number" name="attr_class_base_attack_bonus1_total" class="text-strong" value="@{foo_class_base_attack_bonus1_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <input title="" data-i18n-title="class-base-attack-bonus2-sum-title" type="number" name="attr_class_base_attack_bonus2_total" class="text-strong" value="@{foo_class_base_attack_bonus2_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <input title="" data-i18n-title="class-base-attack-bonus3-sum-title" type="number" name="attr_class_base_attack_bonus3_total" class="text-strong" value="@{foo_class_base_attack_bonus3_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <input title="" data-i18n-title="class-base-attack-bonus4-sum-title" type="number" name="attr_class_base_attack_bonus4_total" class="text-strong" value="@{foo_class_base_attack_bonus4_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" title="" data-i18n-title="class-reflex-sum-title" name="attr_class_reflex_total" class="text-strong" value="@{foo_class_reflex_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" title="" data-i18n-title="class-fortitude-sum-title" name="attr_class_fortitude_total" class="text-strong" value="@{foo_class_fortitude_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" title="" data-i18n-title="class-willpower-sum-title" name="attr_class_willpower_total" class="text-strong" value="@{foo_class_willpower_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" title="" data-i18n-title="class-sum-title" name="attr_class_level_total" class="text-strong" value="@{foo_class_level_total}" disabled="disabled"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <fieldset class="repeating_class">
                        <table>
                            <tbody>
                            <tr>
                                <td width="23.076923%">
                                    <input type="hidden" name="attr_class_toggle" title="" class="class-toggle" value="hide" />
                                    <div class="input-group class-container-toggle">
                                        <select name="attr_class_name" title="">
                                            <optgroup label="" data-i18n-label="classes-core" data-i18n-list="classes-core-list">
                                                <option data-i18n="class-barbarian" data-i18n-list-item="barbarian" value="1" selected="selected"></option>
                                                <option data-i18n="class-bard" data-i18n-list-item="bard" value="2"></option>
                                                <option data-i18n="class-cleric" data-i18n-list-item="cleric" value="3"></option>
                                                <option data-i18n="class-druid" data-i18n-list-item="druid" value="4"></option>
                                                <option data-i18n="class-fighter" data-i18n-list-item="fighter" value="5"></option>
                                                <option data-i18n="class-monk" data-i18n-list-item="monk" value="6"></option>
                                                <option data-i18n="class-paladin" data-i18n-list-item="paladin" value="7"></option>
                                                <option data-i18n="class-ranger" data-i18n-list-item="ranger" value="8"></option>
                                                <option data-i18n="class-rogue" data-i18n-list-item="rogue" value="9"></option>
                                                <option data-i18n="class-sorcerer" data-i18n-list-item="sorcerer" value="10"></option>
                                                <option data-i18n="class-wizard" data-i18n-list-item="wizard" value="11"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="classes-extension" data-i18n-list="classes-extension-list">
                                                <option data-i18n="class-alchemist" data-i18n-list-item="alchemist" value="12"></option>
                                                <option data-i18n="class-antipaladin" data-i18n-list-item="antipaladin" value="13"></option>
                                                <option data-i18n="class-cavalier" data-i18n-list-item="cavalier" value="14"></option>
                                                <option data-i18n="class-gunslinger" data-i18n-list-item="gunslinger" value="15"></option>
                                                <option data-i18n="class-inquisitor" data-i18n-list-item="inquisitor" value="16"></option>
                                                <option data-i18n="class-magus" data-i18n-list-item="magus" value="17"></option>
                                                <option data-i18n="class-ninja" data-i18n-list-item="ninja" value="18"></option>
                                                <option data-i18n="class-oracle" data-i18n-list-item="oracle" value="19"></option>
                                                <option data-i18n="class-samurai" data-i18n-list-item="samurai" value="20"></option>
                                                <option data-i18n="class-shifter" data-i18n-list-item="shifter" value="21"></option>
                                                <option data-i18n="class-summoner" data-i18n-list-item="summoner" value="22"></option>
                                                <option data-i18n="class-vampire-hunter" data-i18n-list-item="vampire-hunter" value="23"></option>
                                                <option data-i18n="class-vigilante" data-i18n-list-item="vigilante" value="24"></option>
                                                <option data-i18n="class-witch" data-i18n-list-item="witch" value="25"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="classes-hybrid" data-i18n-list="classes-hybrid-list">
                                                <option data-i18n="class-arcanist" data-i18n-list-item="arcanist" value="26"></option>
                                                <option data-i18n="class-bloodrager" data-i18n-list-item="bloodrager" value="27"></option>
                                                <option data-i18n="class-brawler" data-i18n-list-item="brawler" value="28"></option>
                                                <option data-i18n="class-hunter" data-i18n-list-item="hunter" value="29"></option>
                                                <option data-i18n="class-investigator" data-i18n-list-item="investigator" value="30"></option>
                                                <option data-i18n="class-shaman" data-i18n-list-item="shaman" value="31"></option>
                                                <option data-i18n="class-skald" data-i18n-list-item="skald" value="32"></option>
                                                <option data-i18n="class-slayer" data-i18n-list-item="slayer" value="33"></option>
                                                <option data-i18n="class-swashbuckler" data-i18n-list-item="swashbuckler" value="34"></option>
                                                <option data-i18n="class-warpriest" data-i18n-list-item="warpriest" value="35"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="classes-occult" data-i18n-list="classes-occult-list">
                                                <option data-i18n="class-kineticist" data-i18n-list-item="kineticist" value="36"></option>
                                                <option data-i18n="class-medium" data-i18n-list-item="medium" value="37"></option>
                                                <option data-i18n="class-mesmerist" data-i18n-list-item="mesmerist" value="38"></option>
                                                <option data-i18n="class-occultist" data-i18n-list-item="occultist" value="39"></option>
                                                <option data-i18n="class-psychic" data-i18n-list-item="psychic" value="40"></option>
                                                <option data-i18n="class-spiritualist" data-i18n-list-item="spiritualist" value="41"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="classes-other">
                                                <option data-i18n="other" value="0"></option>
                                            </optgroup>
                                        </select>
                                        <input type="text" name="attr_class_other" title="" placeholder="" data-i18n-placeholder="class-other" value="">
                                    </div>
                                </td>
                                <td width="7.692308%">
                                    <input name="attr_class_dice_of_life_dices" title="" min="1" step="1" value="8">
                                </td>
                                <td width="7.692308%">
                                    <input type="number" name="attr_class_skill_per_level" title="" min="0" step="1" value="0"/>
                                </td>
                                <td width="7.692308%">
                                    <input type="number" name="attr_class_base_attack_bonus1" title="" min="0" step="1" value="0"/>
                                </td>
                                <td width="7.692308%">
                                    <input type="number" name="attr_class_base_attack_bonus2" title="" min="0" step="1" value="0"/>
                                </td>
                                <td width="7.692308%">
                                    <input type="number" name="attr_class_base_attack_bonus3" title="" min="0" step="1" value="0"/>
                                </td>
                                <td width="7.692308%">
                                    <input type="number" name="attr_class_base_attack_bonus4" title="" min="0" step="1" value="0"/>
                                </td>
                                <td width="7.692308%">
                                    <input type="number" name="attr_class_reflex" title="" min="0" step="1" value="0"/>
                                </td>
                                <td width="7.692308%">
                                    <input type="number" name="attr_class_fortitude" title="" min="0" step="1" value="0"/>
                                </td>
                                <td width="7.692308%">
                                    <input type="number" name="attr_class_willpower" title="" min="0" step="1" value="0"/>
                                </td>
                                <td width="7.692308%">
                                    <input type="number" name="attr_class_level" title="" min="0" step="1" value="0"/>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </fieldset>
                </div>

                <h1 data-i18n="class-specialization"></h1>
                <div class="class-specialization section">
                    <fieldset class="repeating_classspecialization">
                        <div class="class-specialization-content">
                            <div class="flex-row">
                                <div class="flex-col3">
                                    <input type="hidden" name="attr_class_specialization_toggle" title="" class="class-specialization-toggle" value="hide" />
                                    <div class="input-group class-specialization-container-toggle">
                                        <select name="attr_class_specialization_name" title="">
                                            <optgroup label="" data-i18n-label="classes-core" data-i18n-list="classes-core-list">
                                                <option data-i18n="class-barbarian" data-i18n-list-item="barbarian" value="1" selected="selected"></option>
                                                <option data-i18n="class-bard" data-i18n-list-item="bard" value="2"></option>
                                                <option data-i18n="class-cleric" data-i18n-list-item="cleric" value="3"></option>
                                                <option data-i18n="class-druid" data-i18n-list-item="druid" value="4"></option>
                                                <option data-i18n="class-fighter" data-i18n-list-item="fighter" value="5"></option>
                                                <option data-i18n="class-monk" data-i18n-list-item="monk" value="6"></option>
                                                <option data-i18n="class-paladin" data-i18n-list-item="paladin" value="7"></option>
                                                <option data-i18n="class-ranger" data-i18n-list-item="ranger" value="8"></option>
                                                <option data-i18n="class-rogue" data-i18n-list-item="rogue" value="9"></option>
                                                <option data-i18n="class-sorcerer" data-i18n-list-item="sorcerer" value="10"></option>
                                                <option data-i18n="class-wizard" data-i18n-list-item="wizard" value="11"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="classes-extension" data-i18n-list="classes-extension-list">
                                                <option data-i18n="class-alchemist" data-i18n-list-item="alchemist" value="12"></option>
                                                <option data-i18n="class-antipaladin" data-i18n-list-item="antipaladin" value="13"></option>
                                                <option data-i18n="class-cavalier" data-i18n-list-item="cavalier" value="14"></option>
                                                <option data-i18n="class-gunslinger" data-i18n-list-item="gunslinger" value="15"></option>
                                                <option data-i18n="class-inquisitor" data-i18n-list-item="inquisitor" value="16"></option>
                                                <option data-i18n="class-magus" data-i18n-list-item="magus" value="17"></option>
                                                <option data-i18n="class-ninja" data-i18n-list-item="ninja" value="18"></option>
                                                <option data-i18n="class-oracle" data-i18n-list-item="oracle" value="19"></option>
                                                <option data-i18n="class-samurai" data-i18n-list-item="samurai" value="20"></option>
                                                <option data-i18n="class-shifter" data-i18n-list-item="shifter" value="21"></option>
                                                <option data-i18n="class-summoner" data-i18n-list-item="summoner" value="22"></option>
                                                <option data-i18n="class-vampire-hunter" data-i18n-list-item="vampire-hunter" value="23"></option>
                                                <option data-i18n="class-vigilante" data-i18n-list-item="vigilante" value="24"></option>
                                                <option data-i18n="class-witch" data-i18n-list-item="witch" value="25"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="classes-hybrid" data-i18n-list="classes-hybrid-list">
                                                <option data-i18n="class-arcanist" data-i18n-list-item="arcanist" value="26"></option>
                                                <option data-i18n="class-brawler" data-i18n-list-item="brawler" value="27"></option>
                                                <option data-i18n="class-bloodrager" data-i18n-list-item="bloodrager" value="28"></option>
                                                <option data-i18n="class-hunter" data-i18n-list-item="hunter" value="29"></option>
                                                <option data-i18n="class-investigator" data-i18n-list-item="investigator" value="30"></option>
                                                <option data-i18n="class-shaman" data-i18n-list-item="shaman" value="31"></option>
                                                <option data-i18n="class-skald" data-i18n-list-item="skald" value="32"></option>
                                                <option data-i18n="class-slayer" data-i18n-list-item="slayer" value="33"></option>
                                                <option data-i18n="class-swashbuckler" data-i18n-list-item="swashbuckler" value="34"></option>
                                                <option data-i18n="class-warpriest" data-i18n-list-item="warpriest" value="35"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="classes-occult" data-i18n-list="classes-occult-list">
                                                <option data-i18n="class-kineticist" data-i18n-list-item="kineticist" value="36"></option>
                                                <option data-i18n="class-mesmerist" data-i18n-list-item="mesmerist" value="37"></option>
                                                <option data-i18n="class-medium" data-i18n-list-item="medium" value="38"></option>
                                                <option data-i18n="class-occultist" data-i18n-list-item="occultist" value="39"></option>
                                                <option data-i18n="class-psychic" data-i18n-list-item="psychic" value="40"></option>
                                                <option data-i18n="class-spiritualist" data-i18n-list-item="spiritualist" value="41"></option>
                                            </optgroup>
                                            <optgroup label="" data-i18n-label="classes-other">
                                                <option data-i18n="other" value="0"></option>
                                            </optgroup>
                                        </select>
                                        <input type="text" name="attr_class_specialization_other" title="" placeholder="" data-i18n-placeholder="class-other" value="">
                                    </div>

                                </div>
                                <div class="flex-col3"></div>
                                <div class="flex-col2">
                                    <div class="input-group">
                                        <div class="input-group-text">
                                            <span data-i18n="hit-points"></span>
                                        </div>
                                        <input type="number" name="attr_class_specialization_dicelife" title="" min="0" step="1" value="0">
                                    </div>
                                </div>
                                <div class="flex-col2">
                                    <div class="input-group">
                                        <div class="input-group-text">
                                            <span data-i18n="class-specialization-competence"></span>
                                        </div>
                                        <input type="number" name="attr_class_specialization_competence" title="" min="0" step="1" value="0">
                                    </div>
                                </div>
                                <div class="flex-col2">
                                    <div class="input-group">
                                        <div class="input-group-text">
                                            <span data-i18n="bonus"></span>
                                        </div>
                                        <input type="number" name="attr_class_specialization_miscellaneous" title="" min="0" step="1" value="0">
                                        <div class="input-group-text">
                                            <span data-i18n="sign-separator"></span>
                                        </div>
                                        <input type="number" name="attr_class_specialization_miscellaneous_max" title="" min="0" step="1" value="1">
                                    </div>
                                </div>
                            </div>
                            <textarea class="class-specialization-description" name="attr_class_specialization_description" title="" data-i18n-placeholder="class-specialization-description-placeholder"></textarea>
                        </div>
                    </fieldset>
                </div>

                <h1 data-i18n="equipment-proficiency"></h1>
                <div class="equipment-proficiency section">
                    <table>
                        <thead>
                        <tr>
                            <th width="50%">
                                <span data-i18n="weapon-proficiency"></span>
                            </th>
                            <th width="50%">
                                <span data-i18n="armor-proficiency"></span>
                            </th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="text" name="attr_weapon_proficiency_resume" class="disabled" title="" readonly="readonly" />
                            </td>
                            <td>
                                <input type="text" name="attr_armor_proficiency_resume" class="disabled" title="" readonly="readonly" />
                            </td>
                            <td>
                                <div class="equipment-proficiency-modal modal">
                                    <input title="" class="modal-checkbox" type="checkbox" />
                                    <span class="modal-label button pen"></span>
                                    <div class="modal-background"></div>
                                    <div class="modal-dialog modal-small">
                                        <div class="modal-header">
                                            <span data-i18n="equipment-proficiency"></span>
                                        </div>

                                        <div class="modal-body">
                                            <div class="flex-row">
                                                <div class="flex-col6">
                                                    <h2 data-i18n="weapon-proficiency"></h2>
                                                    <ul>
                                                        <li>
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_weapon_proficiency_simple" title="" data-i18n-title="weapon-proficiency-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="weapon-proficiency-simple"></span>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_weapon_proficiency_martial" title="" data-i18n-title="weapon-proficiency-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="weapon-proficiency-martial"></span>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_weapon_proficiency_exotic" title="" data-i18n-title="weapon-proficiency-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="weapon-proficiency-exotic"></span>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="flex-col6">
                                                    <h2 data-i18n="armor-proficiency"></h2>
                                                    <ul>
                                                        <li>
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_armor_proficiency_light" title="" data-i18n-title="armor-proficiency-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="armor-proficiency-light"></span>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_armor_proficiency_medium" title="" data-i18n-title="armor-proficiency-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="armor-proficiency-medium"></span>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_armor_proficiency_heavy" title="" data-i18n-title="armor-proficiency-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="armor-proficiency-heavy"></span>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_armor_proficiency_shield" title="" data-i18n-title="armor-proficiency-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="armor-proficiency-shield"></span>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="button-switch">
                                                                <input type="checkbox" name="attr_armor_proficiency_shield_tower" title="" data-i18n-title="armor-proficiency-title" />
                                                                <span class="button-switch-face"></span>
                                                                <span class="button-switch-label" data-i18n="equipment-shield-tower"></span>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_equipment_proficiency_description" title=""></textarea>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="battle-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert">
                    <span name="attr_attack_status_alert"></span>
                </p>

                <h1 data-i18n="battle-combat-round"></h1>
                <div class="initiative section">
                    <table>
                        <thead>
                        <tr>
                            <td width="1%">
                                <div class="fake-button-roll"></div>
                            </td>
                            <th width="25%">
                                <span data-i18n="initiative" data-i18n-title="initiative-title"></span>
                            </th>
                            <th width="25%">
                                <span data-i18n="attribute-dexterity-short" data-i18n-title="initiative-modifier-dexterity-title"></span>
                            </th>
                            <th width="25%">
                                <span data-i18n="status-short"></span>
                            </th>
                            <th width="25%">
                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <button
                                        name="roll_initiative"
                                        type="roll"
                                        data-i18n-title="initiative-roll-title"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_initiative}}} {{test=[[1d20+@{initiative_total} &{tracker}]]}}"
                                ></button>
                            </td>
                            <td>
                                <input type="number" name="attr_initiative_total" title="" class="text-strong" value="@{foo_character_dexterity_mod}+(@{foo_status_encumbrance_proficiency}+@{foo_status_initiative})+@{initiative_miscellaneous}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_initiative_dexterity" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_initiative_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_status_initiative}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_initiative_miscellaneous" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="8">
                                <small>
                                    <span class="alert"></span><span data-i18n="initiative-select-token-first"></span>
                                </small>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_initiative_note" title=""></textarea>
                </div>

                <h1 data-i18n="combat-maneuver"></h1>
                <div class="combat-maneuver-bonus section">
                    <table>
                        <thead>
                        <tr>
                            <td width="1%">
                                <div class="fake-button-roll"></div>
                            </td>
                            <th width="12.5%">
                                <span data-i18n="combat-maneuver-bonus-short" data-i18n-title="combat-maneuver-bonus-title"></span>
                            </th>
                            <th width="12.5%">
                                <span data-i18n="base-attack-bonus-short" data-i18n-title="combat-maneuver-bonus-base-attack-bonus-title"></span>
                            </th>
                            <th width="12.5%">
                                <span data-i18n="modifier-special-height-short" data-i18n-title="modifier-special-height-title"></span>
                            </th>
                            <th width="12.5%">
                                <span data-i18n="modifier-size-short" data-i18n-title="combat-maneuver-bonus-modifier-size-title"></span>
                            </th>
                            <th width="12.5%">
                                <span data-i18n="status-short"></span>
                            </th>
                            <th width="12.5%">
                                <span data-i18n="bonus"></span>
                            </th>
                            <th width="12.5%">
                                <span data-i18n="penalty"></span>
                            </th>
                            <th width="12.5%">
                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <button
                                        name="roll_combat_maneuver_bonus"
                                        type="roll"
                                        data-i18n-title="combat-maneuver-bonus-roll-title"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_combat_maneuver_bonus}}} {{test=[[1d20+@{combat_maneuver_bonus_total}]]}}"
                                ></button>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_bonus_total" title="" class="text-strong" value="@{foo_class_base_attack_bonus1_total}-(@{character_creature_size_select})+@{foo_combat_maneuver_bonus_creature_size}+(@{foo_status_encumbrance_proficiency}+@{foo_status_combat_maneuver_bonus})+@{combat_maneuver_bonus_bonus}-abs(@{combat_maneuver_bonus_penalty})+@{combat_maneuver_bonus_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_bonus_base_attack_bonus" title="" value="@{foo_class_base_attack_bonus1_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_bonus_mod_height_special" title="" value=-(@{character_creature_size_select})" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_bonus_mod_height" title="" value="@{foo_combat_maneuver_bonus_creature_size}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_bonus_mod_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_status_combat_maneuver_bonus}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_bonus_bonus" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_bonus_penalty" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_bonus_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_combat_maneuver_bonus_note" title=""></textarea>
                </div>

                <h1 data-i18n="battle-attacks"></h1>
                <div class="section">
                    <textarea class="battle-note" name="attr_battle_note" title=""></textarea>

                    <div class="attacks">
                        <fieldset class="repeating_battle">
                            <div class="flex-row">
                                <div class="flex-col-auto">
                                    <button
                                            type="roll"
                                            name="roll_battle"
                                            data-i18n-title="battle-roll-title"
                                            value="@{option_whisper} &{template:roll} {{roll_battle=show}} {{name=@{character_name}}} {{status=@{status}}} {{attack_name=@{battle_name}}} {{test=[[1d20cs>@{battle_damage_critic}+@{battle_total}]]}} {{test_critic=[[1d20cs>@{battle_damage_critic}+@{battle_total}+@{battle_critic_confirmation}]]}}"
                                    ></button>
                                </div>
                                <div class="flex-col">
                                    <div class="attacks-content">
                                        <div class="accordion">
                                            <input class="accordion-checkbox" type="checkbox" name="attr_battle_checkbox" title="" data-i18n-title="show-hide"/>
                                            <div class="accordion-container">
                                                <div class="accordion-label battle-label">
                                                    <div class="flex-row">
                                                        <div class="flex-col5">
                                                            <input class="attacks-name text-bold" type="text" name="attr_battle_name" title="" data-i18n-placeholder="battle-attack-name"/>
                                                        </div>
                                                        <div class="flex-col5">
                                                            <div class="input-group">
                                                                <div class="input-group-text">
                                                                    <span data-i18n="battle-information-short"></span>
                                                                </div>
                                                                <input class="text-left" type="text" name="attr_battle_description_short" title=""/>
                                                            </div>
                                                        </div>
                                                        <div class="flex-col2">
                                                            <div class="input-group">
                                                                <div class="input-group-text">
                                                                    <span data-i18n="battle-ammunitions"></span>
                                                                </div>
                                                                <input type="number" name="attr_battle_ammunition" title="" value="" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="accordion-content">
                                                    <table class="attacks-table-roll">
                                                        <thead>
                                                        <tr>
                                                            <th width="11.111111%">
                                                                <span data-i18n="battle-attack-short" data-i18n-title="battle-attack-title"></span>
                                                            </th>
                                                            <th width="11.111111%">
                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="battle-base-attack-bonus-title"></span>
                                                            </th>
                                                            <th width="11.111111%">
                                                                <span data-i18n="modifier-short" data-i18n-title="battle-modifier-range-title"></span>
                                                            </th>
                                                            <th width="11.111111%">
                                                                <span data-i18n="modifier-size-short"></span>
                                                            </th>
                                                            <th width="11.111111%">
                                                                <span data-i18n="status-short"></span>
                                                            </th>
                                                            <th width="11.111111%">
                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                            </th>
                                                            <th width="11.111111%">
                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                            </th>
                                                            <td></td>
                                                            <th width="11.111111%">
                                                                <span data-i18n="range" data-i18n-title="battle-range-title"></span>
                                                            </th>
                                                            <td></td>
                                                            <th width="11.111111%">
                                                                <span data-i18n="battle-critic-bonus-short" data-i18n-title="battle-critic-bonus-title"></span>
                                                            </th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr>
                                                            <td>
                                                                <input type="number" name="attr_battle_total" title="" class="text-strong" value="@{battle_base_attack_bonus_select}+@{battle_mod_attribute}+@{character_creature_size_select}+(@{foo_status_encumbrance_proficiency}+@{foo_base_attack})+@{battle_miscellaneous}+@{battle_temporary}" disabled="disabled" />
                                                            </td>
                                                            <td>
                                                                <div class="input-group">
                                                                    <input type="number" name="attr_battle_base_attack_bonus" title="" value="@{battle_base_attack_bonus_select}" disabled="disabled" />
                                                                    <select class="fixed-small" name="attr_battle_base_attack_bonus_select" title="">
                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                    </select>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="input-group">
                                                                    <input type="number" class="disabled" name="attr_battle_mod_attribute" title="" value="0" readonly="readonly" />
                                                                    <select class="fixed-small" name="attr_battle_mod_attribute_select" title="" data-i18n-list="battle-modifier-attribute-list">
                                                                        <option data-i18n="attribute-dexterity-short" value="1" data-i18n-list-item="dexterity"></option>
                                                                        <option data-i18n="attribute-strength-short" selected="selected" value="2" data-i18n-list-item="strength"></option>
                                                                    </select>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <input type="number" name="attr_battle_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                            </td>
                                                            <td>
                                                                <input type="number" name="attr_battle_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled" />
                                                            </td>
                                                            <td>
                                                                <input type="number" name="attr_battle_miscellaneous" title="" step="1" value="0"/>
                                                            </td>
                                                            <td>
                                                                <input type="number" name="attr_battle_temporary" title="" step="1" value="0"/>
                                                            </td>
                                                            <td></td>
                                                            <td>
                                                                <select name="attr_battle_range" title="">
                                                                    <option data-i18n="range-melee" value="0" selected="selected"></option>
                                                                    <option data-i18n="range-ranged" value="1"></option>
                                                                </select>
                                                            </td>
                                                            <td></td>
                                                            <td>
                                                                <input type="number" name="attr_battle_critic_confirmation" title="" min="0" step="1" value="0"/>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>

                                                    <hr>

                                                    <table class="attacks-damage-table">
                                                        <thead>
                                                        <tr>
                                                            <th width="22.222222%">
                                                                <span data-i18n="damage" data-i18n-title="battle-damage-title"></span>
                                                            </th>
                                                            <th width="11.111111%">
                                                                <span data-i18n="modifier-short" data-i18n-title="battle-modifier-damage-title"></span>
                                                            </th>
                                                            <th width="11.111111%">
                                                                <span data-i18n="status-short"></span>
                                                            </th>
                                                            <th width="16.666666%">
                                                                <span data-i18n="battle-weapon-handling"></span>
                                                            </th>
                                                            <th width="16.666666%">
                                                                <span data-i18n="battle-critic"></span>
                                                            </th>
                                                            <td></td>
                                                            <th width="22.222222%">
                                                                <span data-i18n="battle-damage-add-short" data-i18n-title="battle-damage-add-title"></span>
                                                            </th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr>
                                                            <td>
                                                                <div class="input-group">
                                                                    <input type="number" name="attr_battle_dice_count" title="" min="1" step="1" value="1"/>
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="dice-short"></span>
                                                                    </div>
                                                                    <select class="fixed-small" name="attr_battle_dice_type" title="">
                                                                        <option value="2" selected="selected">2</option>
                                                                        <option value="3">3</option>
                                                                        <option value="4">4</option>
                                                                        <option value="6">6</option>
                                                                        <option value="8">8</option>
                                                                        <option value="10">10</option>
                                                                        <option value="12">12</option>
                                                                        <option value="20">20</option>
                                                                        <option value="100">100</option>
                                                                    </select>
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-plus"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_battle_damage" title="" value="0"/>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="input-group">
                                                                    <input type="number" name="attr_battle_damage_mod_attribute" title="" value="@{battle_damage_mod_attribute_select}" disabled="disabled"/>
                                                                    <select class="fixed-small" name="attr_battle_damage_mod_attribute_select" title="" data-i18n-list="battle-damage-modifier-attribute-list">
                                                                        <option data-i18n="none" value="0" data-i18n-list-item="none"></option>
                                                                        <option data-i18n="attribute-dexterity-short" value="@{foo_character_dexterity_mod}" data-i18n-list-item="dexterity"></option>
                                                                        <option data-i18n="attribute-strength-short" selected="selected" value="@{foo_character_strength_mod}" data-i18n-list-item="strength"></option>
                                                                    </select>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <input type="number" name="attr_battle_damage_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_status_attack_damage}" disabled="disabled" />
                                                            </td>
                                                            <td>
                                                                <div class="input-group">
                                                                    <input type="number" name="attr_battle_handler" title="" value="@{battle_handler_select}" disabled="disabled"/>
                                                                    <select class="fixed-medium" name="attr_battle_handler_select" title="">
                                                                        <option data-i18n="battle-handler-one-handed" value="1" selected="selected"></option>
                                                                        <option data-i18n="battle-handler-off-hand" value="0.5"></option>
                                                                        <option data-i18n="battle-handler-two-handed" value="1.5"></option>
                                                                    </select>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="input-group">
                                                                    <select class="fixed-small" name="attr_battle_damage_critic" title="">
                                                                        <option data-i18n="1-20" value="1"></option>
                                                                        <option data-i18n="2-20" value="2"></option>
                                                                        <option data-i18n="3-20" value="3"></option>
                                                                        <option data-i18n="4-20" value="4"></option>
                                                                        <option data-i18n="5-20" value="5"></option>
                                                                        <option data-i18n="6-20" value="6"></option>
                                                                        <option data-i18n="7-20" value="7"></option>
                                                                        <option data-i18n="8-20" value="8"></option>
                                                                        <option data-i18n="9-20" value="9"></option>
                                                                        <option data-i18n="10-20" value="10"></option>
                                                                        <option data-i18n="11-20" value="11"></option>
                                                                        <option data-i18n="12-20" value="12"></option>
                                                                        <option data-i18n="13-20" value="13"></option>
                                                                        <option data-i18n="14-20" value="14"></option>
                                                                        <option data-i18n="15-20" value="15"></option>
                                                                        <option data-i18n="16-20" value="16"></option>
                                                                        <option data-i18n="17-20" value="17"></option>
                                                                        <option data-i18n="18-20" value="18"></option>
                                                                        <option data-i18n="19-20" value="19"></option>
                                                                        <option value="20" selected="selected">20</option>
                                                                    </select>
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-mutiplication"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_battle_damage_critic_multiplier" title="" value="2" min="1" step="1"/>
                                                                </div>
                                                            </td>
                                                            <td></td>
                                                            <td>
                                                                <input type="text" name="attr_battle_damage_add" title="" value="0"/>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>

                                                    <textarea class="attacks-content-note" name="attr_battle_description" title=""></textarea>
                                                </div>
                                                <ul class="horizontal-button-group">
                                                    <li>
                                                        <button
                                                                name="roll_battle_damage"
                                                                type="roll"
                                                                class="button"
                                                                data-i18n-title="battle-damage-roll-title"
                                                                value="@{option_whisper} &{template:roll} {{roll_battle_damage=show}} {{name=@{character_name}}} {{status=@{status}}} {{attack_name=@{battle_name}}} {{damage=[[{ 1d1, {floor(@{battle_dice_count}d@{battle_dice_type}+@{battle_damage}+(@{battle_damage_mod_attribute}+@{foo_status_encumbrance_proficiency}+@{foo_status_attack_damage})*@{battle_handler_select}+@{battle_damage_add})} }dl1]]}}"
                                                        >
                                                            <span data-i18n="damage"></span>
                                                        </button>
                                                    </li>
                                                    <li>
                                                        <button
                                                                name="roll_battle_damage_critic"
                                                                type="roll"
                                                                class="button"
                                                                data-i18n-title="battle-damage-critic-roll-title"
                                                                value="@{option_whisper} &{template:roll} {{roll_battle_damage=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{label_battle_damage_critic}}} {{attack_name=@{battle_name}}} {{damage=[[{ 1d1, {floor((@{battle_dice_count}*@{battle_damage_critic_multiplier})d@{battle_dice_type}+(@{battle_damage}+(@{battle_damage_mod_attribute}+@{foo_status_encumbrance_proficiency}+@{foo_status_attack_damage})*@{battle_handler_select})*@{battle_damage_critic_multiplier})+@{battle_damage_add} } }dl1]]}}"
                                                        >
                                                            <span data-i18n="battle-damage-critic"></span>
                                                        </button>
                                                    </li>
                                                    <li>
                                                        <button
                                                                name="roll_battle_deathblow"
                                                                type="roll"
                                                                class="button"
                                                                data-i18n-title="battle-deathblow-roll-title"
                                                                value="@{option_whisper} &{template:roll} {{roll_battle_deathblow=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_battle_deathblow}}} {{attack_name=@{battle_name}}} {{damage=[[{ 1d1, {floor((@{battle_dice_count}*@{battle_damage_critic_multiplier})d@{battle_dice_type}+(@{battle_damage}+(@{battle_damage_mod_attribute}+@{foo_status_encumbrance_proficiency}+@{foo_status_attack_damage})*@{battle_handler_select})*@{battle_damage_critic_multiplier})+@{battle_damage_add} } }dl1]]}}"
                                                        >
                                                            <span data-i18n="battle-deathblow"></span>
                                                        </button>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="spell-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert">
                    <span name="attr_spell_status_alert"></span>
                </p>

                <div class="flex-row">
                    <div class="flex-col6">
                        <h1 data-i18n="caster-level-check"></h1>
                        <div class="caster-level-check section">
                            <table>
                                <thead>
                                <tr>
                                    <td width="1%"></td>
                                    <th width="20%">
                                        <span data-i18n="total" data-i18n-title="caster-level-check-total-title"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="status-short"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <button
                                                name="roll_caster_level_check"
                                                type="roll"
                                                data-i18n-title="caster-level-check-roll-title"
                                                value="@{option_whisper} &{template:roll} {{roll_caster_level_check=show}} {{name=@{character_name}}} {{status=@{status}}} {{caster_level=[[1d20+@{foo_caster_level_total_corrected}]]}}"
                                        ></button>
                                    </td>
                                    <td>
                                        <input type="hidden" name="attr_caster_level_total" value="@{caster_level_rank}+@{caster_level_miscellaneous}+@{caster_level_temporary}+@{foo_status_caster_level}" />
                                        <input type="number" name="attr_caster_level_total_corrected" title="" class="text-strong" value="@{foo_caster_level_total_corrected}" disabled="disabled"/>
                                    </td>
                                    <td>
                                        <select name="attr_caster_level_rank" title="">
                                            <option value="0" selected="selected">0</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                            <option value="11">11</option>
                                            <option value="12">12</option>
                                            <option value="13">13</option>
                                            <option value="14">14</option>
                                            <option value="15">15</option>
                                            <option value="16">16</option>
                                            <option value="17">17</option>
                                            <option value="18">18</option>
                                            <option value="19">19</option>
                                            <option value="20">20</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_caster_level_miscellaneous" title="" step="1" value="0"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_caster_level_temporary" title="" step="1" value="0"/>
                                    </td>
                                    <th>
                                        <input type="number" name="attr_caster_level_status" title="" value="@{foo_status_caster_level}" disabled="disabled"/>
                                    </th>
                                    <td>
                                </tr>
                                </tbody>
                            </table>

                            <textarea name="attr_caster_level_note" title=""></textarea>
                        </div>
                    </div>
                    <div class="flex-col6">
                        <h1 data-i18n="spell-arcane-spell-failure"></h1>
                        <div class="spell-arcane-spell-failure section">
                            <table>
                                <thead>
                                <tr>
                                    <th width="20%">
                                        <span data-i18n="total" data-i18n-title="spell-arcane-spell-failure-total-title"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="spell-arcane-spell-failure-armor-short" data-i18n-title="spell-arcane-spell-failure-armor-title"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="status-short"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="text" class="disabled text-strong" name="attr_arcane_spell_failure_total_percent" title="" value="0%" readonly="readonly"/>
                                    </td>
                                    <td>
                                        <input type="number" class="disabled" name="attr_arcane_spell_failure_penalty" title="" value="0" readonly="readonly" />
                                    </td>
                                    <td>
                                        <input type="number" class="disabled" name="attr_foo_status_arcane_spell_failure" title="" value="0" readonly="readonly" />
                                    </td>
                                    <td>
                                        <input type="number" name="attr_arcane_spell_failure_miscellaneous" title="" value="0" />
                                    </td>
                                    <td>
                                        <input type="number" name="attr_arcane_spell_failure_temporary" title="" value="0" />
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <textarea name="attr_arcane_arcane_spell_failure_chance_note" title=""></textarea>
                        </div>
                    </div>
                </div>

                <h1 data-i18n="spell"></h1>
                <div class="spell-summary section">
                    <table>
                        <thead>
                        <tr>
                            <th width="10%">
                                <span data-i18n="spell-lvl0-short" data-i18n-title="spell-lvl0-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="spell-lvl1-short" data-i18n-title="spell-lvl1-per-day-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="spell-lvl2-short" data-i18n-title="spell-lvl2-per-day-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="spell-lvl3-short" data-i18n-title="spell-lvl3-per-day-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="spell-lvl4-short" data-i18n-title="spell-lvl4-per-day-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="spell-lvl5-short" data-i18n-title="spell-lvl5-per-day-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="spell-lvl6-short" data-i18n-title="spell-lvl6-per-day-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="spell-lvl7-short" data-i18n-title="spell-lvl7-per-day-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="spell-lvl8-short" data-i18n-title="spell-lvl8-per-day-title"></span>
                            </th>
                            <th width="10%">
                                <span data-i18n="spell-lvl9-short" data-i18n-title="spell-lvl9-per-day-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <div class="input-group">
                                    <input type="number" name="attr_magic-spells-level0-current" title="" class="text-strong" value="@{foo_spell0_prepared}+@{foo_spell0_prepared_custom}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_magic-spells-level0-max" title="" min="0" step="1" value="0"/>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <input type="number" name="attr_magic-spells-level1-current" title="" class="text-strong" value="@{foo_spell1_prepared}+@{foo_spell1_prepared_custom}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_magic-spells-level1-max" title="" min="0" step="1" value="0"/>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <input type="number" name="attr_magic-spells-level2-current" title="" class="text-strong" value="@{foo_spell2_prepared}+@{foo_spell2_prepared_custom}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_magic-spells-level2-max" title="" min="0" step="1" value="0"/>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <input type="number" name="attr_magic-spells-level3-current" title="" class="text-strong" value="@{foo_spell3_prepared}+@{foo_spell3_prepared_custom}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_magic-spells-level3-max" min="0" title="" step="1" value="0"/>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <input type="number" name="attr_magic-spells-level4-current" title="" class="text-strong" value="@{foo_spell4_prepared}+@{foo_spell4_prepared_custom}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_magic-spells-level4-max" title="" min="0" step="1" value="0"/>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <input type="number" name="attr_magic-spells-level5-current" title="" class="text-strong" value="@{foo_spell5_prepared}+@{foo_spell5_prepared_custom}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_magic-spells-level5-max" title="" min="0" step="1" value="0"/>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <input type="number" name="attr_magic-spells-level6-current" title="" class="text-strong" value="@{foo_spell6_prepared}+@{foo_spell6_prepared_custom}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_magic-spells-level6-max" title="" min="0" step="1" value="0"/>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <input type="number" name="attr_magic-spells-level7-current" title="" class="text-strong" value="@{foo_spell7_prepared}+@{foo_spell7_prepared_custom}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_magic-spells-level7-max" title="" min="0" step="1" value="0"/>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <input type="number" name="attr_magic-spells-level8-current" title="" class="text-strong" value="@{foo_spell8_prepared}+@{foo_spell8_prepared_custom}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_magic-spells-level8-max" title="" min="0" step="1" value="0"/>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <input type="number" name="attr_magic-spells-level9-current" title="" class="text-strong" value="@{foo_spell9_prepared}+@{foo_spell9_prepared_custom}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_magic-spells-level9-max" title="" value="0" min="0" step="1"/>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_spell_summary_note" title=""></textarea>
                </div>

                <div class="grimoire section">
                    <div class="tab">
                        <input class="tab-input" title="" data-i18n-title="spell-lvlcustom-title" type="radio" name="attr_nav_spell" value="custom">
                        <input class="tab-input" title="" data-i18n-title="spell-lvl0-title" type="radio" name="attr_nav_spell" value="0" checked="checked">
                        <input class="tab-input" title="" data-i18n-title="spell-lvl1-title" type="radio" name="attr_nav_spell" value="1">
                        <input class="tab-input" title="" data-i18n-title="spell-lvl2-title" type="radio" name="attr_nav_spell" value="2">
                        <input class="tab-input" title="" data-i18n-title="spell-lvl3-title" type="radio" name="attr_nav_spell" value="3">
                        <input class="tab-input" title="" data-i18n-title="spell-lvl4-title" type="radio" name="attr_nav_spell" value="4">
                        <input class="tab-input" title="" data-i18n-title="spell-lvl5-title" type="radio" name="attr_nav_spell" value="5">
                        <input class="tab-input" title="" data-i18n-title="spell-lvl6-title" type="radio" name="attr_nav_spell" value="6">
                        <input class="tab-input" title="" data-i18n-title="spell-lvl7-title" type="radio" name="attr_nav_spell" value="7">
                        <input class="tab-input" title="" data-i18n-title="spell-lvl8-title" type="radio" name="attr_nav_spell" value="8">
                        <input class="tab-input" title="" data-i18n-title="spell-lvl9-title" type="radio" name="attr_nav_spell" value="9">

                        <label class="tab-label" data-i18n-title="spell-lvlcustom-title">
                            <span></span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spellcustom">
                                <input type="hidden" name="attr_spellcustom_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spellcustom_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spellcustom_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spellcustom_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spellcustom_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spellcustom_name}}} {{spell_failure_used=[[@{spellcustom_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spellcustom_component_verbal})*@{spellcustom_spellfailure}*@{spellcustom_component_somatic}]]}} {{incantation=[[1d20+@{spellcustom_incantation_total}]]}} {{touch_used=[[@{spellcustom_incantation_touch_select}]]}} {{touch=[[1d20+@{spellcustom_melee_touch_total}]]}} {{spell_resistance_used=[[@{spellcustom_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spellcustom_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spellcustom_name}}} {{spell_failure_used=[[@{spellcustom_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spellcustom_component_verbal})*@{spellcustom_spellfailure}*@{spellcustom_component_somatic}]]}} {{incantation=[[1d20+@{spellcustom_incantation_total}]]}} {{touch_used=[[@{spellcustom_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spellcustom_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spellcustom_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spellcustom_name}}} {{spell_failure_used=[[@{spellcustom_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spellcustom_component_verbal})*@{spellcustom_spellfailure}*@{spellcustom_component_somatic}]]}} {{incantation=[[1d20+@{spellcustom_incantation_total}]]}} {{touch_used=[[@{spellcustom_incantation_touch_select}]]}} {{touch=[[1d20+@{spellcustom_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spellcustom_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spellcustom_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spellcustom_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <select name="attr_spellcustom_level" title="" data-i18n-list="level-short">
                                                                        <option value="0" selected="selected">0</option>
                                                                        <option value="1">1</option>
                                                                        <option value="2">2</option>
                                                                        <option value="3">3</option>
                                                                        <option value="4">4</option>
                                                                        <option value="5">5</option>
                                                                        <option value="6">6</option>
                                                                        <option value="7">7</option>
                                                                        <option value="8">8</option>
                                                                        <option value="9">9</option>
                                                                    </select>
                                                                    <input type="number" name="attr_spellcustom_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spellcustom_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spellcustom_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spellcustom_miscellaneous}+@{spellcustom_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spellcustom_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spellcustom_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spellcustom_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spellcustom_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_melee_touch_total" title="" class="text-strong" value="@{spellcustom_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spellcustom_melee_touch_miscellaneous}+@{spellcustom_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spellcustom_melee_touch_base_attack_bonus" title="" value="@{spellcustom_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spellcustom_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spellcustom_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_ranged_touch_total" title="" class="text-strong" value="@{spellcustom_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spellcustom_ranged_touch_miscellaneous}+@{spellcustom_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spellcustom_ranged_touch_base_attack_bonus" title="" value="@{spellcustom_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spellcustom_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spellcustom_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spellcustom_attribute_mod_select}+@{foo_status_concentration}+@{spellcustom_concentration_miscellaneous}+@{spellcustom_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spellcustom_attribute_mod" title="" value="@{spellcustom_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spellcustom_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spellcustom_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spellcustom_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spellcustom_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spellcustom_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spellcustom_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spellcustom_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spellcustom_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spellcustom_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spellcustom_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spellcustom_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spellcustom_difficulty_class_total" title="" class="text-strong" value="@{spellcustom_degree_of_difficulty_base}+@{spellcustom_degree_of_difficulty_attribute_mod_select}+@{spellcustom_degree_of_difficulty_miscellaneous}+@{spellcustom_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spellcustom_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spellcustom_degree_of_difficulty_attribute_mod" title="" value="@{spellcustom_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spellcustom_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spellcustom_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spellcustom_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spellcustom_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spellcustom_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spellcustom_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spellcustom_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spellcustom_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spellcustom_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spellcustom_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spellcustom_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spellcustom_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spellcustom_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spellcustom_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spellcustom_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spellcustom_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spellcustom_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spellcustom_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spellcustom_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spellcustom_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spellcustom_name}}} {{damage_used=[[@{spellcustom_damage_select}]]}} {{damage=[[@{spellcustom_damage_dice_count}d@{spellcustom_damage_dice_type} + @{spellcustom_damage_miscellaneous}+@{spellcustom_damage_temporary}]]}} {{effect_used=[[@{spellcustom_effect_select}]]}} {{effect=@{spellcustom_effect}}} {{save_used=[[@{spellcustom_save_select}]]}} {{save=[[@{spellcustom_save_type}]]}} {{save_difficulty_class=[[@{spellcustom_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spellcustom_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spellcustom_name}}} {{damage_used=[[@{spellcustom_damage_select}]]}} {{damage_critic=[[(@{spellcustom_damage_dice_count}*2)d@{spellcustom_damage_dice_type}+(@{spellcustom_damage_miscellaneous}+@{spellcustom_damage_temporary})*2]]}} {{effect_used=[[@{spellcustom_effect_select}]]}} {{effect=@{spellcustom_effect}}} {{save_used=[[@{spellcustom_save_select}]]}} {{save=[[@{spellcustom_save_type}]]}} {{save_difficulty_class=[[@{spellcustom_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spellcustom_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spellcustom_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spellcustom_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spellcustom_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spellcustom_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spellcustom_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spellcustom_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spellcustom_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spellcustom_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spellcustom_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spellcustom_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spellcustom_concentration_total}]]}} {{difficulty_class=[[15+2*@{spellcustom_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spellcustom_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spellcustom_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spellcustom_concentration_total}]]}} {{difficulty_class=[[10+@{spellcustom_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        <label class="tab-label" data-i18n-title="spell-lvl0-title">
                            <span>0</span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spell0">
                                <input type="hidden" name="attr_spell0_level" value="0" />
                                <input type="hidden" name="attr_spell0_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spell0_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spell0_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spell0_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spell0_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell0_name}}} {{spell_failure_used=[[@{spell0_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell0_component_verbal})*@{spell0_spellfailure}*@{spell0_component_somatic}]]}} {{incantation=[[1d20+@{spell0_incantation_total}]]}} {{touch_used=[[@{spell0_incantation_touch_select}]]}} {{touch=[[1d20+@{spell0_melee_touch_total}]]}} {{spell_resistance_used=[[@{spell0_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spell0_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell0_name}}} {{spell_failure_used=[[@{spell0_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell0_component_verbal})*@{spell0_spellfailure}*@{spell0_component_somatic}]]}} {{incantation=[[1d20+@{spell0_incantation_total}]]}} {{touch_used=[[@{spell0_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spell0_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spell0_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell0_name}}} {{spell_failure_used=[[@{spell0_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell0_component_verbal})*@{spell0_spellfailure}*@{spell0_component_somatic}]]}} {{incantation=[[1d20+@{spell0_incantation_total}]]}} {{touch_used=[[@{spell0_incantation_touch_select}]]}} {{touch=[[1d20+@{spell0_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spell0_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spell0_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spell0_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell0_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell0_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spell0_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spell0_miscellaneous}+@{spell0_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell0_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell0_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell0_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell0_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_melee_touch_total" title="" class="text-strong" value="@{spell0_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell0_melee_touch_miscellaneous}+@{spell0_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell0_melee_touch_base_attack_bonus" title="" value="@{spell0_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell0_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell0_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_ranged_touch_total" title="" class="text-strong" value="@{spell0_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell0_ranged_touch_miscellaneous}+@{spell0_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell0_ranged_touch_base_attack_bonus" title="" value="@{spell0_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell0_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell0_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spell0_attribute_mod_select}+@{foo_status_concentration}+@{spell0_concentration_miscellaneous}+@{spell0_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell0_attribute_mod" title="" value="@{spell0_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell0_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell0_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell0_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spell0_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spell0_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell0_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell0_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell0_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spell0_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spell0_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell0_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell0_difficulty_class_total" title="" class="text-strong" value="@{spell0_degree_of_difficulty_base}+@{spell0_degree_of_difficulty_attribute_mod_select}+@{spell0_degree_of_difficulty_miscellaneous}+@{spell0_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell0_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spell0_degree_of_difficulty_attribute_mod" title="" value="@{spell0_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spell0_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell0_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell0_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell0_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spell0_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spell0_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spell0_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spell0_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spell0_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spell0_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spell0_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell0_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell0_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell0_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell0_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spell0_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell0_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell0_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spell0_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spell0_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell0_name}}} {{damage_used=[[@{spell0_damage_select}]]}} {{damage=[[@{spell0_damage_dice_count}d@{spell0_damage_dice_type} + @{spell0_damage_miscellaneous}+@{spell0_damage_temporary}]]}} {{effect_used=[[@{spell0_effect_select}]]}} {{effect=@{spell0_effect}}} {{save_used=[[@{spell0_save_select}]]}} {{save=[[@{spell0_save_type}]]}} {{save_difficulty_class=[[@{spell0_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spell0_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spell0_name}}} {{damage_used=[[@{spell0_damage_select}]]}} {{damage_critic=[[(@{spell0_damage_dice_count}*2)d@{spell0_damage_dice_type}+(@{spell0_damage_miscellaneous}+@{spell0_damage_temporary})*2]]}} {{effect_used=[[@{spell0_effect_select}]]}} {{effect=@{spell0_effect}}} {{save_used=[[@{spell0_save_select}]]}} {{save=[[@{spell0_save_type}]]}} {{save_difficulty_class=[[@{spell0_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spell0_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell0_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spell0_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spell0_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell0_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spell0_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spell0_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell0_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spell0_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spell0_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell0_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spell0_concentration_total}]]}} {{difficulty_class=[[15+2*@{spell0_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spell0_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell0_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spell0_concentration_total}]]}} {{difficulty_class=[[10+@{spell0_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        <label class="tab-label" data-i18n-title="spell-lvl1-title">
                            <span>1</span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spell1">
                                <input type="hidden" name="attr_spell1_level" value="0" />
                                <input type="hidden" name="attr_spell1_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spell1_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spell1_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spell1_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spell1_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell1_name}}} {{spell_failure_used=[[@{spell1_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell1_component_verbal})*@{spell1_spellfailure}*@{spell1_component_somatic}]]}} {{incantation=[[1d20+@{spell1_incantation_total}]]}} {{touch_used=[[@{spell1_incantation_touch_select}]]}} {{touch=[[1d20+@{spell1_melee_touch_total}]]}} {{spell_resistance_used=[[@{spell1_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spell1_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell1_name}}} {{spell_failure_used=[[@{spell1_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell1_component_verbal})*@{spell1_spellfailure}*@{spell1_component_somatic}]]}} {{incantation=[[1d20+@{spell1_incantation_total}]]}} {{touch_used=[[@{spell1_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spell1_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spell1_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell1_name}}} {{spell_failure_used=[[@{spell1_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell1_component_verbal})*@{spell1_spellfailure}*@{spell1_component_somatic}]]}} {{incantation=[[1d20+@{spell1_incantation_total}]]}} {{touch_used=[[@{spell1_incantation_touch_select}]]}} {{touch=[[1d20+@{spell1_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spell1_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spell1_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spell1_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell1_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell1_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spell1_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spell1_miscellaneous}+@{spell1_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell1_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell1_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell1_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell1_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_melee_touch_total" title="" class="text-strong" value="@{spell1_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell1_melee_touch_miscellaneous}+@{spell1_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell1_melee_touch_base_attack_bonus" title="" value="@{spell1_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell1_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell1_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_ranged_touch_total" title="" class="text-strong" value="@{spell1_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell1_ranged_touch_miscellaneous}+@{spell1_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell1_ranged_touch_base_attack_bonus" title="" value="@{spell1_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell1_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell1_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spell1_attribute_mod_select}+@{foo_status_concentration}+@{spell1_concentration_miscellaneous}+@{spell1_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell1_attribute_mod" title="" value="@{spell1_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell1_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell1_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell1_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spell1_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spell1_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell1_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell1_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell1_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spell1_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spell1_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell1_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell1_difficulty_class_total" title="" class="text-strong" value="@{spell1_degree_of_difficulty_base}+@{spell1_degree_of_difficulty_attribute_mod_select}+@{spell1_degree_of_difficulty_miscellaneous}+@{spell1_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell1_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spell1_degree_of_difficulty_attribute_mod" title="" value="@{spell1_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spell1_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell1_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell1_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell1_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spell1_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spell1_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spell1_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spell1_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spell1_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spell1_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spell1_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell1_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell1_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell1_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell1_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spell1_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell1_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell1_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spell1_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spell1_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell1_name}}} {{damage_used=[[@{spell1_damage_select}]]}} {{damage=[[@{spell1_damage_dice_count}d@{spell1_damage_dice_type} + @{spell1_damage_miscellaneous}+@{spell1_damage_temporary}]]}} {{effect_used=[[@{spell1_effect_select}]]}} {{effect=@{spell1_effect}}} {{save_used=[[@{spell1_save_select}]]}} {{save=[[@{spell1_save_type}]]}} {{save_difficulty_class=[[@{spell1_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spell1_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spell1_name}}} {{damage_used=[[@{spell1_damage_select}]]}} {{damage_critic=[[(@{spell1_damage_dice_count}*2)d@{spell1_damage_dice_type}+(@{spell1_damage_miscellaneous}+@{spell1_damage_temporary})*2]]}} {{effect_used=[[@{spell1_effect_select}]]}} {{effect=@{spell1_effect}}} {{save_used=[[@{spell1_save_select}]]}} {{save=[[@{spell1_save_type}]]}} {{save_difficulty_class=[[@{spell1_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spell1_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell1_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spell1_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spell1_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell1_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spell1_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spell1_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell1_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spell1_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spell1_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell1_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spell1_concentration_total}]]}} {{difficulty_class=[[15+2*@{spell1_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spell1_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell1_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spell1_concentration_total}]]}} {{difficulty_class=[[10+@{spell1_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        <label class="tab-label" data-i18n-title="spell-lvl2-title">
                            <span>2</span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spell2">
                                <input type="hidden" name="attr_spell2_level" value="2" />
                                <input type="hidden" name="attr_spell2_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spell2_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spell2_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spell2_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spell2_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell2_name}}} {{spell_failure_used=[[@{spell2_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell2_component_verbal})*@{spell2_spellfailure}*@{spell2_component_somatic}]]}} {{incantation=[[1d20+@{spell2_incantation_total}]]}} {{touch_used=[[@{spell2_incantation_touch_select}]]}} {{touch=[[1d20+@{spell2_melee_touch_total}]]}} {{spell_resistance_used=[[@{spell2_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spell2_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell2_name}}} {{spell_failure_used=[[@{spell2_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell2_component_verbal})*@{spell2_spellfailure}*@{spell2_component_somatic}]]}} {{incantation=[[1d20+@{spell2_incantation_total}]]}} {{touch_used=[[@{spell2_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spell2_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spell2_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell2_name}}} {{spell_failure_used=[[@{spell2_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell2_component_verbal})*@{spell2_spellfailure}*@{spell2_component_somatic}]]}} {{incantation=[[1d20+@{spell2_incantation_total}]]}} {{touch_used=[[@{spell2_incantation_touch_select}]]}} {{touch=[[1d20+@{spell2_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spell2_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spell2_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spell2_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell2_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell2_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spell2_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spell2_miscellaneous}+@{spell2_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell2_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell2_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell2_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell2_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_melee_touch_total" title="" class="text-strong" value="@{spell2_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell2_melee_touch_miscellaneous}+@{spell2_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell2_melee_touch_base_attack_bonus" title="" value="@{spell2_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell2_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell2_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_ranged_touch_total" title="" class="text-strong" value="@{spell2_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell2_ranged_touch_miscellaneous}+@{spell2_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell2_ranged_touch_base_attack_bonus" title="" value="@{spell2_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell2_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell2_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spell2_attribute_mod_select}+@{foo_status_concentration}+@{spell2_concentration_miscellaneous}+@{spell2_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell2_attribute_mod" title="" value="@{spell2_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell2_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell2_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell2_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spell2_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spell2_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell2_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell2_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell2_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spell2_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spell2_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell2_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell2_difficulty_class_total" title="" class="text-strong" value="@{spell2_degree_of_difficulty_base}+@{spell2_degree_of_difficulty_attribute_mod_select}+@{spell2_degree_of_difficulty_miscellaneous}+@{spell2_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell2_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spell2_degree_of_difficulty_attribute_mod" title="" value="@{spell2_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spell2_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell2_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell2_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell2_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spell2_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spell2_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spell2_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spell2_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spell2_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spell2_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spell2_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell2_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell2_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell2_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell2_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spell2_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell2_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell2_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spell2_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spell2_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell2_name}}} {{damage_used=[[@{spell2_damage_select}]]}} {{damage=[[@{spell2_damage_dice_count}d@{spell2_damage_dice_type} + @{spell2_damage_miscellaneous}+@{spell2_damage_temporary}]]}} {{effect_used=[[@{spell2_effect_select}]]}} {{effect=@{spell2_effect}}} {{save_used=[[@{spell2_save_select}]]}} {{save=[[@{spell2_save_type}]]}} {{save_difficulty_class=[[@{spell2_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spell2_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spell2_name}}} {{damage_used=[[@{spell2_damage_select}]]}} {{damage_critic=[[(@{spell2_damage_dice_count}*2)d@{spell2_damage_dice_type}+(@{spell2_damage_miscellaneous}+@{spell2_damage_temporary})*2]]}} {{effect_used=[[@{spell2_effect_select}]]}} {{effect=@{spell2_effect}}} {{save_used=[[@{spell2_save_select}]]}} {{save=[[@{spell2_save_type}]]}} {{save_difficulty_class=[[@{spell2_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spell2_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell2_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spell2_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spell2_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell2_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spell2_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spell2_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell2_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spell2_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spell2_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell2_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spell2_concentration_total}]]}} {{difficulty_class=[[15+2*@{spell2_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spell2_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell2_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spell2_concentration_total}]]}} {{difficulty_class=[[10+@{spell2_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        <label class="tab-label" data-i18n-title="spell-lvl3-title">
                            <span>3</span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spell3">
                                <input type="hidden" name="attr_spell3_level" value="3" />
                                <input type="hidden" name="attr_spell3_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spell3_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spell3_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spell3_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spell3_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell3_name}}} {{spell_failure_used=[[@{spell3_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell3_component_verbal})*@{spell3_spellfailure}*@{spell3_component_somatic}]]}} {{incantation=[[1d20+@{spell3_incantation_total}]]}} {{touch_used=[[@{spell3_incantation_touch_select}]]}} {{touch=[[1d20+@{spell3_melee_touch_total}]]}} {{spell_resistance_used=[[@{spell3_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spell3_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell3_name}}} {{spell_failure_used=[[@{spell3_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell3_component_verbal})*@{spell3_spellfailure}*@{spell3_component_somatic}]]}} {{incantation=[[1d20+@{spell3_incantation_total}]]}} {{touch_used=[[@{spell3_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spell3_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spell3_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell3_name}}} {{spell_failure_used=[[@{spell3_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell3_component_verbal})*@{spell3_spellfailure}*@{spell3_component_somatic}]]}} {{incantation=[[1d20+@{spell3_incantation_total}]]}} {{touch_used=[[@{spell3_incantation_touch_select}]]}} {{touch=[[1d20+@{spell3_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spell3_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spell3_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spell3_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell3_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell3_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spell3_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spell3_miscellaneous}+@{spell3_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell3_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell3_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell3_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell3_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_melee_touch_total" title="" class="text-strong" value="@{spell3_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell3_melee_touch_miscellaneous}+@{spell3_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell3_melee_touch_base_attack_bonus" title="" value="@{spell3_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell3_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell3_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_ranged_touch_total" title="" class="text-strong" value="@{spell3_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell3_ranged_touch_miscellaneous}+@{spell3_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell3_ranged_touch_base_attack_bonus" title="" value="@{spell3_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell3_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell3_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spell3_attribute_mod_select}+@{foo_status_concentration}+@{spell3_concentration_miscellaneous}+@{spell3_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell3_attribute_mod" title="" value="@{spell3_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell3_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell3_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell3_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spell3_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spell3_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell3_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell3_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell3_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spell3_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spell3_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell3_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell3_difficulty_class_total" title="" class="text-strong" value="@{spell3_degree_of_difficulty_base}+@{spell3_degree_of_difficulty_attribute_mod_select}+@{spell3_degree_of_difficulty_miscellaneous}+@{spell3_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell3_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spell3_degree_of_difficulty_attribute_mod" title="" value="@{spell3_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spell3_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell3_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell3_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell3_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spell3_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spell3_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spell3_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spell3_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spell3_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spell3_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spell3_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell3_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell3_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell3_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell3_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spell3_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell3_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell3_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spell3_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spell3_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell3_name}}} {{damage_used=[[@{spell3_damage_select}]]}} {{damage=[[@{spell3_damage_dice_count}d@{spell3_damage_dice_type} + @{spell3_damage_miscellaneous}+@{spell3_damage_temporary}]]}} {{effect_used=[[@{spell3_effect_select}]]}} {{effect=@{spell3_effect}}} {{save_used=[[@{spell3_save_select}]]}} {{save=[[@{spell3_save_type}]]}} {{save_difficulty_class=[[@{spell3_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spell3_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spell3_name}}} {{damage_used=[[@{spell3_damage_select}]]}} {{damage_critic=[[(@{spell3_damage_dice_count}*2)d@{spell3_damage_dice_type}+(@{spell3_damage_miscellaneous}+@{spell3_damage_temporary})*2]]}} {{effect_used=[[@{spell3_effect_select}]]}} {{effect=@{spell3_effect}}} {{save_used=[[@{spell3_save_select}]]}} {{save=[[@{spell3_save_type}]]}} {{save_difficulty_class=[[@{spell3_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spell3_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell3_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spell3_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spell3_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell3_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spell3_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spell3_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell3_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spell3_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spell3_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell3_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spell3_concentration_total}]]}} {{difficulty_class=[[15+2*@{spell3_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spell3_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell3_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spell3_concentration_total}]]}} {{difficulty_class=[[10+@{spell3_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        <label class="tab-label" data-i18n-title="spell-lvl4-title">
                            <span>4</span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spell4">
                                <input type="hidden" name="attr_spell4_level" value="4" />
                                <input type="hidden" name="attr_spell4_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spell4_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spell4_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spell4_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spell4_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell4_name}}} {{spell_failure_used=[[@{spell4_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell4_component_verbal})*@{spell4_spellfailure}*@{spell4_component_somatic}]]}} {{incantation=[[1d20+@{spell4_incantation_total}]]}} {{touch_used=[[@{spell4_incantation_touch_select}]]}} {{touch=[[1d20+@{spell4_melee_touch_total}]]}} {{spell_resistance_used=[[@{spell4_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spell4_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell4_name}}} {{spell_failure_used=[[@{spell4_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell4_component_verbal})*@{spell4_spellfailure}*@{spell4_component_somatic}]]}} {{incantation=[[1d20+@{spell4_incantation_total}]]}} {{touch_used=[[@{spell4_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spell4_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spell4_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell4_name}}} {{spell_failure_used=[[@{spell4_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell4_component_verbal})*@{spell4_spellfailure}*@{spell4_component_somatic}]]}} {{incantation=[[1d20+@{spell4_incantation_total}]]}} {{touch_used=[[@{spell4_incantation_touch_select}]]}} {{touch=[[1d20+@{spell4_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spell4_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spell4_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spell4_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell4_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell4_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spell4_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spell4_miscellaneous}+@{spell4_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell4_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell4_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell4_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell4_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_melee_touch_total" title="" class="text-strong" value="@{spell4_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell4_melee_touch_miscellaneous}+@{spell4_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell4_melee_touch_base_attack_bonus" title="" value="@{spell4_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell4_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell4_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_ranged_touch_total" title="" class="text-strong" value="@{spell4_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell4_ranged_touch_miscellaneous}+@{spell4_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell4_ranged_touch_base_attack_bonus" title="" value="@{spell4_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell4_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell4_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spell4_attribute_mod_select}+@{foo_status_concentration}+@{spell4_concentration_miscellaneous}+@{spell4_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell4_attribute_mod" title="" value="@{spell4_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell4_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell4_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell4_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spell4_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spell4_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell4_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell4_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell4_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spell4_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spell4_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell4_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell4_difficulty_class_total" title="" class="text-strong" value="@{spell4_degree_of_difficulty_base}+@{spell4_degree_of_difficulty_attribute_mod_select}+@{spell4_degree_of_difficulty_miscellaneous}+@{spell4_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell4_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spell4_degree_of_difficulty_attribute_mod" title="" value="@{spell4_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spell4_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell4_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell4_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell4_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spell4_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spell4_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spell4_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spell4_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spell4_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spell4_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spell4_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell4_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell4_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell4_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell4_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spell4_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell4_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell4_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spell4_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spell4_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell4_name}}} {{damage_used=[[@{spell4_damage_select}]]}} {{damage=[[@{spell4_damage_dice_count}d@{spell4_damage_dice_type} + @{spell4_damage_miscellaneous}+@{spell4_damage_temporary}]]}} {{effect_used=[[@{spell4_effect_select}]]}} {{effect=@{spell4_effect}}} {{save_used=[[@{spell4_save_select}]]}} {{save=[[@{spell4_save_type}]]}} {{save_difficulty_class=[[@{spell4_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spell4_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spell4_name}}} {{damage_used=[[@{spell4_damage_select}]]}} {{damage_critic=[[(@{spell4_damage_dice_count}*2)d@{spell4_damage_dice_type}+(@{spell4_damage_miscellaneous}+@{spell4_damage_temporary})*2]]}} {{effect_used=[[@{spell4_effect_select}]]}} {{effect=@{spell4_effect}}} {{save_used=[[@{spell4_save_select}]]}} {{save=[[@{spell4_save_type}]]}} {{save_difficulty_class=[[@{spell4_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spell4_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell4_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spell4_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spell4_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell4_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spell4_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spell4_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell4_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spell4_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spell4_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell4_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spell4_concentration_total}]]}} {{difficulty_class=[[15+2*@{spell4_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spell4_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell4_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spell4_concentration_total}]]}} {{difficulty_class=[[10+@{spell4_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        <label class="tab-label" data-i18n-title="spell-lvl5-title">
                            <span>5</span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spell5">
                                <input type="hidden" name="attr_spell5_level" value="5" />
                                <input type="hidden" name="attr_spell5_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spell5_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spell5_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spell5_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spell5_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell5_name}}} {{spell_failure_used=[[@{spell5_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell5_component_verbal})*@{spell5_spellfailure}*@{spell5_component_somatic}]]}} {{incantation=[[1d20+@{spell5_incantation_total}]]}} {{touch_used=[[@{spell5_incantation_touch_select}]]}} {{touch=[[1d20+@{spell5_melee_touch_total}]]}} {{spell_resistance_used=[[@{spell5_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spell5_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell5_name}}} {{spell_failure_used=[[@{spell5_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell5_component_verbal})*@{spell5_spellfailure}*@{spell5_component_somatic}]]}} {{incantation=[[1d20+@{spell5_incantation_total}]]}} {{touch_used=[[@{spell5_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spell5_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spell5_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell5_name}}} {{spell_failure_used=[[@{spell5_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell5_component_verbal})*@{spell5_spellfailure}*@{spell5_component_somatic}]]}} {{incantation=[[1d20+@{spell5_incantation_total}]]}} {{touch_used=[[@{spell5_incantation_touch_select}]]}} {{touch=[[1d20+@{spell5_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spell5_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spell5_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spell5_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell5_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell5_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spell5_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spell5_miscellaneous}+@{spell5_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell5_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell5_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell5_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell5_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_melee_touch_total" title="" class="text-strong" value="@{spell5_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell5_melee_touch_miscellaneous}+@{spell5_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell5_melee_touch_base_attack_bonus" title="" value="@{spell5_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell5_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell5_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_ranged_touch_total" title="" class="text-strong" value="@{spell5_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell5_ranged_touch_miscellaneous}+@{spell5_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell5_ranged_touch_base_attack_bonus" title="" value="@{spell5_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell5_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell5_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spell5_attribute_mod_select}+@{foo_status_concentration}+@{spell5_concentration_miscellaneous}+@{spell5_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell5_attribute_mod" title="" value="@{spell5_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell5_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell5_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell5_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spell5_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spell5_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell5_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell5_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell5_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spell5_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spell5_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell5_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell5_difficulty_class_total" title="" class="text-strong" value="@{spell5_degree_of_difficulty_base}+@{spell5_degree_of_difficulty_attribute_mod_select}+@{spell5_degree_of_difficulty_miscellaneous}+@{spell5_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell5_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spell5_degree_of_difficulty_attribute_mod" title="" value="@{spell5_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spell5_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell5_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell5_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell5_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spell5_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spell5_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spell5_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spell5_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spell5_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spell5_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spell5_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell5_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell5_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell5_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell5_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spell5_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell5_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell5_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spell5_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spell5_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell5_name}}} {{damage_used=[[@{spell5_damage_select}]]}} {{damage=[[@{spell5_damage_dice_count}d@{spell5_damage_dice_type} + @{spell5_damage_miscellaneous}+@{spell5_damage_temporary}]]}} {{effect_used=[[@{spell5_effect_select}]]}} {{effect=@{spell5_effect}}} {{save_used=[[@{spell5_save_select}]]}} {{save=[[@{spell5_save_type}]]}} {{save_difficulty_class=[[@{spell5_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spell5_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spell5_name}}} {{damage_used=[[@{spell5_damage_select}]]}} {{damage_critic=[[(@{spell5_damage_dice_count}*2)d@{spell5_damage_dice_type}+(@{spell5_damage_miscellaneous}+@{spell5_damage_temporary})*2]]}} {{effect_used=[[@{spell5_effect_select}]]}} {{effect=@{spell5_effect}}} {{save_used=[[@{spell5_save_select}]]}} {{save=[[@{spell5_save_type}]]}} {{save_difficulty_class=[[@{spell5_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spell5_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell5_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spell5_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spell5_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell5_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spell5_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spell5_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell5_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spell5_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spell5_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell5_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spell5_concentration_total}]]}} {{difficulty_class=[[15+2*@{spell5_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spell5_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell5_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spell5_concentration_total}]]}} {{difficulty_class=[[10+@{spell5_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        <label class="tab-label" data-i18n-title="spell-lvl6-title">
                            <span>6</span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spell6">
                                <input type="hidden" name="attr_spell6_level" value="6" />
                                <input type="hidden" name="attr_spell6_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spell6_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spell6_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spell6_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spell6_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell6_name}}} {{spell_failure_used=[[@{spell6_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell6_component_verbal})*@{spell6_spellfailure}*@{spell6_component_somatic}]]}} {{incantation=[[1d20+@{spell6_incantation_total}]]}} {{touch_used=[[@{spell6_incantation_touch_select}]]}} {{touch=[[1d20+@{spell6_melee_touch_total}]]}} {{spell_resistance_used=[[@{spell6_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spell6_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell6_name}}} {{spell_failure_used=[[@{spell6_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell6_component_verbal})*@{spell6_spellfailure}*@{spell6_component_somatic}]]}} {{incantation=[[1d20+@{spell6_incantation_total}]]}} {{touch_used=[[@{spell6_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spell6_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spell6_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell6_name}}} {{spell_failure_used=[[@{spell6_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell6_component_verbal})*@{spell6_spellfailure}*@{spell6_component_somatic}]]}} {{incantation=[[1d20+@{spell6_incantation_total}]]}} {{touch_used=[[@{spell6_incantation_touch_select}]]}} {{touch=[[1d20+@{spell6_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spell6_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spell6_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spell6_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell6_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell6_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spell6_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spell6_miscellaneous}+@{spell6_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell6_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell6_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell6_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell6_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_melee_touch_total" title="" class="text-strong" value="@{spell6_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell6_melee_touch_miscellaneous}+@{spell6_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell6_melee_touch_base_attack_bonus" title="" value="@{spell6_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell6_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell6_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_ranged_touch_total" title="" class="text-strong" value="@{spell6_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell6_ranged_touch_miscellaneous}+@{spell6_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell6_ranged_touch_base_attack_bonus" title="" value="@{spell6_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell6_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell6_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spell6_attribute_mod_select}+@{foo_status_concentration}+@{spell6_concentration_miscellaneous}+@{spell6_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell6_attribute_mod" title="" value="@{spell6_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell6_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell6_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell6_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spell6_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spell6_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell6_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell6_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell6_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spell6_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spell6_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell6_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell6_difficulty_class_total" title="" class="text-strong" value="@{spell6_degree_of_difficulty_base}+@{spell6_degree_of_difficulty_attribute_mod_select}+@{spell6_degree_of_difficulty_miscellaneous}+@{spell6_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell6_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spell6_degree_of_difficulty_attribute_mod" title="" value="@{spell6_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spell6_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell6_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell6_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell6_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spell6_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spell6_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spell6_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spell6_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spell6_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spell6_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spell6_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell6_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell6_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell6_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell6_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spell6_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell6_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell6_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spell6_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spell6_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell6_name}}} {{damage_used=[[@{spell6_damage_select}]]}} {{damage=[[@{spell6_damage_dice_count}d@{spell6_damage_dice_type} + @{spell6_damage_miscellaneous}+@{spell6_damage_temporary}]]}} {{effect_used=[[@{spell6_effect_select}]]}} {{effect=@{spell6_effect}}} {{save_used=[[@{spell6_save_select}]]}} {{save=[[@{spell6_save_type}]]}} {{save_difficulty_class=[[@{spell6_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spell6_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spell6_name}}} {{damage_used=[[@{spell6_damage_select}]]}} {{damage_critic=[[(@{spell6_damage_dice_count}*2)d@{spell6_damage_dice_type}+(@{spell6_damage_miscellaneous}+@{spell6_damage_temporary})*2]]}} {{effect_used=[[@{spell6_effect_select}]]}} {{effect=@{spell6_effect}}} {{save_used=[[@{spell6_save_select}]]}} {{save=[[@{spell6_save_type}]]}} {{save_difficulty_class=[[@{spell6_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spell6_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell6_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spell6_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spell6_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell6_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spell6_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spell6_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell6_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spell6_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spell6_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell6_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spell6_concentration_total}]]}} {{difficulty_class=[[15+2*@{spell6_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spell6_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell6_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spell6_concentration_total}]]}} {{difficulty_class=[[10+@{spell6_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        <label class="tab-label" data-i18n-title="spell-lvl7-title">
                            <span>7</span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spell7">
                                <input type="hidden" name="attr_spell7_level" value="7" />
                                <input type="hidden" name="attr_spell7_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spell7_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spell7_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spell7_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spell7_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell7_name}}} {{spell_failure_used=[[@{spell7_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell7_component_verbal})*@{spell7_spellfailure}*@{spell7_component_somatic}]]}} {{incantation=[[1d20+@{spell7_incantation_total}]]}} {{touch_used=[[@{spell7_incantation_touch_select}]]}} {{touch=[[1d20+@{spell7_melee_touch_total}]]}} {{spell_resistance_used=[[@{spell7_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spell7_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell7_name}}} {{spell_failure_used=[[@{spell7_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell7_component_verbal})*@{spell7_spellfailure}*@{spell7_component_somatic}]]}} {{incantation=[[1d20+@{spell7_incantation_total}]]}} {{touch_used=[[@{spell7_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spell7_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spell7_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell7_name}}} {{spell_failure_used=[[@{spell7_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell7_component_verbal})*@{spell7_spellfailure}*@{spell7_component_somatic}]]}} {{incantation=[[1d20+@{spell7_incantation_total}]]}} {{touch_used=[[@{spell7_incantation_touch_select}]]}} {{touch=[[1d20+@{spell7_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spell7_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spell7_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spell7_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell7_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell7_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spell7_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spell7_miscellaneous}+@{spell7_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell7_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell7_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell7_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell7_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_melee_touch_total" title="" class="text-strong" value="@{spell7_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell7_melee_touch_miscellaneous}+@{spell7_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell7_melee_touch_base_attack_bonus" title="" value="@{spell7_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell7_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell7_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_ranged_touch_total" title="" class="text-strong" value="@{spell7_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell7_ranged_touch_miscellaneous}+@{spell7_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell7_ranged_touch_base_attack_bonus" title="" value="@{spell7_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell7_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell7_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spell7_attribute_mod_select}+@{foo_status_concentration}+@{spell7_concentration_miscellaneous}+@{spell7_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell7_attribute_mod" title="" value="@{spell7_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell7_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell7_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell7_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spell7_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spell7_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell7_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell7_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell7_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spell7_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spell7_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell7_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell7_difficulty_class_total" title="" class="text-strong" value="@{spell7_degree_of_difficulty_base}+@{spell7_degree_of_difficulty_attribute_mod_select}+@{spell7_degree_of_difficulty_miscellaneous}+@{spell7_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell7_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spell7_degree_of_difficulty_attribute_mod" title="" value="@{spell7_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spell7_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell7_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell7_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell7_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spell7_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spell7_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spell7_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spell7_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spell7_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spell7_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spell7_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell7_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell7_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell7_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell7_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spell7_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell7_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell7_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spell7_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spell7_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell7_name}}} {{damage_used=[[@{spell7_damage_select}]]}} {{damage=[[@{spell7_damage_dice_count}d@{spell7_damage_dice_type} + @{spell7_damage_miscellaneous}+@{spell7_damage_temporary}]]}} {{effect_used=[[@{spell7_effect_select}]]}} {{effect=@{spell7_effect}}} {{save_used=[[@{spell7_save_select}]]}} {{save=[[@{spell7_save_type}]]}} {{save_difficulty_class=[[@{spell7_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spell7_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spell7_name}}} {{damage_used=[[@{spell7_damage_select}]]}} {{damage_critic=[[(@{spell7_damage_dice_count}*2)d@{spell7_damage_dice_type}+(@{spell7_damage_miscellaneous}+@{spell7_damage_temporary})*2]]}} {{effect_used=[[@{spell7_effect_select}]]}} {{effect=@{spell7_effect}}} {{save_used=[[@{spell7_save_select}]]}} {{save=[[@{spell7_save_type}]]}} {{save_difficulty_class=[[@{spell7_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spell7_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell7_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spell7_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spell7_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell7_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spell7_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spell7_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell7_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spell7_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spell7_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell7_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spell7_concentration_total}]]}} {{difficulty_class=[[15+2*@{spell7_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spell7_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell7_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spell7_concentration_total}]]}} {{difficulty_class=[[10+@{spell7_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        <label class="tab-label" data-i18n-title="spell-lvl8-title">
                            <span>8</span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spell8">
                                <input type="hidden" name="attr_spell8_level" value="8" />
                                <input type="hidden" name="attr_spell8_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spell8_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spell8_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spell8_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spell8_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell8_name}}} {{spell_failure_used=[[@{spell8_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell8_component_verbal})*@{spell8_spellfailure}*@{spell8_component_somatic}]]}} {{incantation=[[1d20+@{spell8_incantation_total}]]}} {{touch_used=[[@{spell8_incantation_touch_select}]]}} {{touch=[[1d20+@{spell8_melee_touch_total}]]}} {{spell_resistance_used=[[@{spell8_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spell8_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell8_name}}} {{spell_failure_used=[[@{spell8_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell8_component_verbal})*@{spell8_spellfailure}*@{spell8_component_somatic}]]}} {{incantation=[[1d20+@{spell8_incantation_total}]]}} {{touch_used=[[@{spell8_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spell8_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spell8_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell8_name}}} {{spell_failure_used=[[@{spell8_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell8_component_verbal})*@{spell8_spellfailure}*@{spell8_component_somatic}]]}} {{incantation=[[1d20+@{spell8_incantation_total}]]}} {{touch_used=[[@{spell8_incantation_touch_select}]]}} {{touch=[[1d20+@{spell8_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spell8_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spell8_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spell8_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell8_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell8_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spell8_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spell8_miscellaneous}+@{spell8_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell8_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell8_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell8_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell8_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_melee_touch_total" title="" class="text-strong" value="@{spell8_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell8_melee_touch_miscellaneous}+@{spell8_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell8_melee_touch_base_attack_bonus" title="" value="@{spell8_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell8_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell8_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_ranged_touch_total" title="" class="text-strong" value="@{spell8_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell8_ranged_touch_miscellaneous}+@{spell8_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell8_ranged_touch_base_attack_bonus" title="" value="@{spell8_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell8_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell8_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spell8_attribute_mod_select}+@{foo_status_concentration}+@{spell8_concentration_miscellaneous}+@{spell8_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell8_attribute_mod" title="" value="@{spell8_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell8_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell8_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell8_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spell8_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spell8_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell8_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell8_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell8_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spell8_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spell8_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell8_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell8_difficulty_class_total" title="" class="text-strong" value="@{spell8_degree_of_difficulty_base}+@{spell8_degree_of_difficulty_attribute_mod_select}+@{spell8_degree_of_difficulty_miscellaneous}+@{spell8_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell8_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spell8_degree_of_difficulty_attribute_mod" title="" value="@{spell8_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spell8_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell8_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell8_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell8_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spell8_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spell8_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spell8_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spell8_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spell8_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spell8_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spell8_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell8_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell8_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell8_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell8_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spell8_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell8_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell8_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spell8_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spell8_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell8_name}}} {{damage_used=[[@{spell8_damage_select}]]}} {{damage=[[@{spell8_damage_dice_count}d@{spell8_damage_dice_type} + @{spell8_damage_miscellaneous}+@{spell8_damage_temporary}]]}} {{effect_used=[[@{spell8_effect_select}]]}} {{effect=@{spell8_effect}}} {{save_used=[[@{spell8_save_select}]]}} {{save=[[@{spell8_save_type}]]}} {{save_difficulty_class=[[@{spell8_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spell8_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spell8_name}}} {{damage_used=[[@{spell8_damage_select}]]}} {{damage_critic=[[(@{spell8_damage_dice_count}*2)d@{spell8_damage_dice_type}+(@{spell8_damage_miscellaneous}+@{spell8_damage_temporary})*2]]}} {{effect_used=[[@{spell8_effect_select}]]}} {{effect=@{spell8_effect}}} {{save_used=[[@{spell8_save_select}]]}} {{save=[[@{spell8_save_type}]]}} {{save_difficulty_class=[[@{spell8_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spell8_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell8_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spell8_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spell8_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell8_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spell8_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spell8_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell8_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spell8_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spell8_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell8_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spell8_concentration_total}]]}} {{difficulty_class=[[15+2*@{spell8_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spell8_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell8_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spell8_concentration_total}]]}} {{difficulty_class=[[10+@{spell8_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>

                        <label class="tab-label" data-i18n-title="spell-lvl9-title">
                            <span>9</span>
                        </label>
                        <div class="tab-content">
                            <fieldset class="repeating_spell9">
                                <input type="hidden" name="attr_spell9_level" value="9" />
                                <input type="hidden" name="attr_spell9_incantation_toggle" title="" class="spell-incantation-toggle" value="no-touch" />
                                <input type="hidden" name="attr_spell9_damage_toggle" title="" class="spell-damage-toggle" value="hide" />
                                <input type="hidden" name="attr_spell9_effect_toggle" title="" class="spell-effect-toggle" value="hide" />
                                <input type="hidden" name="attr_spell9_save_toggle" title="" class="spell-save-toggle" value="hide" />
                                <div class="spell-content">
                                    <div class="flex-row">
                                        <div class="flex-col-auto spell-roll">
                                            <div class="spell-melee-touch">
                                                <button
                                                        name="roll_spell9_melee_touch"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell9_name}}} {{spell_failure_used=[[@{spell9_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell9_component_verbal})*@{spell9_spellfailure}*@{spell9_component_somatic}]]}} {{incantation=[[1d20+@{spell9_incantation_total}]]}} {{touch_used=[[@{spell9_incantation_touch_select}]]}} {{touch=[[1d20+@{spell9_melee_touch_total}]]}} {{spell_resistance_used=[[@{spell9_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-no-touch">
                                                <button
                                                        name="roll_spell9_incantation"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell9_name}}} {{spell_failure_used=[[@{spell9_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell9_component_verbal})*@{spell9_spellfailure}*@{spell9_component_somatic}]]}} {{incantation=[[1d20+@{spell9_incantation_total}]]}} {{touch_used=[[@{spell9_incantation_touch_select}]]}} {{spell_resistance_used=[[@{spell9_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                            <div class="spell-ranged-touch">
                                                <button
                                                        name="roll_spell9_ranged_touch_"
                                                        type="roll"
                                                        data-i18n-title="spell-incantation-roll-title"
                                                        value="@{option_whisper} &{template:roll} {{roll_incantation=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell9_name}}} {{spell_failure_used=[[@{spell9_spellfailure}]]}} {{spell_failure=[[1d100]]}} {{spell_failure_total=[[(@{foo_arcane_spell_failure_total}+@{foo_status_spell_verbal}*@{spell9_component_verbal})*@{spell9_spellfailure}*@{spell9_component_somatic}]]}} {{incantation=[[1d20+@{spell9_incantation_total}]]}} {{touch_used=[[@{spell9_incantation_touch_select}]]}} {{touch=[[1d20+@{spell9_ranged_touch_total}]]}} {{spell_resistance_used=[[@{spell9_spell_resistance}]]}}"
                                                ></button>
                                            </div>
                                        </div>
                                        <div class="flex-col">
                                            <div class="accordion">
                                                <input class="accordion-checkbox" type="checkbox" name="attr_spell9_checkbox" title="" data-i18n-title="show-hide"/>
                                                <div class="accordion-container">
                                                    <div class="accordion-label">
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <input class="spell-name text-bold" type="text" name="attr_spell9_name" title="" data-i18n-placeholder="spell-name"/>
                                                            </div>

                                                            <div class="flex-col4">
                                                                <div class="input-group">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="uses"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell9_prepared" title="" min="0" step="1" value="0">
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-separator"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_spell9_prepared_max" title="" min="0" step="1" value="1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="accordion-content">
                                                        <div class="spell-incantation">
                                                            <table>
                                                                <thead>
                                                                <tr>
                                                                    <th width="25%">
                                                                        <span data-i18n="spell-incantation" data-i18n-title="spell-incantation-title"></span>
                                                                    </th>
                                                                    <th width="25">
                                                                        <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                    </th>
                                                                    <th width="25%">
                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                    </th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <input type="number" name="attr_spell9_incantation_total" title="" class="text-strong" value="@{caster_level_total}+@{foo_status_concentration}+@{spell9_miscellaneous}+@{spell9_temporary}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell9_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell9_miscellaneous" title="" step="1" value="0"/>
                                                                    </td>
                                                                    <td>
                                                                        <input type="number" name="attr_spell9_temporary" title="" step="1" value="0"/>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="flex-row">
                                                            <div class="flex-col3">
                                                                <table class="spell-incantation-touch-select">
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-incantation-touch"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell9_incantation_touch_select" title="" data-i18n-list="spell-incantation-touch-list">
                                                                                    <option data-i18n="spell-incantation-melee-touch" data-i18n-list-item="melee" value="1"></option>
                                                                                    <option data-i18n="no" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                    <option data-i18n="spell-incantation-ranged-touch" data-i18n-list-item="ranged" value="2"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="flex-col9">
                                                                <div class="spell-melee-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-melee-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-melee-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_melee_touch_total" title="" class="text-strong" value="@{spell9_melee_touch_mod_base_attack_bonus_select}+@{foo_character_strength_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell9_melee_touch_miscellaneous}+@{spell9_melee_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell9_melee_touch_base_attack_bonus" title="" value="@{spell9_melee_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell9_melee_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_melee_touch_attribute_mod" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_melee_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell9_melee_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_melee_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_melee_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="spell-ranged-touch">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="total" data-i18n-title="spell-ranged-touch-total-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="base-attack-bonus-short" data-i18n-title="spell-touch-modifier-base-attack-bonus-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-ranged-touch-modifier"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="14.285714%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_ranged_touch_total" title="" class="text-strong" value="@{spell9_ranged_touch_mod_base_attack_bonus_select}+@{foo_character_dexterity_mod}+@{character_creature_size_select}+@{foo_status_encumbrance_proficiency}+@{foo_base_attack}+@{spell9_ranged_touch_miscellaneous}+@{spell9_ranged_touch_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell9_ranged_touch_base_attack_bonus" title="" value="@{spell9_ranged_touch_mod_base_attack_bonus_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell9_ranged_touch_mod_base_attack_bonus_select" title="">
                                                                                        <option data-i18n="1st" value="@{foo_class_base_attack_bonus1_total}" selected="selected"></option>
                                                                                        <option data-i18n="2nd" value="@{foo_class_base_attack_bonus2_total}"></option>
                                                                                        <option data-i18n="3rd" value="@{foo_class_base_attack_bonus3_total}"></option>
                                                                                        <option data-i18n="4th" value="@{foo_class_base_attack_bonus4_total}"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_ranged_touch_attribute_mod" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_ranged_touch_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                                                                            </td>
                                                                            <th>
                                                                                <input type="number" name="attr_spell9_ranged_touch_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_base_attack}" disabled="disabled"/>
                                                                            </th>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_ranged_touch_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_ranged_touch_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex-row">
                                                            <div class="flex-col8">
                                                                <hr>

                                                                <div class="spell-concentration">
                                                                    <table>
                                                                        <thead>
                                                                        <tr>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="spell-concentration" data-i18n-title="spell-concentration-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="status-short"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                            </th>
                                                                            <th width="16.666666%">
                                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                            </th>
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_concentration_total" title="" class="text-strong" value="@{caster_level_total}+@{spell9_attribute_mod_select}+@{foo_status_concentration}+@{spell9_concentration_miscellaneous}+@{spell9_concentration_temporary}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_concentration_caster_level" title="" value="@{caster_level_total}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <div class="input-group">
                                                                                    <input type="number" name="attr_spell9_attribute_mod" title="" value="@{spell9_attribute_mod_select}" disabled="disabled"/>
                                                                                    <select class="fixed-small" name="attr_spell9_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                        <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                        <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                        <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                    </select>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_concentration_status" title="" value="@{foo_status_concentration}" disabled="disabled"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_concentration_miscellaneous" title="" step="1" value="0"/>
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" name="attr_spell9_concentration_temporary" title="" step="1" value="0"/>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>

                                                                </div>

                                                                <hr>

                                                                <div class="spell-damage">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-damage-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="damage"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell9_damage_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-damage-content flex-col9">
                                                                            <table>
                                                                                <thead>
                                                                                <tr>
                                                                                    <th width="50%">
                                                                                        <span data-i18n="spell-damage-level" data-i18n-title="spell-damage-level-title"></span>
                                                                                    </th>
                                                                                    <th></th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                    </th>
                                                                                    <th width="25%">
                                                                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <input type="number" name="attr_spell9_damage_dice_count" title="" min="1" step="1" value="1"/>
                                                                                            <div class="input-group-text">
                                                                                                <span data-i18n="dice-short"></span>
                                                                                            </div>
                                                                                            <select class="fixed-small" name="attr_spell9_damage_dice_type" title="">
                                                                                                <option value="2" selected="selected">2</option>
                                                                                                <option value="3">3</option>
                                                                                                <option value="4">4</option>
                                                                                                <option value="6">6</option>
                                                                                                <option value="8">8</option>
                                                                                                <option value="10">10</option>
                                                                                                <option value="12">12</option>
                                                                                                <option value="20">20</option>
                                                                                                <option value="100">100</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                    <td>
                                                                                        <span data-i18n="sign-plus"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell9_damage_miscellaneous" title="" value="0"/>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="number" name="attr_spell9_damage_temporary" title="" value="0"/>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-effect">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-effect-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-effect"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell9_effect_select" title="">
                                                                                            <option data-i18n="yes" value="1"></option>
                                                                                            <option data-i18n="no" value="0" selected="selected"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-effect-content flex-col9">
                                                                            <textarea name="attr_spell9_effect" title="" data-i18n-placeholder="spell-effect-placeholder"></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr>

                                                                <div class="spell-save">
                                                                    <div class="flex-row">
                                                                        <div class="flex-col3">
                                                                            <table class="spell-save-select">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <div class="input-group">
                                                                                            <select name="attr_spell9_save_select" title="" data-i18n-list="spell-save-type-list">
                                                                                                <option data-i18n="none" data-i18n-list-item="none" value="0" selected="selected"></option>
                                                                                                <option data-i18n="save-fortitude" data-i18n-list-item="fortitude" value="1"></option>
                                                                                                <option data-i18n="save-reflex" data-i18n-list-item="reflex" value="2"></option>
                                                                                                <option data-i18n="save-willpower" data-i18n-list-item="willpower" value="3"></option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="spell-save-content flex-col9">
                                                                            <table class="spell-save-roll-type">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>
                                                                                        <span data-i18n="spell-save-type"></span>
                                                                                    </th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td>
                                                                                        <select name="attr_spell9_save_type" title="" data-i18n-list="spell-save-list">
                                                                                            <option data-i18n="spell-save-effect-negates" value="1" data-i18n-list-item="negates" selected="selected"></option>
                                                                                            <option data-i18n="spell-save-effect-negates-harmless" value="2" data-i18n-list-item="negates-harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-half-damage" value="3" data-i18n-list-item="half-damage"></option>
                                                                                            <option data-i18n="spell-save-effect-harmless" value="4" data-i18n-list-item="harmless"></option>
                                                                                            <option data-i18n="spell-save-effect-partial" value="5" data-i18n-list-item="partial"></option>
                                                                                            <option data-i18n="spell-save-effect-unveils" value="6" data-i18n-list-item="unveils"></option>
                                                                                        </select>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>

                                                                    <div class="spell-save-content">
                                                                        <table class="spell-save-difficulty-class">
                                                                            <thead>
                                                                            <tr>
                                                                                <th width="20%">
                                                                                    <span data-i18n="spell-difficulty-class" data-i18n-title="spell-difficulty-class-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="base"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="modifier-short" data-i18n-title="spell-concentration-modifier-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                                                                </th>
                                                                                <th width="20%">
                                                                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                                                </th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell9_difficulty_class_total" title="" class="text-strong" value="@{spell9_degree_of_difficulty_base}+@{spell9_degree_of_difficulty_attribute_mod_select}+@{spell9_degree_of_difficulty_miscellaneous}+@{spell9_degree_of_difficulty_temporary}" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell9_degree_of_difficulty_base" title="" value="10" disabled="disabled"/>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="input-group">
                                                                                        <input type="number" name="attr_spell9_degree_of_difficulty_attribute_mod" title="" value="@{spell9_degree_of_difficulty_attribute_mod_select}" disabled="disabled"/>
                                                                                        <select class="fixed-small" name="attr_spell9_degree_of_difficulty_attribute_mod_select" title="" data-i18n-list="spell-attribute-list">
                                                                                            <option data-i18n="attribute-charisma-short" value="@{character_charisma_mod}" data-i18n-list-item="charisma"></option>
                                                                                            <option data-i18n="attribute-intelligence-short" value="@{character_intelligence_mod}" data-i18n-list-item="intelligence" selected="selected"></option>
                                                                                            <option data-i18n="attribute-wisdom-short" value="@{character_wisdom_mod}" data-i18n-list-item="wisdom"></option>
                                                                                        </select>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell9_degree_of_difficulty_miscellaneous" title="" step="1" value="0" />
                                                                                </td>
                                                                                <td>
                                                                                    <input type="number" name="attr_spell9_degree_of_difficulty_temporary" title="" step="1" value="0" />
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="flex-col4 spell-aside">
                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-school"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell9_school" title="" data-i18n-list="spell-school-list">
                                                                                    <optgroup label="" data-i18n-label="spell-abjuration" data-i18n-list-item="abjuration">
                                                                                        <option data-i18n="spell-abjuration" value="1.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-conjuration" data-i18n-list-item="conjuration" data-i18n-list="spell-conjuration-list">
                                                                                        <option data-i18n="spell-conjuration-calling" value="2.1" data-i18n-list-item="calling"></option>
                                                                                        <option data-i18n="spell-conjuration" value="2.2" data-i18n-list-item="conjuration"></option>
                                                                                        <option data-i18n="spell-conjuration-creation" value="2.3" data-i18n-list-item="creation"></option>
                                                                                        <option data-i18n="spell-conjuration-healing" value="2.4" data-i18n-list-item="healing"></option>
                                                                                        <option data-i18n="spell-conjuration-summoning" value="2.5" data-i18n-list-item="summoning"></option>
                                                                                        <option data-i18n="spell-conjuration-teleportation" value="2.6" data-i18n-list-item="teleportation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-divination" data-i18n-list-item="divination" data-i18n-list="spell-divination-list">
                                                                                        <option data-i18n="spell-divination" value="3.1" data-i18n-list-item="divination"></option>
                                                                                        <option data-i18n="spell-divination-scrying" value="3.2" data-i18n-list-item="scrying"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-enchantment" data-i18n-list-item="enchantment" data-i18n-list="spell-enchantment-list">
                                                                                        <option data-i18n="spell-enchantment-charm" value="4.1" data-i18n-list-item="charm"></option>
                                                                                        <option data-i18n="spell-enchantment-compulsion" value="4.2" data-i18n-list-item="compulsion"></option>
                                                                                        <option data-i18n="spell-enchantment" value="4.3" data-i18n-list-item="enchantment"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-evocation" data-i18n-list-item="evocation">
                                                                                        <option data-i18n="spell-evocation" value="5.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-illusion" data-i18n-list-item="illusion" data-i18n-list="spell-illusion-list">
                                                                                        <option data-i18n="spell-illusion-figment" value="6.1" data-i18n-list-item="figment"></option>
                                                                                        <option data-i18n="spell-illusion-glamer" value="6.2" data-i18n-list-item="glamer"></option>
                                                                                        <option data-i18n="spell-illusion" value="6.4" data-i18n-list-item="illusion"></option>
                                                                                        <option data-i18n="spell-illusion-pattern" value="6.3" data-i18n-list-item="pattern"></option>
                                                                                        <option data-i18n="spell-illusion-phantasm" value="6.5" data-i18n-list-item="phantasm"></option>
                                                                                        <option data-i18n="spell-illusion-shadow" value="6.6" data-i18n-list-item="shadow"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-necromancy" data-i18n-list-item="necromancy">
                                                                                        <option data-i18n="spell-necromancy" value="7.1"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-transmutation" data-i18n-list-item="transmutation" data-i18n-list="spell-transmutation-list">
                                                                                        <option data-i18n="spell-transmutation-polymorph" value="8.1" data-i18n-list-item="polymorph"></option>
                                                                                        <option data-i18n="spell-transmutation-transmutation" value="8.2" data-i18n-list-item="transmutation"></option>
                                                                                    </optgroup>
                                                                                    <optgroup label="" data-i18n-label="spell-universal" data-i18n-list-item="universal">
                                                                                        <option selected="selected" data-i18n="spell-universal" value="9.1"></option>
                                                                                    </optgroup>
                                                                                </select>
                                                                                <select name="attr_spell9_register" title="" data-i18n-list="spell-register-list">
                                                                                    <option value="0" selected="selected" data-i18n-list-item="-default-"></option>
                                                                                    <option data-i18n="spell-register-acid" value="1" data-i18n-list-item="acid"></option>
                                                                                    <option data-i18n="spell-register-air" value="2" data-i18n-list-item="air"></option>
                                                                                    <option data-i18n="spell-register-chaos" value="3" data-i18n-list-item="chaos"></option>
                                                                                    <option data-i18n="spell-register-cold" value="4" data-i18n-list-item="cold"></option>
                                                                                    <option data-i18n="spell-register-curse" value="5" data-i18n-list-item="curse"></option>
                                                                                    <option data-i18n="spell-register-death" value="6" data-i18n-list-item="death"></option>
                                                                                    <option data-i18n="spell-register-desease" value="7" data-i18n-list-item="desease"></option>
                                                                                    <option data-i18n="spell-register-earth" value="8" data-i18n-list-item="earth"></option>
                                                                                    <option data-i18n="spell-register-electricity" value="9" data-i18n-list-item="electricity"></option>
                                                                                    <option data-i18n="spell-register-emotion" value="10" data-i18n-list-item="emotion"></option>
                                                                                    <option data-i18n="spell-register-evil" value="11" data-i18n-list-item="evil"></option>
                                                                                    <option data-i18n="spell-register-force" value="12" data-i18n-list-item="force"></option>
                                                                                    <option data-i18n="spell-register-good" value="13" data-i18n-list-item="good"></option>
                                                                                    <option data-i18n="spell-register-pain" value="14" data-i18n-list-item="pain"></option>
                                                                                    <option data-i18n="spell-register-fire" value="15" data-i18n-list-item="fire"></option>
                                                                                    <option data-i18n="spell-register-language" value="16" data-i18n-list-item="language"></option>
                                                                                    <option data-i18n="spell-register-lawful" value="17" data-i18n-list-item="lawful"></option>
                                                                                    <option data-i18n="spell-register-light" value="18" data-i18n-list-item="light"></option>
                                                                                    <option data-i18n="spell-register-mind-affecting" value="19" data-i18n-list-item="mental"></option>
                                                                                    <option data-i18n="spell-register-poison" value="20" data-i18n-list-item="poison"></option>
                                                                                    <option data-i18n="spell-register-shadow" value="21" data-i18n-list-item="shadow"></option>
                                                                                    <option data-i18n="spell-register-sonic" value="22" data-i18n-list-item="sonic"></option>
                                                                                    <option data-i18n="spell-register-terror" value="23" data-i18n-list-item="terror"></option>
                                                                                    <option data-i18n="spell-register-water" value="24" data-i18n-list-item="water"></option>
                                                                                </select>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-casting-time"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <select name="attr_spell9_casting_time" title="">
                                                                                <option data-i18n="spell-casting-time-swift-action" data-i18n-list-item="swift" value="1"></option>
                                                                                <option data-i18n="spell-casting-time-immediate-action" data-i18n-list-item="immediate" value="2"></option>
                                                                                <option data-i18n="spell-casting-time-free-action" data-i18n-list-item="free" value="3"></option>
                                                                                <option data-i18n="spell-casting-time-simple-action" data-i18n-list-item="simple" value="4" selected="selected"></option>
                                                                                <option data-i18n="spell-casting-time-full-round-action" data-i18n-list-item="full-round" value="5"></option>
                                                                                <option data-i18n="spell-casting-time-1-minute-action" data-i18n-list-item="1-minute" value="6"></option>
                                                                                <option data-i18n="spell-casting-time-1-round-action" data-i18n-list-item="1-round" value="7"></option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th width="60%">
                                                                            <span data-i18n="spell-concentration-components"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-question-title"></span>
                                                                        </th>
                                                                        <th width="20%">
                                                                            <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="spell-resistance-arcane-spell-failure-title"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-verbal-component-title" name="attr_spell9_component_verbal"  value="1"/>
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-verbal-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-gesture-component-title" name="attr_spell9_component_somatic" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-gesture-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-material-component-title" name="attr_spell9_component_material" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-material-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-focus-component-title" name="attr_spell9_component_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="coin">
                                                                                <input type="checkbox" title="" data-i18n-title="spell-divine-focus-component-title" name="attr_spell9_component_divine_focalizing" value="1" />
                                                                                <div class="coin-content">
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-on"></span>
                                                                                    <span data-i18n="spell-divine-focus-component-short" class="coin-face coin-off"></span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell9_spell_resistance" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <div class="waxseal">
                                                                                <input type="checkbox" name="attr_spell9_spellfailure" title="" checked="checked" value="1" />
                                                                                <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                                                                <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="range"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell9_range" title="" class="fixed-medium input-group-auto">
                                                                                    <option data-i18n="spell-range-personnal" value="1" selected="selected"></option>
                                                                                    <option data-i18n="spell-range-contact" value="2"></option>
                                                                                    <option data-i18n="spell-range-short" value="3"></option>
                                                                                    <option data-i18n="spell-range-medium" value="4"></option>
                                                                                    <option data-i18n="spell-range-far" value="5"></option>
                                                                                    <option data-i18n="spell-range-unlimited" value="6"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell9_range_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th colspan="2">
                                                                            <span data-i18n="spell-target-area"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="text" name="attr_spell9_target" title=""/>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>

                                                                <table>
                                                                    <thead>
                                                                    <tr>
                                                                        <th>
                                                                            <span data-i18n="spell-duration"></span>
                                                                        </th>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <div class="input-group">
                                                                                <select name="attr_spell9_duration" title="" class="fixed-medium input-group-auto" data-i18n-list="spell-duration-list">
                                                                                    <option data-i18n="spell-duration-concentration" value="1" data-i18n-list-item="concentration"></option>
                                                                                    <option data-i18n="spell-duration-instant" value="2" selected="selected" data-i18n-list-item="instant"></option>
                                                                                    <option data-i18n="spell-duration-other" value="3" data-i18n-list-item="other"></option>
                                                                                    <option data-i18n="spell-duration-permanent" value="4" data-i18n-list-item="permanent"></option>
                                                                                    <option data-i18n="spell-duration-subject" value="5" data-i18n-list-item="subject"></option>
                                                                                </select>
                                                                                <input type="text" name="attr_spell9_duration_description" title=""/>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <textarea class="spell-note" name="attr_spell9_description" title=""></textarea>
                                                    </div>

                                                    <div class="flex-row">
                                                        <div class="flex-col">
                                                            <ul class="horizontal-button-group">
                                                                <li>
                                                                    <button
                                                                            name="roll_spell9_effect"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell9_name}}} {{damage_used=[[@{spell9_damage_select}]]}} {{damage=[[@{spell9_damage_dice_count}d@{spell9_damage_dice_type} + @{spell9_damage_miscellaneous}+@{spell9_damage_temporary}]]}} {{effect_used=[[@{spell9_effect_select}]]}} {{effect=@{spell9_effect}}} {{save_used=[[@{spell9_save_select}]]}} {{save=[[@{spell9_save_type}]]}} {{save_difficulty_class=[[@{spell9_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect"></span>
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button
                                                                            name="roll_spell9_effect_critic"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-effect-critic-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_incantation_effect=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{spell9_name}}} {{damage_used=[[@{spell9_damage_select}]]}} {{damage_critic=[[(@{spell9_damage_dice_count}*2)d@{spell9_damage_dice_type}+(@{spell9_damage_miscellaneous}+@{spell9_damage_temporary})*2]]}} {{effect_used=[[@{spell9_effect_select}]]}} {{effect=@{spell9_effect}}} {{save_used=[[@{spell9_save_select}]]}} {{save=[[@{spell9_save_type}]]}} {{save_difficulty_class=[[@{spell9_difficulty_class_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-effect-critic"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="flex-col-auto">
                                                            <ul class="horizontal-button-group" data-i18n-list="spell-concentration-list">
                                                                <li data-i18n-list-item="-default-">
                                                                    <button
                                                                            name="roll_spell9_concentration"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell9_name}}} {{label_concentration=@{label_spell_concentration}}} {{test=[[1d20+@{spell9_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="pinned">
                                                                    <button
                                                                            name="roll_spell9_concentration_pinned"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-pinned-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell9_name}}} {{label_concentration=@{label_spell_concentration_pinned}}} {{test=[[1d20+@{spell9_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-pinned"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="grappled">
                                                                    <button
                                                                            name="roll_spell9_concentration_grappled"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-grappled-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell9_name}}} {{label_concentration=@{label_spell_concentration_grappled}}} {{test=[[1d20+@{spell9_concentration_total}]]}}"
                                                                    >
                                                                        <span data-i18n="status-movement-grappled"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="defensive">
                                                                    <button
                                                                            name="roll_spell9_concentration_defensive"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-defensive-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell9_name}}} {{label_concentration=@{label_spell_concentration_defensive}}} {{test=[[1d20+@{spell9_concentration_total}]]}} {{difficulty_class=[[15+2*@{spell9_level}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-defensive"></span>
                                                                    </button>
                                                                </li>
                                                                <li data-i18n-list-item="wound">
                                                                    <button
                                                                            name="roll_spell9_concentration_wound"
                                                                            type="roll"
                                                                            class="button"
                                                                            data-i18n-title="spell-concentration-wound-roll-title"
                                                                            value="@{option_whisper} &{template:roll} {{roll_concentration=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{spell9_name}}} {{label_concentration=@{label_spell_concentration_wound}}} {{test=[[1d20+@{spell9_concentration_total}]]}} {{difficulty_class=[[10+@{spell9_level}+?{@{label_spell_concentration_damage}|1}]]}}"
                                                                    >
                                                                        <span data-i18n="spell-concentration-wound"></span>
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="defense-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert">
                    <span name="attr_defense_status_alert"></span>
                </p>

                <h1 data-i18n="saves"></h1>
                <div class="saves section">
                    <table>
                        <thead>
                        <tr>
                            <td width="1%">
                                <div class="fake-button-roll"></div>
                            </td>
                            <th width="11.111111%">
                                <span data-i18n="saves-type"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="total" data-i18n-title="saves-total-title"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="base"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="modifier-short" data-i18n-title="saves-modifier-title"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="status-short"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="feature"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="bonus"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="penalty"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <button
                                        name="roll_save_reflex"
                                        data-i18n-title="save-reflex-roll-title"
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_reflex}}} {{test=[[1d20+@{reflex_total}]]}}"
                                ></button>
                            </td>
                            <td class="text-center">
                                <span data-i18n="save-reflex"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_reflex_total" title="" class="text-strong" value="@{reflex_base}+@{reflex_attribute}+@{foo_status_encumbrance_proficiency}+(@{foo_status_encumbrance_proficiency}+@{foo_status_reflex})+@{reflex_feat}+@{reflex_bonus}-abs(@{reflex_penalty})+@{reflex_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_reflex_base" title="" value="@{class_reflex_total}" disabled="disabled" />
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_reflex_attribute" title="" value="@{foo_character_dexterity_mod}" disabled="disabled" />
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-dexterity-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_reflex_status" title="" step="1" value="@{foo_status_encumbrance_proficiency}+@{foo_status_reflex}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_reflex_feat" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_reflex_bonus" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_reflex_penalty" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_reflex_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button
                                        name="roll_save_fortitude"
                                        type="roll"
                                        data-i18n-title="save-fortitude-roll-title"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_fortitude}}} {{test=[[1d20+@{fortitude_total}]]}}"
                                ></button>
                            </td>
                            <td class="text-center">
                                <span data-i18n="save-fortitude"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_fortitude_total" title="" class="text-strong" value="@{fortitude_base}+@{fortitude_attribute}+@{foo_status_fortitude}+@{fortitude_feat}+@{fortitude_bonus}-abs(@{fortitude_penalty})+@{fortitude_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_fortitude_base" title="" value="@{class_fortitude_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_fortitude_attribute" title="" value="@{character_constitution_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-constitution-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_fortitude_status" title="" step="1" value="@{foo_status_fortitude}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_fortitude_feat" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_fortitude_bonus" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_fortitude_penalty" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_fortitude_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button
                                        name="roll_save_willpower"
                                        type="roll"
                                        data-i18n-title="save-willpower-roll-title"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_willpower}}} {{test=[[1d20+@{willpower_total}]]}}"
                                ></button>
                            </td>
                            <td class="text-center">
                                <span data-i18n="save-willpower"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_willpower_total" title="" class="text-strong" value="@{willpower_base}+@{willpower_attribute}+@{foo_status_willpower}+@{willpower_feat}+@{willpower_bonus}-abs(@{willpower_penalty})+@{willpower_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_willpower_base" title="" value="@{class_willpower_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_willpower_attribute" title="" value="@{character_wisdom_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-wisdom-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_willpower_status" title="" step="1" value="@{foo_status_willpower}" disabled="disabled" />
                            </td>
                            <td>
                                <input type="number" name="attr_willpower_feat" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_willpower_bonus" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_willpower_penalty" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_willpower_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_saves_note" title=""></textarea>
                </div>

                <h1 data-i18n="armor-class"></h1>
                <div class="section">
                    <table class="armor-class">
                        <thead>
                        <tr>
                            <th width="25%" colspan="2">
                                <span data-i18n="armor-class-melee-short" data-i18n-title="armor-class-melee-title"></span>
                            </th>
                            <td></td>
                            <th width="25" colspan="2">
                                <span data-i18n="armor-class-ranged-short" data-i18n-title="armor-class-ranged-title"></span>
                            </th>
                            <td></td>
                            <th width="25%">
                                <span data-i18n="armor-class-flat-footed" data-i18n-title="armor-class-flat-footed-title"></span>
                            </th>
                            <td></td>
                            <th width="25%">
                                <span data-i18n="armor-class-touch" data-i18n-title="armor-class-touch-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="number" name="attr_armor_class_melee" title="" class="text-strong" value="@{armor_class_base}+(@{foo_status_encumbrance_proficiency}+@{foo_status_armor_class_melee}+@{foo_status_armor_class_dodge})+@{foo_armor_bonus}+@{foo_armor_class_dexterity}+@{character_creature_size_select}+@{armor_class_mod_race}+@{foo_armor_class_mod_dodge}+@{armor_class_mod_deflection}+@{armor_class_miscellaneous}+@{armor_class_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_melee_status" title="" value="@{foo_status_armor_class_melee}" disabled="disabled"/>
                            </td>
                            <td></td>
                            <td>
                                <input type="number" name="attr_armor_class_ranged" title="" class="text-strong" value="@{armor_class_base}+(@{foo_status_encumbrance_proficiency}+@{foo_status_armor_class_ranged}+@{foo_status_armor_class_dodge})+@{foo_armor_bonus}+@{foo_armor_class_dexterity}+@{character_creature_size_select}+@{armor_class_mod_race}+@{foo_armor_class_mod_dodge}+@{armor_class_mod_deflection}+@{armor_class_miscellaneous}+@{armor_class_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_ranged_status" title="" value="@{foo_status_armor_class_ranged}" disabled="disabled"/>
                            </td>
                            <td></td>
                            <td>
                                <input type="number" name="attr_armor_class_flat_footed" title="" class="text-strong" value="@{armor_class_base}+(@{foo_status_encumbrance_proficiency}+@{foo_status_dexterity_flatfooted})+@{foo_armor_bonus}+@{character_creature_size_select}+@{armor_class_mod_race}+@{armor_class_mod_deflection}+@{armor_class_miscellaneous}+@{armor_class_temporary}" disabled="disabled"/>
                            </td>
                            <td></td>
                            <td>
                                <input type="number" name="attr_armor_class_touch" title="" class="text-strong" value="@{armor_class_base}+(@{foo_status_encumbrance_proficiency}+@{foo_status_armor_class_dodge})+@{foo_armor_class_dexterity}+@{character_creature_size_select}+@{foo_armor_class_mod_dodge}+@{armor_class_miscellaneous}+@{armor_class_temporary}" disabled="disabled"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <table class="armor-class-detail">
                        <thead>
                        <tr>
                            <th width="11.111111%">
                                <span data-i18n="base"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="armor" data-i18n-title="armor-class-armor-title"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="attribute-dexterity-short" data-i18n-title="armor-class-modifier-dexterity-title"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="modifier-size-short" data-i18n-title="modifier-size-title"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="armor-class-natural-armor-short" data-i18n-title="armor-class-natural-armor-title"></span>
                            </th>
                            <th width="11.111111%" colspan="2">
                                <span data-i18n="defense-dodge"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="defense-deflection"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="number" name="attr_armor_class_base" title="" value="10" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_bonus" title="" value="@{foo_armor_bonus}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_dexterity" title="" value="@{foo_armor_class_dexterity}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_mod_height" title="" value="@{character_creature_size_select}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_mod_race" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_dodge_status" title="" value="@{foo_status_armor_class_dodge}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_mod_dodge" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_mod_deflection" title="" min="0" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_miscellaneous" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_armor_class_note" title=""></textarea>
                </div>

                <h1 data-i18n="combat-maneuver-defense"></h1>
                <div class="section">
                    <table class="combat-maneuver-defense">
                        <thead>
                        <tr>
                            <th colspan="2">
                                <span data-i18n="combat-maneuver-defense-short" data-i18n-title="combat-maneuver-defense-total-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_total" title="" class="text-strong" value="(@{foo_status_encumbrance_proficiency}+@{foo_status_combat_maneuver_defense})+@{combat_maneuver_defense_base}+@{foo_class_base_attack_bonus1_total}-(@{character_creature_size_select})+@{foo_character_strength_mod}+@{foo_armor_class_dexterity}+@{foo_status_armor_class_dodge}+@{foo_armor_class_mod_dodge}+@{armor_class_mod_deflection}+@{combat_maneuver_defense_miscellaneous}+@{combat_maneuver_defense_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_status_combat_maneuver_defense}" disabled="disabled"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <table class="combat-maneuver-defense-detail">
                        <thead>
                        <tr>
                            <th width="11.111111%">
                                <span data-i18n="base"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="base-attack-bonus-short" data-i18n-title="combat-maneuver-defense-base-attack-bonus-title"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="modifier-special-height-short" data-i18n-title="modifier-special-height-title"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="attribute-strength-short" data-i18n-title="modifier-strength-title"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="attribute-dexterity-short" data-i18n-title="combat-maneuver-defense-modifier-dexterity-title"></span>
                            </th>
                            <th width="11.111111%" colspan="2">
                                <span data-i18n="defense-dodge"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="defense-deflection"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                            </th>
                            <th width="11.111111%">
                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_base" title="" value="10" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_base_attack_bonus" title="" value="@{foo_class_base_attack_bonus1_total}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_height_special" title="" value="-(@{character_creature_size_select})" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_strength" title="" value="@{foo_character_strength_mod}" disabled="disabled" />
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_dexteriy" title="" value="@{foo_armor_class_dexterity}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_armor_class_dodge_status" title="" value="@{foo_status_armor_class_dodge}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_dodge" title="" value="@{armor_class_mod_dodge}"  disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_deflection" title="" value="@{armor_class_mod_deflection}"  disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_miscellaneous" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_combat_maneuver_defense_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_combat_maneuver_defense_note" title=""></textarea>
                </div>

                <h1 data-i18n="resistance"></h1>
                <div class="resistance section">
                    <textarea name="attr_resistance" title=""></textarea>
                </div>

                <h1 data-i18n="spell-resistance"></h1>
                <div class="spell-resistance section">
                    <table>
                        <thead>
                        <tr>
                            <th width="14.285714%">
                                <span data-i18n="spell-resistance-short" data-i18n-title="spell-resistance-title"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="caster-level-short" data-i18n-title="caster-level-title"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="racial"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="spell"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="object"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="number" name="attr_spell_resistance_total" title="" class="text-strong" value="@{caster_level_total}+@{spell_resistance_racial}+@{spell_resistance_spell}+@{spell_resistance_object}+@{spell_resistance_miscellaneous}+@{spell_resistance_temporary}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_spell_resistance_caster_level" title="" value="@{caster_level_total}" disabled="disabled" />
                            </td>
                            <td>
                                <input type="number" name="attr_spell_resistance_racial" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_spell_resistance_spell" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_spell_resistance_object" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_spell_resistance_miscellaneous" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_spell_resistance_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_spell_resistance_note" title=""></textarea>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="skill-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert">
                    <span name="attr_skill_status_alert"></span>
                </p>

                <div class="skill-summary section">
                    <table>
                        <thead>
                        <tr>
                            <th>
                                <span data-i18n="skill-ranks"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <div class="input-group">
                                    <input class="text-strong" type="number" name="attr_skill_total" title="" data-i18n-title="skill-total-title" value="@{foo_skill_ranks_total}+@{foo_skill_perform_ranks_total}+@{foo_skill_custom_ranks_total}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="sign-separator"></span>
                                    </div>
                                    <input type="number" name="attr_skill_remaining" title="" min="0" step="1" value="1"/>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_skill_summary_note" title=""></textarea>
                </div>

                <h1 data-i18n="skill"></h1>
                <div class="skill section">
                    <table>
                        <thead>
                        <tr>
                            <td width="1%">
                                <div class="fake-button-roll"></div>
                            </td>
                            <th width="1%">
                                <span data-i18n="skill-class-competence-short" data-i18n-title="skill-class-competence-question-title"></span>
                            </th>
                            <th>
                                <span data-i18n="skill-competence"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="skill-rank" data-i18n-title="skill-rank-title"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="total" data-i18n-title="skill-total-title"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="skill-class-competence-short" data-i18n-title="skill-class-competence-title"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="modifier-short" data-i18n-title="skill-modifier-title"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="status-short"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="feature"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="skill-feat"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody data-i18n-list="skill-list">
                        <tr data-i18n-list-item="acrobatics">
                            <td>
                                <button
                                        type="roll"
                                        name="roll_skill_acrobatics"
                                        data-i18n-title="skill-acrobatics-roll-title"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_acrobatics}}} {{test=[[1d20+@{skill_acrobatics_total}]]}}"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_acrobatics_cc" title="" value="( 3 * ( @{skill_acrobatics_ranks} + 1 - abs( @{skill_acrobatics_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-acrobatics"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_acrobatics_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_acrobatics_total" title="" disabled="disabled" class="text-strong" value="@{skill_acrobatics_ranks}+@{skill_acrobatics_cc}+@{skill_acrobatics_stat}+(@{foo_status_encumbrance}+@{foo_status_skill})+@{skill_acrobatics_trait}+@{skill_acrobatics_gift}+@{skill_acrobatics_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_acrobatics_class" title="" value="@{skill_acrobatics_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_acrobatics_stat" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-dexterity-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_acrobatics_penalty" title="" value="@{foo_status_encumbrance}+@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_acrobatics_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_acrobatics_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_acrobatics_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="appraise">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_appraise}}} {{test=[[1d20+@{skill_appraise_total}]]}}"
                                        data-i18n-title="skill-appraise-roll-title"
                                        name="roll_skill_appraise"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_appraise_cc" title="" value="( 3 * ( @{skill_appraise_ranks} + 1 - abs( @{skill_appraise_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-appraise"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_appraise_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_appraise_total" title="" disabled="disabled" class="text-strong" value="@{skill_appraise_ranks}+@{skill_appraise_cc}+@{skill_appraise_stat}+@{foo_status_skill}+@{skill_appraise_trait}+@{skill_appraise_gift}+@{skill_appraise_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_appraise_class" title="" value="@{skill_appraise_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_appraise_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_appraise_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_appraise_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_appraise_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_appraise_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="artistry">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_artistry} @{skill_artistry_label}}} {{test=[[1d20+@{skill_artistry_total}]]}}"
                                        data-i18n-title="skill-artistry-roll-title"
                                        name="roll_skill_artistry"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_artistry_cc" title="" value="( 3 * ( @{skill_artistry_ranks} + 1 - abs( @{skill_artistry_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-text">
                                        <span data-i18n="skill-artistry"></span> :
                                    </div>
                                    <input class="text-left" name="attr_skill_artistry_label" title="" type="text"/>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_artistry_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_artistry_total" title="" disabled="disabled" class="text-strong" value="@{skill_artistry_ranks}+@{skill_artistry_cc}+@{skill_artistry_stat}+@{foo_status_skill}+@{skill_artistry_trait}+@{skill_artistry_gift}+@{skill_artistry_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_artistry_class" title="" value="@{skill_artistry_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_artistry_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_artistry_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_artistry_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_artistry_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_artistry_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="bluff">
                            <td>
                                <button
                                        data-i18n-title="skill-bluff-roll-title"
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_bluff}}} {{test=[[1d20+@{skill_bluff_total}]]}}"
                                        name="roll_skill_bluff"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_bluff_cc" title="" value="( 3 * ( @{skill_bluff_ranks} + 1 - abs( @{skill_bluff_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-bluff"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_bluff_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_bluff_total" title="" disabled="disabled" class="text-strong" value="@{skill_bluff_ranks}+@{skill_bluff_cc}+@{skill_bluff_stat}+@{foo_status_skill}+@{skill_bluff_trait}+@{skill_bluff_gift}+@{skill_bluff_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_bluff_class" title="" value="@{skill_bluff_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_bluff_stat" title="" value="@{character_charisma_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-charisma-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_bluff_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_bluff_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_bluff_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_bluff_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr data-i18n-list-item="climb">
                            <td>
                                <button
                                        data-i18n-title="skill-climb-roll-title"
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_climb}}} {{test=[[1d20+@{skill_climb_total}]]}}"
                                        name="roll_skill_climb"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_climb_cc" title="" value="( 3 * ( @{skill_climb_ranks} + 1 - abs( @{skill_climb_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-climb"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_climb_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_climb_total" title="" disabled="disabled" class="text-strong" value="@{skill_climb_ranks}+@{skill_climb_cc}+@{skill_climb_stat}+(@{foo_status_encumbrance}+@{foo_status_skill})+@{skill_climb_trait}+@{skill_climb_gift}+@{skill_climb_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_climb_class" title="" value="@{skill_climb_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_climb_stat" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-strength-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_climb_penalty" title="" value="@{foo_status_encumbrance}+@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_climb_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_climb_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_climb_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="craft">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_craft} @{skill_craft_label}}} {{test=[[1d20+@{skill_craft_total}]]}}"
                                        data-i18n-title="skill-craft-roll-title"
                                        name="roll_skill_craft"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_craft_cc" title="" value="((((3 * @{skill_craft_ranks}) + 3) - abs((3 * @{skill_craft_ranks}) - 3)) / 2)"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-text">
                                        <span data-i18n="skill-craft"></span> :
                                    </div>
                                    <input class="text-left" name="attr_skill_craft_label" title="" type="text"/>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_craft_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_craft_total" title="" disabled="disabled" class="text-strong" value="@{skill_craft_ranks}+@{skill_craft_cc}+@{skill_craft_stat}+@{foo_status_skill}+@{skill_craft_trait}+@{skill_craft_gift}+@{skill_craft_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_craft_class" title="" value="@{skill_craft_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_craft_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_craft_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_craft_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_craft_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_craft_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="diplomacy">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_diplomacy}}} {{test=[[1d20+@{skill_diplomacy_total}]]}}"
                                        data-i18n-title="skill-diplomacy-roll-title"
                                        name="roll_skill_diplomacy"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_diplomacy_cc" title="" value="( 3 * ( @{skill_diplomacy_ranks} + 1 - abs( @{skill_diplomacy_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-diplomacy"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_diplomacy_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_diplomacy_total" title="" disabled="disabled" class="text-strong" value="@{skill_diplomacy_ranks}+@{skill_diplomacy_cc}+@{skill_diplomacy_stat}+@{foo_status_skill}+@{skill_diplomacy_trait}+@{skill_diplomacy_gift}+@{skill_diplomacy_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_diplomacy_class" title="" value="@{skill_diplomacy_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_diplomacy_stat" title="" value="@{character_charisma_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-charisma-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_diplomacy_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_diplomacy_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_diplomacy_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_diplomacy_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="disable-device">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_disable_device}}} {{test=[[1d20+@{skill_disable_device_total}]]}}"
                                        data-i18n-title="skill-disable-device-roll-title"
                                        name="roll_skill_disable_device"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_disable_device_cc" title="" value="( 3 * ( @{skill_disable_device_ranks} + 1 - abs( @{skill_disable_device_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-disable-device"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disable_device_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disable_device_total" title="" disabled="disabled" class="text-strong" value="@{skill_disable_device_ranks}+@{skill_disable_device_cc}+@{skill_disable_device_stat}+(@{foo_status_encumbrance}+@{foo_status_skill})+@{skill_disable_device_trait}+@{skill_disable_device_gift}+@{skill_disable_device_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disable_device_class" title="" value="@{skill_disable_device_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_disable_device_stat" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-dexterity-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disable_device_penalty" title="" value="@{foo_status_encumbrance}+@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disable_device_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disable_device_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disable_device_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="disguise">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_disguise}}} {{test=[[1d20+@{skill_disguise_total}]]}}"
                                        data-i18n-title="skill-disguise-roll-title"
                                        name="roll_skill_disguise"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_disguise_cc" title="" value="( 3 * ( @{skill_disguise_ranks} + 1 - abs( @{skill_disguise_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-disguise"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disguise_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disguise_total" title="" disabled="disabled" class="text-strong" value="@{skill_disguise_ranks}+@{skill_disguise_cc}+@{skill_disguise_stat}+@{foo_status_skill}+@{skill_disguise_trait}+@{skill_disguise_gift}+@{skill_disguise_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disguise_class" title="" value="@{skill_disguise_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_disguise_stat" title="" value="@{character_charisma_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-charisma-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disguise_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disguise_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disguise_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_disguise_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr data-i18n-list-item="escape-artist">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_escape_artist}}} {{test=[[1d20+@{skill_escape_artist_total}]]}}"
                                        data-i18n-title="skill-escape-artist-roll-title"
                                        name="roll_skill_escape_artist"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_escape_artist_cc" title="" value="( 3 * ( @{skill_escape_artist_ranks} + 1 - abs( @{skill_escape_artist_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-escape-artist"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_escape_artist_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_escape_artist_total" title="" disabled="disabled" class="text-strong" value="@{skill_escape_artist_ranks}+@{skill_escape_artist_cc}+@{skill_escape_artist_stat}+(@{foo_status_encumbrance}+@{foo_status_skill})+@{skill_escape_artist_trait}+@{skill_escape_artist_gift}+@{skill_escape_artist_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_escape_artist_class" title="" value="@{skill_escape_artist_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_escape_artist_stat" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-dexterity-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_escape_artist_penalty" title="" value="@{foo_status_encumbrance}+@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_escape_artist_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_escape_artist_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_escape_artist_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr data-i18n-list-item="fly">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_fly}}} {{test=[[1d20+@{skill_fly_total}]]}}"
                                        data-i18n-title="skill-fly-roll-title"
                                        name="roll_skill_fly"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_fly_cc" title="" value="( 3 * ( @{skill_fly_ranks} + 1 - abs( @{skill_fly_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-fly"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_fly_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_fly_total" title="" disabled="disabled" class="text-strong" value="@{skill_fly_ranks}+@{skill_fly_cc}+@{skill_fly_stat}+(@{foo_status_skill}+@{character_creature_size_select}+@{foo_status_encumbrance})+@{skill_fly_trait}+@{skill_fly_gift}+@{skill_fly_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_fly_class" title="" value="@{skill_fly_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_fly_stat" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-dexterity-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td data-i18n-title="skill-fly-title">
                                <input type="number" name="attr_skill_fly_penalty" title="" value="@{foo_status_skill}+@{character_creature_size_select}+@{foo_status_encumbrance}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_fly_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_fly_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_fly_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="handle-animal">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_handle_animal}}} {{test=[[1d20+@{skill_handle_animal_total}]]}}"
                                        data-i18n-title="skill-handle-animal-roll-title"
                                        name="roll_skill_handle_animal"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_handle_animal_cc" title="" value="( 3 * ( @{skill_handle_animal_ranks} + 1 - abs( @{skill_handle_animal_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-handle-animal"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_handle_animal_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_handle_animal_total" title="" disabled="disabled" class="text-strong" value="@{skill_handle_animal_ranks}+@{skill_handle_animal_class}+@{skill_handle_animal_stat}+@{foo_status_skill}+@{skill_handle_animal_trait}+@{skill_handle_animal_gift}+@{skill_handle_animal_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_handle_animal_class" title="" value="@{skill_handle_animal_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_handle_animal_stat" title="" value="@{character_wisdom_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-wisdom-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_handle_animal_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_handle_animal_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_handle_animal_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_handle_animal_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="heal">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_heal}}} {{test=[[1d20+@{skill_heal_total}]]}}"
                                        data-i18n-title="skill-heal-roll-title"
                                        name="roll_skill_heal"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_heal_cc" title="" value="( 3 * ( @{skill_heal_ranks} + 1 - abs( @{skill_heal_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-heal"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_heal_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_heal_total" title="" disabled="disabled" class="text-strong" value="@{skill_heal_ranks}+@{skill_heal_class}+@{skill_heal_stat}+@{foo_status_skill}+@{skill_heal_trait}+@{skill_heal_gift}+@{skill_heal_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_heal_class" title="" value="@{skill_heal_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_heal_stat" title="" value="@{character_wisdom_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-wisdom-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_heal_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_heal_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_heal_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_heal_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr data-i18n-list-item="intimidate">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_intimidate}}} {{test=[[1d20+@{skill_intimidate_total}]]}}"
                                        data-i18n-title="skill-intimidate-roll-title"
                                        name="roll_skill_intimidate"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_intimidate_cc" title="" value="( 3 * ( @{skill_intimidate_ranks} + 1 - abs( @{skill_intimidate_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-intimidate"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_intimidate_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_intimidate_total" title="" disabled="disabled" class="text-strong" value="@{skill_intimidate_ranks}+@{skill_intimidate_cc}+@{skill_intimidate_stat}+@{foo_status_skill}+@{skill_intimidate_trait}+@{skill_intimidate_gift}+@{skill_intimidate_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_intimidate_class" title="" value="@{skill_intimidate_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_intimidate_stat" title="" value="@{character_charisma_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-charisma-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_intimidate_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_intimidate_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_intimidate_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_intimidate_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="knowledge-arcana">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_knowledge_arcana}}} {{test=[[1d20+@{skill_knowledge_arcana_total}]]}}"
                                        data-i18n-title="skill-knowledge-arcana-roll-title"
                                        name="roll_skill_knowledge_arcana"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_knowledge_arcana_cc" title="" value="( 3 * ( @{skill_knowledge_arcana_ranks} + 1 - abs( @{skill_knowledge_arcana_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-knowledge-arcana"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_arcana_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_arcana_total" title="" disabled="disabled" class="text-strong" value="@{skill_knowledge_arcana_ranks}+@{skill_knowledge_arcana_class}+@{skill_knowledge_arcana_stat}+@{foo_status_skill}+@{skill_knowledge_arcana_trait}+@{skill_knowledge_arcana_gift}+@{skill_knowledge_arcana_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_arcana_class" title="" value="@{skill_knowledge_arcana_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_knowledge_arcana_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_arcana_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_arcana_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_arcana_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_arcana_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="knowledge-dungeoneering">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_knowledge_dungeoneering}}} {{test=[[1d20+@{skill_knowledge_dungeoneering_total}]]}}"
                                        data-i18n-title="skill-knowledge-dungeoneering-roll-title"
                                        name="roll_skill_knowledge_dungeoneering"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_knowledge_dungeoneering_cc" title="" value="( 3 * ( @{skill_knowledge_dungeoneering_ranks} + 1 - abs( @{skill_knowledge_dungeoneering_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-knowledge-dungeoneering"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_dungeoneering_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_dungeoneering_total" title="" disabled="disabled" class="text-strong" value="@{skill_knowledge_dungeoneering_ranks}+@{skill_knowledge_dungeoneering_class}+@{skill_knowledge_dungeoneering_stat}+@{foo_status_skill}+@{skill_knowledge_dungeoneering_trait}+@{skill_knowledge_dungeoneering_gift}+@{skill_knowledge_dungeoneering_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_dungeoneering_class" title="" value="@{skill_knowledge_dungeoneering_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_knowledge_dungeoneering_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_dungeoneering_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_dungeoneering_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_dungeoneering_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_dungeoneering_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="knowledge-engineering">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_knowledge_engineering}}} {{test=[[1d20+@{skill_knowledge_engineering_total}]]}}"
                                        data-i18n-title="skill-knowledge-engineering-roll-title"
                                        name="roll_skill_knowledge_engineering"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_knowledge_engineering_cc" title="" value="( 3 * ( @{skill_knowledge_engineering_ranks} + 1 - abs( @{skill_knowledge_engineering_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-knowledge-engineering"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_engineering_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_engineering_total" title="" disabled="disabled" class="text-strong" value="@{skill_knowledge_engineering_ranks}+@{skill_knowledge_engineering_class}+@{skill_knowledge_engineering_stat}+@{foo_status_skill}+@{skill_knowledge_engineering_trait}+@{skill_knowledge_engineering_gift}+@{skill_knowledge_engineering_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_engineering_class" title="" value="@{skill_knowledge_engineering_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_knowledge_engineering_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_engineering_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_engineering_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_engineering_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_engineering_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="knowledge-geography">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_knowledge_geography}}} {{test=[[1d20+@{skill_knowledge_geography_total}]]}}"
                                        data-i18n-title="skill-knowledge-geography-roll-title"
                                        name="roll_skill_knowledge_geography"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_knowledge_geography_cc" title="" value="( 3 * ( @{skill_knowledge_geography_ranks} + 1 - abs( @{skill_knowledge_geography_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-knowledge-geography"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_geography_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_geography_total" title="" disabled="disabled" class="text-strong" value="@{skill_knowledge_geography_ranks}+@{skill_knowledge_geography_class}+@{skill_knowledge_geography_stat}+@{foo_status_skill}+@{skill_knowledge_geography_trait}+@{skill_knowledge_geography_gift}+@{skill_knowledge_geography_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_geography_class" title="" value="@{skill_knowledge_geography_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_knowledge_geography_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_geography_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_geography_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_geography_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_geography_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="knowledge-history">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_knowledge_history}}} {{test=[[1d20+@{skill_knowledge_history_total}]]}}"
                                        data-i18n-title="skill-knowledge-history-roll-title"
                                        name="roll_skill_knowledge_history"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_knowledge_history_cc" title="" value="( 3 * ( @{skill_knowledge_history_ranks} + 1 - abs( @{skill_knowledge_history_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-knowledge-history"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_history_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_history_total" title="" disabled="disabled" class="text-strong" value="@{skill_knowledge_history_ranks}+@{skill_knowledge_history_class}+@{skill_knowledge_history_stat}+@{foo_status_skill}+@{skill_knowledge_history_trait}+@{skill_knowledge_history_gift}+@{skill_knowledge_history_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_history_class" title="" value="@{skill_knowledge_history_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_knowledge_history_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_history_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_history_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_history_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_history_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="knowledge-local">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_knowledge_local}}} {{test=[[1d20+@{skill_knowledge_local_total}]]}}"
                                        data-i18n-title="skill-knowledge-local-roll-title"
                                        name="roll_skill_knowledge_local"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_knowledge_local_cc" title="" value="( 3 * ( @{skill_knowledge_local_ranks} + 1 - abs( @{skill_knowledge_local_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-knowledge-local"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_local_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_local_total" title="" disabled="disabled" class="text-strong" value="@{skill_knowledge_local_ranks}+@{skill_knowledge_local_class}+@{skill_knowledge_local_stat}+@{foo_status_skill}+@{skill_knowledge_local_trait}+@{skill_knowledge_local_gift}+@{skill_knowledge_local_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_local_class" title="" value="@{skill_knowledge_local_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_knowledge_local_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_local_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_local_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_local_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_local_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="knowledge-nature">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_knowledge_nature}}} {{test=[[1d20+@{skill_knowledge_nature_total}]]}}"
                                        data-i18n-title="skill-knowledge-nature-roll-title"
                                        name="roll_skill_knowledge_nature"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_knowledge_nature_cc" title="" value="( 3 * ( @{skill_knowledge_nature_ranks} + 1 - abs( @{skill_knowledge_nature_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-knowledge-nature"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nature_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nature_total" title="" disabled="disabled" class="text-strong" value="@{skill_knowledge_nature_ranks}+@{skill_knowledge_nature_class}+@{skill_knowledge_nature_stat}+@{foo_status_skill}+@{skill_knowledge_nature_trait}+@{skill_knowledge_nature_gift}+@{skill_knowledge_nature_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nature_class" title="" value="@{skill_knowledge_nature_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_knowledge_nature_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nature_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nature_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nature_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nature_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="knowledge-nobility">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_knowledge_nobility}}} {{test=[[1d20+@{skill_knowledge_nobility_total}]]}}"
                                        data-i18n-title="skill-knowledge-nobility-roll-title"
                                        name="roll_skill_knowledge_nobility"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_knowledge_nobility_cc" title="" value="( 3 * ( @{skill_knowledge_nobility_ranks} + 1 - abs( @{skill_knowledge_nobility_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-knowledge-nobility"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nobility_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nobility_total" title="" disabled="disabled" class="text-strong" value="@{skill_knowledge_nobility_ranks}+@{skill_knowledge_nobility_class}+@{skill_knowledge_nobility_stat}+@{foo_status_skill}+@{skill_knowledge_nobility_trait}+@{skill_knowledge_nobility_gift}+@{skill_knowledge_nobility_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nobility_class" title="" value="@{skill_knowledge_nobility_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_knowledge_nobility_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nobility_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nobility_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nobility_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_nobility_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="knowledge-planes">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_knowledge_planes}}} {{test=[[1d20+@{skill_knowledge_planes_total}]]}}"
                                        data-i18n-title="skill-knowledge-planes-roll-title"
                                        name="roll_skill_knowledge_planes"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_knowledge_planes_cc" title="" value="( 3 * ( @{skill_knowledge_planes_ranks} + 1 - abs( @{skill_knowledge_planes_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-knowledge-planes"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_planes_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_planes_total" title="" disabled="disabled" class="text-strong" value="@{skill_knowledge_planes_ranks}+@{skill_knowledge_planes_class}+@{skill_knowledge_planes_stat}+@{foo_status_skill}+@{skill_knowledge_planes_trait}+@{skill_knowledge_planes_gift}+@{skill_knowledge_planes_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_planes_class" title="" value="@{skill_knowledge_planes_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_knowledge_planes_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_planes_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_planes_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_planes_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_planes_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="knowledge-religion">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_knowledge_religion}}} {{test=[[1d20+@{skill_knowledge_religion_total}]]}}"
                                        data-i18n-title="skill-knowledge-religion-roll-title"
                                        name="roll_skill_knowledge_religion"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_knowledge_religion_cc" title="" value="( 3 * ( @{skill_knowledge_religion_ranks} + 1 - abs( @{skill_knowledge_religion_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-knowledge-religion"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_religion_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_religion_total" title="" disabled="disabled" class="text-strong" value="@{skill_knowledge_religion_ranks}+@{skill_knowledge_religion_class}+@{skill_knowledge_religion_stat}+@{foo_status_skill}+@{skill_knowledge_religion_trait}+@{skill_knowledge_religion_gift}+@{skill_knowledge_religion_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_religion_class" title="" value="@{skill_knowledge_religion_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_knowledge_religion_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_religion_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_religion_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_religion_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_knowledge_religion_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="linguistics">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_linguistics}}} {{test=[[1d20+@{skill_linguistics_total}]]}}"
                                        data-i18n-title="skill-linguistics-roll-title"
                                        name="roll_skill_linguistics"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_linguistics_cc" title="" value="( 3 * ( @{skill_linguistics_ranks} + 1 - abs( @{skill_linguistics_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-linguistics"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_linguistics_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_linguistics_total" title="" disabled="disabled" class="text-strong" value="@{skill_linguistics_ranks}+@{skill_linguistics_cc}+@{skill_linguistics_stat}+@{foo_status_skill}+@{skill_linguistics_trait}+@{skill_linguistics_gift}+@{skill_linguistics_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_linguistics_class" title="" value="@{skill_linguistics_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_linguistics_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_linguistics_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_linguistics_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_linguistics_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_linguistics_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr data-i18n-list-item="perception">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_perception}}} {{test=[[1d20+@{skill_perception_total}]]}}"
                                        name="roll_skill_perception"
                                        data-i18n-title="skill-perception-roll-title"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_perception_cc" title="" value="( 3 * ( @{skill_perception_ranks} + 1 - abs( @{skill_perception_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-perception"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_perception_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_perception_total" title="" disabled="disabled" class="text-strong" value="@{skill_perception_ranks}+@{skill_perception_cc}+@{skill_perception_stat}+@{foo_status_skill_perception}+@{skill_perception_trait}+@{skill_perception_gift}+@{skill_perception_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_perception_class" title="" value="@{skill_perception_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_perception_stat" title="" value="@{character_wisdom_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-wisdom-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_perception_penalty" title="" value="@{foo_status_skill_perception}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_perception_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_perception_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_perception_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="profession">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_profession} @{skill_profession_label}}} {{test=[[1d20+@{skill_profession_total}]]}}"
                                        data-i18n-title="skill-profession-roll-title"
                                        name="roll_skill_profession"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_profession_cc" title="" value="((((3 * @{skill_profession_ranks}) + 3) - abs((3 * @{skill_profession_ranks}) - 3)) / 2)"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-text">
                                        <span data-i18n="skill-profession"></span> :
                                    </div>
                                    <input class="text-left" name="attr_skill_profession_label" title="" type="text"/>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_profession_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_profession_total" title="" disabled="disabled" class="text-strong" value="@{skill_profession_ranks}+@{skill_profession_cc}+@{skill_profession_stat}+@{foo_status_skill}+@{skill_profession_trait}+@{skill_profession_gift}+@{skill_profession_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_profession_class" title="" value="@{skill_profession_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_profession_stat" title="" value="@{character_wisdom_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-wisdom-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_profession_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_profession_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_profession_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_profession_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="ride">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_ride}}} {{test=[[1d20+@{skill_ride_total}]]}}"
                                        data-i18n-title="skill-ride-roll-title"
                                        name="roll_skill_ride"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_ride_cc" title="" value="( 3 * ( @{skill_ride_ranks} + 1 - abs( @{skill_ride_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-ride"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_ride_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_ride_total" title="" disabled="disabled" class="text-strong" value="@{skill_ride_ranks}+@{skill_ride_class}+@{skill_ride_stat}+(@{foo_status_encumbrance}+@{foo_status_skill})+@{skill_ride_trait}+@{skill_ride_gift}+@{skill_ride_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_ride_class" title="" value="@{skill_ride_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_ride_stat" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-dexterity-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_ride_penalty" title="" value="@{foo_status_encumbrance}+@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_ride_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_ride_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_ride_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="sense-motive">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_sense_motive}}} {{test=[[1d20+@{skill_sense_motive_total}]]}}"
                                        data-i18n-title="skill-sense-motive-roll-title"
                                        name="roll_skill_sense_motive"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_sense_motive_cc" title="" value="( 3 * ( @{skill_sense_motive_ranks} + 1 - abs( @{skill_sense_motive_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-sense-motive"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sense_motive_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sense_motive_total" title="" disabled="disabled" class="text-strong" value="@{skill_sense_motive_ranks}+@{skill_sense_motive_cc}+@{skill_sense_motive_stat}+@{foo_status_skill}+@{skill_sense_motive_trait}+@{skill_sense_motive_gift}+@{skill_sense_motive_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sense_motive_class" title="" value="@{skill_sense_motive_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_sense_motive_stat" title="" value="@{character_wisdom_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-wisdom-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sense_motive_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sense_motive_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sense_motive_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sense_motive_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="sleight-of-hand">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_sleight_of_hand}}} {{test=[[1d20+@{skill_sleight_of_hand_total}]]}}"
                                        data-i18n-title="skill-sleight-of-hand-roll-title"
                                        name="roll_skill_sleight_of_hand"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_sleight_of_hand_cc" title="" value="( 3 * ( @{skill_sleight_of_hand_ranks} + 1 - abs( @{skill_sleight_of_hand_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-sleight-of-hand"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sleight_of_hand_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sleight_of_hand_total" title="" disabled="disabled" class="text-strong" value="@{skill_sleight_of_hand_ranks}+@{skill_sleight_of_hand_cc}+@{skill_sleight_of_hand_stat}+(@{foo_status_encumbrance}+@{foo_status_skill})+@{skill_sleight_of_hand_trait}+@{skill_sleight_of_hand_gift}+@{skill_sleight_of_hand_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sleight_of_hand_class" title="" value="@{skill_sleight_of_hand_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_sleight_of_hand_stat" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-dexterity-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sleight_of_hand_penalty" title="" value="@{foo_status_encumbrance}+@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sleight_of_hand_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sleight_of_hand_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_sleight_of_hand_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="spellcraft">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_spellcraft}}} {{test=[[1d20+@{skill_spellcraft_total}]]}}"
                                        data-i18n-title="skill-spellcraft-roll-title"
                                        name="roll_skill_spellcraft"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_spellcraft_cc" title="" value="( 3 * ( @{skill_spellcraft_ranks} + 1 - abs( @{skill_spellcraft_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-spellcraft"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_spellcraft_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_spellcraft_total" title="" disabled="disabled" class="text-strong" value="@{skill_spellcraft_ranks}+@{skill_spellcraft_cc}+@{skill_spellcraft_stat}+@{foo_status_skill}+@{skill_spellcraft_trait}+@{skill_spellcraft_gift}+@{skill_spellcraft_temporary}"/>
                            </td>
                            <td>

                                <input type="number" name="attr_skill_spellcraft_class" title="" value="@{skill_spellcraft_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_spellcraft_stat" title="" value="@{character_intelligence_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-intelligence-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_spellcraft_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_spellcraft_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_spellcraft_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_spellcraft_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr data-i18n-list-item="stealth">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_stealth}}} {{test=[[1d20+@{skill_stealth_total}]]}}"
                                        data-i18n-title="skill-stealth-roll-title"
                                        name="roll_skill_stealth"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_stealth_cc" title="" value="( 3 * ( @{skill_stealth_ranks} + 1 - abs( @{skill_stealth_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-stealth"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_stealth_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_stealth_total" title="" disabled="disabled" class="text-strong" value="@{skill_stealth_ranks}+@{skill_stealth_cc}+@{skill_stealth_stat}+(@{foo_status_encumbrance}+@{foo_status_skill})+@{skill_stealth_trait}+@{skill_stealth_gift}+@{skill_stealth_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_stealth_class" title="" value="@{skill_stealth_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_stealth_stat" title="" value="@{foo_character_dexterity_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-dexterity-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_stealth_penalty" title="" value="@{foo_status_encumbrance}+@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_stealth_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_stealth_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_stealth_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr data-i18n-list-item="survival">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_survival}}} {{test=[[1d20+@{skill_survival_total}]]}}"
                                        data-i18n-title="skill-survival-roll-title"
                                        name="roll_skill_survival"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_survival_cc" title="" value="( 3 * ( @{skill_survival_ranks} + 1 - abs( @{skill_survival_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-survival"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_survival_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_survival_total" title="" disabled="disabled" class="text-strong" value="@{skill_survival_ranks}+@{skill_survival_cc}+@{skill_survival_stat}+@{foo_status_skill}+@{skill_survival_trait}+@{skill_survival_gift}+@{skill_survival_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_survival_class" title="" value="@{skill_survival_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_survival_stat" title="" value="@{character_wisdom_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-wisdom-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_survival_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_survival_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_survival_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_survival_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr data-i18n-list-item="swim">
                            <td>
                                <button
                                        type="roll"
                                        data-i18n-title="skill-swim-roll-title"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_swim}}} {{test=[[1d20+@{skill_swim_total}]]}}"
                                        name="roll_skill_swim"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_swim_cc" title="" value="( 3 * ( @{skill_swim_ranks} + 1 - abs( @{skill_swim_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n="skill-swim"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_swim_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_swim_total" title="" disabled="disabled" class="text-strong" value="@{skill_swim_ranks}+@{skill_swim_cc}+@{skill_swim_stat}+(@{foo_status_encumbrance}+@{foo_status_skill})+@{skill_swim_trait}+@{skill_swim_gift}+@{skill_swim_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_swim_class" title="" value="@{skill_swim_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_swim_stat" title="" value="@{foo_character_strength_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-strength-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_swim_penalty" title="" value="@{foo_status_encumbrance}+@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_swim_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_swim_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_swim_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr class="template-playable-character" data-i18n-list-item="use-magic-device">
                            <td>
                                <button
                                        type="roll"
                                        value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_use_magic_device}}} {{test=[[1d20+@{skill_use_magic_device_total}]]}}"
                                        data-i18n-title="skill-use-magic-device-roll-title"
                                        name="roll_skill_use_magic_device"
                                ></button>
                            </td>
                            <td>
                                <div class="waxseal">
                                    <input type="checkbox" name="attr_skill_use_magic_device_cc" title="" value="( 3 * ( @{skill_use_magic_device_ranks} + 1 - abs( @{skill_use_magic_device_ranks} - 1 ) ) / 2 )"/>
                                    <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                    <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                </div>
                            </td>
                            <td>
                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                <span data-i18n="skill-use-magic-device"></span>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_use_magic_device_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_use_magic_device_total" title="" disabled="disabled" class="text-strong" value="@{skill_use_magic_device_ranks}+@{skill_use_magic_device_class}+@{skill_use_magic_device_stat}+@{foo_status_skill}+@{skill_use_magic_device_trait}+@{skill_use_magic_device_gift}+@{skill_use_magic_device_temporary}"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_use_magic_device_class" title="" value="@{skill_use_magic_device_cc}" disabled="disabled"/>
                            </td>
                            <td>
                                <div class="input-group disabled">
                                    <input type="number" name="attr_skill_use_magic_device_stat" title="" value="@{character_charisma_mod}" disabled="disabled"/>
                                    <div class="input-group-text">
                                        <span data-i18n="attribute-charisma-short"></span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_use_magic_device_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_use_magic_device_trait" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_use_magic_device_gift" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_skill_use_magic_device_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="template-playable-character">
                    <h1 data-i18n="skill-perform"></h1>
                    <div class="skill section">
                        <table>
                            <thead>
                            <tr>
                                <td width="1%">
                                    <div class="fake-button-roll"></div>
                                </td>
                                <th width="1%">
                                    <span data-i18n="skill-class-competence-short" data-i18n-title="skill-class-competence-question-title"></span>
                                </th>
                                <th>
                                    <span data-i18n="skill-competence"></span>
                                </th>
                                <th width="8%">
                                    <span data-i18n="skill-rank" data-i18n-title="skill-rank-title"></span>
                                </th>
                                <th width="8%">
                                    <span data-i18n="total" data-i18n-title="skill-total-title"></span>
                                </th>
                                <th width="8%">
                                    <span data-i18n="skill-class-competence-short" data-i18n-title="skill-class-competence-title"></span>
                                </th>
                                <th width="8%">
                                    <span data-i18n="modifier-short" data-i18n-title="skill-perform-modifier-title"></span>
                                </th>
                                <th width="8%">
                                    <span data-i18n="status-short"></span>
                                </th>
                                <th width="8%">
                                    <span data-i18n="feature"></span>
                                </th>
                                <th width="8%">
                                    <span data-i18n="skill-feat"></span>
                                </th>
                                <th width="8%">
                                    <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>

                        <fieldset class="repeating_skillperform">
                            <table>
                                <tbody>
                                <tr>
                                    <td width="1%">
                                        <button
                                                type="roll"
                                                value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_perform} @{skill_perform_label_user}}} {{test=[[1d20+@{skill_perform_total}]]}}"
                                                data-i18n-title="skill-perform-roll-title"
                                                name="roll_skill_perform"
                                        ></button>
                                    </td>
                                    <td width="1%">
                                        <div class="waxseal">
                                            <input type="checkbox" name="attr_skill_perform_cc" title="" value="( 3 * ( @{skill_perform_ranks} + 1 - abs( @{skill_perform_ranks} - 1 ) ) / 2 )"/>
                                            <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                            <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="input-group">
                                            <div class="input-group-text">
                                                <span data-i18n-title="skill-required-training-title" class="alert"></span>
                                            </div>
                                            <input class="text-left" name="attr_skill_perform_label_user" title="" type="text">
                                        </div>
                                    </td>
                                    <td width="8%">
                                        <input type="number" name="attr_skill_perform_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                                    </td>
                                    <td width="8%">
                                        <input type="number" name="attr_skill_perform_total" title="" disabled="disabled" class="text-strong" value="@{skill_perform_ranks}+@{skill_perform_cc}+@{skill_perform_stat}+@{foo_status_skill}+@{skill_perform_trait}+@{skill_perform_gift}+@{skill_perform_temporary}"/>
                                    </td>
                                    <td width="8%">
                                        <input type="number" name="attr_skill_perform_class" title="" value="@{skill_perform_cc}" disabled="disabled"/>
                                    </td>
                                    <td width="8%">
                                        <div class="input-group disabled">
                                            <input type="number" name="attr_skill_perform_stat" title="" value="@{character_charisma_mod}" disabled="disabled"/>
                                            <div class="input-group-text">
                                                <span data-i18n="attribute-charisma-short"></span>
                                            </div>
                                        </div>
                                    </td>
                                    <td width="8%">
                                        <input type="number" name="attr_skill_perform_penalty" title="" value="@{foo_status_skill}" disabled="disabled"/>
                                    </td>
                                    <td width="8%">
                                        <input type="number" name="attr_skill_perform_trait" title="" step="1" value="0"/>
                                    </td>
                                    <td width="8%">
                                        <input type="number" name="attr_skill_perform_gift" title="" step="1" value="0"/>
                                    </td>
                                    <td width="8%">
                                        <input type="number" name="attr_skill_perform_temporary" title="" step="1" value="0"/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </fieldset>
                    </div>
                </div>

                <h1 data-i18n="skill-custom"></h1>
                <div class="skill section">
                    <table>
                        <thead>
                        <tr>
                            <td width="1%">
                                <div class="fake-button-roll"></div>
                            </td>
                            <th width="1%">
                                <span data-i18n="skill-class-competence-short" data-i18n-title="skill-class-competence-question-title"></span>
                            </th>
                            <th>
                                <span data-i18n="skill-competence"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="skill-rank" data-i18n-title="skill-rank-title"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="total" data-i18n-title="skill-total-title"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="skill-class-competence-short" data-i18n-title="skill-class-competence-title"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="modifier-short" data-i18n-title="skill-custom-modifier-title"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="status-short"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="feature"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="skill-feat"></span>
                            </th>
                            <th width="8%">
                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>

                    <fieldset class="repeating_skillcustom">
                        <table>
                            <tbody>
                            <tr>
                                <td width="1%">
                                    <button
                                            type="roll"
                                            value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_skill_custom}@{skill_custom_label}}} {{test=[[1d20+@{skill_custom_total}]]}}"
                                            data-i18n-title="skill-roll-title"
                                            name="roll_skill_custom"
                                    ></button>
                                </td>
                                <td width="1%">
                                    <div class="waxseal">
                                        <input type="checkbox" name="attr_skill_custom_cc" title="" value="( 3 * ( @{skill_custom_ranks} + 1 - abs( @{skill_custom_ranks} - 1 ) ) / 2 )"/>
                                        <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                        <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                    </div>
                                </td>
                                <td>
                                    <div class="input-group">
                                        <input class="text-left" name="attr_skill_custom_label" title="" type="text">
                                    </div>
                                </td>
                                <td width="8%">
                                    <input type="number" name="attr_skill_custom_ranks" title="" min="0" step="1" max="@{foo_class_level_total}" value="0"/>
                                </td>
                                <td width="8%">
                                    <input type="number" name="attr_skill_custom_total" title="" disabled="disabled" class="text-strong" value="@{skill_custom_ranks}+@{skill_custom_cc}+@{skill_custom_mod_attribute}+@{skill_custom_mod_status}+@{foo_status_skill}+@{skill_custom_trait}+@{skill_custom_gift}+@{skill_custom_temporary}"/>
                                </td>
                                <td width="8%">
                                    <input type="number" name="attr_skill_custom_class" title="" value="@{skill_custom_cc}" disabled="disabled" />
                                </td>
                                <td width="8%">
                                    <div class="input-group">
                                        <input type="number" class="disabled" name="attr_skill_custom_mod_attribute" title="" value="0" readonly="readonly" />
                                        <select name="attr_skill_custom_mod_attribute_select" title="" class="fixed-small">
                                            <option data-i18n="attribute-strength-short" value="1"></option>
                                            <option data-i18n="attribute-dexterity-short" value="2"></option>
                                            <option data-i18n="attribute-constitution-short" value="3"></option>
                                            <option data-i18n="attribute-intelligence-short" value="4"></option>
                                            <option data-i18n="attribute-wisdom-short" value="5"></option>
                                            <option data-i18n="attribute-charisma-short" value="6"></option>
                                        </select>
                                    </div>
                                </td>
                                <td width="8%">
                                    <input type="hidden" name="attr_skill_custom_mod_status" title="" value="0" disabled="disabled"/>
                                    <input type="number" name="attr_skill_custom_penalty" title="" value="@{skill_custom_mod_status}+@{foo_status_skill}" disabled="disabled"/>
                                </td>
                                <td width="8%">
                                    <input type="number" name="attr_skill_custom_trait" title="" step="1" value="0"/>
                                </td>
                                <td width="8%">
                                    <input type="number" name="attr_skill_custom_gift" title="" step="1" value="0"/>
                                </td>
                                <td width="8%">
                                    <input type="number" name="attr_skill_custom_temporary" title="" step="1" value="0"/>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </fieldset>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="inventory-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert">
                    <span name="attr_inventory_status_alert"></span>
                </p>
                <div class="flex-row">
                    <div class="flex-col6">
                        <div class="purse section">
                            <table>
                                <thead>
                                <tr>
                                    <th>
                                        <span data-i18n="currency-purse"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <div class="input-group currency">
                                            <input type="number" name="attr_currency_platinum" title="" min="0" step="1" value="0"/>
                                            <div class="input-text">
                                                <span data-i18n="currency-platinum" data-i18n-title="currency-platinum-title" class="currency-coin currency-platinum"></span>
                                            </div>
                                            <input type="number" name="attr_currency_gold" title="" min="0" step="1" value="0"/>
                                            <div class="input-text">
                                                <span data-i18n="currency-gold" data-i18n-title="currency-gold-title" class="currency-coin currency-gold"></span>
                                            </div>
                                            <input type="number" name="attr_currency_silver" title="" min="0" step="1" value="0"/>
                                            <div class="input-group-text">
                                                <span data-i18n="currency-silver" data-i18n-title="currency-silver-title" class="currency-coin currency-silver"></span>
                                            </div>
                                            <input type="number" name="attr_currency_copper" title="" min="0" step="1" value="0"/>
                                            <div class="input-group-text">
                                                <span data-i18n="currency-copper" data-i18n-title="currency-copper-title" class="currency-coin currency-copper"></span>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="flex-col6">
                        <div class="encumbrance section">
                            <table>
                                <thead>
                                <tr>
                                    <th width="33.333333%">
                                        <span data-i18n="encumbrance"></span>
                                    </th>
                                    <th width="33.333333%" colspan="2">
                                        <span data-i18n="encumbrance-penalty-short" data-i18n-title="encumbrance-penalty-title"></span>
                                    </th>
                                    <th width="33.333333%">
                                        <span data-i18n="dexterity-ceiling-short" data-i18n-title="encumbrance-dexterity-ceiling-title"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="text" class="disabled text-strong" name="attr_equipment_encumbrance_total" title="" value="" readonly="readonly"/>
                                    </td>
                                    <td data-i18n-title="encumbrance-penalty-status-title">
                                        <input type="number" name="attr_encumbrance_penalty" title="" value="@{foo_status_encumbrance}" disabled="disabled"/>
                                    </td>
                                    <td data-i18n-title="encumbrance-penalty-proficiency-title">
                                        <input type="number" name="attr_encumbrance_penalty_proficiency" title="" value="@{foo_status_encumbrance_proficiency}" disabled="disabled"/>
                                    </td>
                                    <td>
                                        <input type="text" class="disabled" name="attr_equipment_encumbrance_dexterity_ceiling" title="" value="" readonly="readonly"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4">
                                        <div class="progress" data-i18n-title="encumbrance-charge-title">
                                            <input type="hidden" name="attr_equipment_encumbrance_charge_percent" title="" value="0" />
                                            <div class="progress-bar">
                                                <div class="progress-bar-current"></div>
                                                <input type="text" class="progress-light" name="attr_equipment_encumbrance_charge_light" title="" value="0" readonly="readonly" />
                                                <input type="text" class="progress-medium" name="attr_equipment_encumbrance_charge_medium" title="" value="0" readonly="readonly" />
                                                <input type="text" class="progress-heavy" name="attr_equipment_encumbrance_charge_heavy" title="" value="0" readonly="readonly" />
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <h1 data-i18n="weapon"></h1>
                <div class="weapon section">
                    <table>
                        <thead>
                        <tr>
                            <th width="21.428571%">
                                <span data-i18n="name"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="damage"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="critic-short" data-i18n-title="weapon-critic-title"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="range" data-i18n-title="weapon-range-title"></span>
                            </th>
                            <th width="7.142857%">
                                <span data-i18n="weight"></span>
                            </th>
                            <th width="7.142857%">
                                <span data-i18n="weapon-damage-type-short" data-i18n-title="weapon-damage-type-title"></span>
                            </th>
                            <th width="21.428571%">
                                <span data-i18n="special"></span>
                            </th>
                            <th>
                                <div class="button-fake"></div>
                            </th>
                            <th>
                                <div class="button-fake"></div>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>

                    <fieldset class="repeating_weapon">
                        <table>
                            <tbody>
                            <tr>
                                <td width="21.428571%">
                                    <input type="text" name="attr_equipment_weapon_name" title=""/>
                                </td>
                                <td width="14.285714%">
                                    <div class="input-group">
                                        <input type="number" name="attr_equipment_weapon_dice_count" title="" min="1" step="1" value="1"/>
                                        <div class="input-group-text">
                                            <span data-i18n="dice-short"></span>
                                        </div>
                                        <select class="fixed-small" name="attr_equipment_weapon_dice_type" title="">
                                            <option value="2" selected="selected">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="6">6</option>
                                            <option value="8">8</option>
                                            <option value="10">10</option>
                                            <option value="12">12</option>
                                            <option value="20">20</option>
                                            <option value="100">100</option>
                                        </select>
                                    </div>
                                </td>
                                <td width="14.285714%">
                                    <div class="input-group">
                                        <select name="attr_equipment_weapon_critic" title="">
                                            <option data-i18n="1-20" value="1"></option>
                                            <option data-i18n="2-20" value="2"></option>
                                            <option data-i18n="3-20" value="3"></option>
                                            <option data-i18n="4-20" value="4"></option>
                                            <option data-i18n="5-20" value="5"></option>
                                            <option data-i18n="6-20" value="6"></option>
                                            <option data-i18n="7-20" value="7"></option>
                                            <option data-i18n="8-20" value="8"></option>
                                            <option data-i18n="9-20" value="9"></option>
                                            <option data-i18n="10-20" value="10"></option>
                                            <option data-i18n="11-20" value="11"></option>
                                            <option data-i18n="12-20" value="12"></option>
                                            <option data-i18n="13-20" value="13"></option>
                                            <option data-i18n="14-20" value="14"></option>
                                            <option data-i18n="15-20" value="15"></option>
                                            <option data-i18n="16-20" value="16"></option>
                                            <option data-i18n="17-20" value="17"></option>
                                            <option data-i18n="18-20" value="18"></option>
                                            <option data-i18n="19-20" value="19"></option>
                                            <option value="20" selected="selected">20</option>
                                        </select>
                                        <div class="input-group-text">
                                            <span data-i18n="sign-mutiplication"></span>
                                        </div>
                                        <input type="number" name="attr_equipment_weapon_critic_multiplier" title="" min="0" step="1" value="2"/>
                                    </div>
                                </td>
                                <td width="14.285714%">
                                    <div class="input-group">
                                        <select class="fixed-small" name="attr_equipment_weapon_range" title="" data-i18n-list="weapon-range-list">
                                            <option data-i18n="range-melee" value="1" selected="selected" data-i18n-list-item="melee"></option>
                                            <option data-i18n="range-ranged" value="2" data-i18n-list-item="ranged"></option>
                                        </select>
                                        <input type="text" name="attr_equipment_weapon_range_description" title="" value=""/>
                                    </div>
                                </td>
                                <td width="7.142857%">
                                    <input type="number" name="attr_equipment_weapon_weight" title="" min="0" step="0.01" value="0"/>
                                </td>
                                <td width="7.142857%">
                                    <select name="attr_equipment_weapon_damage_type" title="">
                                        <option data-i18n="weapon-inapplicable" value="1" selected="selected"></option>
                                        <option data-i18n="weapon-blunt" value="2"></option>
                                        <option data-i18n="weapon-piercing" value="3"></option>
                                        <option data-i18n="weapon-sharp" value="4"></option>
                                        <option data-i18n="weapon-blunt-or-piercing" value="5"></option>
                                        <option data-i18n="weapon-blunt-or-sharp" value="6"></option>
                                        <option data-i18n="weapon-piercing-or-sharp" value="7"></option>
                                        <option data-i18n="weapon-blunt-and-piercing" value="8"></option>
                                        <option data-i18n="weapon-blunt-and-sharp" value="9"></option>
                                        <option data-i18n="weapon-piercing-and-sharp" value="10"></option>
                                    </select>
                                </td>
                                <td width="21.428571%">
                                    <input type="text" name="attr_equipment_weapon_special" title=""/>
                                </td>
                                <td>
                                    <button
                                            type="action"
                                            name="act_create-attack"
                                            class="button button-small"
                                            data-i18n-title="equipment-create-attack-with-this-weapon-title"
                                    >
                                        <span class="link"></span>
                                    </button>
                                </td>
                                <td>
                                    <button
                                            type="action"
                                            name="act_weapon-to-racks"
                                            class="button button-small"
                                            data-i18n-title="equipment-inventory-to-deposit-title"
                                    >
                                        <span class="house"></span>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </fieldset>

                    <textarea name="attr_weapon_note" title=""></textarea>
                </div>

                <h1 data-i18n="armor"></h1>
                <div class="armor section">
                    <table>
                        <thead>
                        <tr>
                            <th width="4%">
                                <span data-i18n="equipment-equiped-question-short" data-i18n-title="equipment-equiped-question-title"></span>
                            </th>
                            <th width="19%">
                                <span data-i18n="name"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="armor-type" data-i18n-title="armor-type-title"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="armor-bonus-short" data-i18n-title="armor-bonus-title"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="dexterity-ceiling-short" data-i18n-title="armor-dexterity-max-title"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="penalty" data-i18n-title="armor-penalty-title"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="armor-arcane-spell-failure-title"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="weight"></span>
                            </th>
                            <th width="23%">
                                <span data-i18n="special"></span>
                            </th>
                            <th>
                                <div class="button-fake"></div>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>

                    <fieldset class="repeating_armor">
                        <table>
                            <tbody>
                            <tr>
                                <td width="4%">
                                    <div class="waxseal">
                                        <input type="checkbox" name="attr_equipment_armor_worn" title=""/>
                                        <span data-i18n="yes" class="waxseal-face waxseal-on"></span>
                                        <span data-i18n="no" class="waxseal-face waxseal-off"></span>
                                    </div>
                                </td>
                                <td width="19%">
                                    <input type="text" name="attr_equipment_armor_name" title=""/>
                                </td>
                                <td width="9%">
                                    <select name="attr_equipment_armor_type" title="">
                                        <optgroup label="" data-i18n-label="armor">
                                            <option data-i18n="armor-light" value="1"></option>
                                            <option data-i18n="armor-medium" value="2"></option>
                                            <option data-i18n="armor-heavy" value="3"></option>
                                        </optgroup>
                                        <optgroup label="" data-i18n-label="other">
                                            <option data-i18n="equipment-shield" value="4"></option>
                                            <option data-i18n="equipment-shield-tower" value="5"></option>
                                            <option data-i18n="other" value="6" selected="selected"></option>
                                        </optgroup>
                                    </select>
                                </td>
                                <td width="9%">
                                    <input type="number" name="attr_equipment_armor_armor_bonus" title="" min="0" step="1" value="1"/>
                                </td>
                                <td width="9%">
                                    <input type="number" name="attr_equipment_armor_dexterity_ceiling" title="" min="0" step="1"/>
                                </td>
                                <td width="9%">
                                    <input type="number" name="attr_equipment_armor_armor_penalty" title="" step="1" value="0"/>
                                </td>
                                <td width="9%">
                                    <input type="number" name="attr_equipment_armor_arcane_spell_failure" title="" min="0" max="100" step="1" value="0"/>
                                </td>
                                <td width="9%">
                                    <input type="number" name="attr_equipment_armor_weight" title="" min="0" step="0.01" value="0"/>
                                </td>
                                <td width="23%">
                                    <input type="text" name="attr_equipment_armor_special" title=""/>
                                </td>
                                <td>
                                    <button
                                            type="action"
                                            name="act_armor-to-racks"
                                            class="button button-small"
                                            data-i18n-title="equipment-inventory-to-deposit-title"
                                    >
                                        <span class="house"></span>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                            <tbody>
                            </tbody>
                        </table>
                    </fieldset>

                    <textarea name="attr_armor_note" title=""></textarea>
                </div>

                <div class="flex-row">
                    <div class="flex-col6">
                        <h1 data-i18n="equipment"></h1>
                        <div class="equipment section">
                            <table>
                                <thead>
                                <tr>
                                    <th width="76%">
                                        <span data-i18n="description"></span>
                                    </th>
                                    <th width="12%">
                                        <span data-i18n="quantity-short" data-i18n-title="quantity-title"></span>
                                    </th>
                                    <th width="12%">
                                        <span data-i18n="weight" data-i18n-title="weight-unit-title"></span>
                                    </th>
                                    <th>
                                        <div class="sheet-button-fake"></div>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>

                            <fieldset class="repeating_equipment">
                                <table>
                                    <tbody>
                                    <tr>
                                        <td width="76%">
                                            <input type="text" name="attr_equipment_label" title=""/>
                                        </td>
                                        <td width="12%">
                                            <input type="number" name="attr_equipment_quantity" title="" min="1" step="1" value="1"/>
                                        </td>
                                        <td width="12%">
                                            <input type="number" name="attr_equipment_weight" title="" min="0" step="0.01" value="0"/>
                                        </td>
                                        <td>
                                            <button
                                                    type="action"
                                                    name="act_inventory-to-deposit"
                                                    class="button button-small"
                                                    data-i18n-title="equipment-inventory-to-deposit-title"
                                            >
                                                <span class="house"></span>
                                            </button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </fieldset>
                        </div>
                    </div>

                    <div class="flex-col6">
                        <h1 data-i18n="equipment-magic"></h1>
                        <div class="equipment-magic section">
                            <table>
                                <thead>
                                <tr>
                                    <th width="90%" colspan="2">
                                        <span data-i18n="description"></span>
                                    </th>
                                    <th width="10%">
                                        <span data-i18n="weight"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td width="20%" rowspan="2">
                                        <span data-i18n="equipment-magic-head"></span>
                                    </td>
                                    <td>
                                        <input type="text" class="text-left text-bold" name="attr_equipment_magic_head_label" title="" data-i18n-placeholder="name"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_equipment_magic_head_weight" title="" min="0" step="0.01" value="0"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input type="text" class="text-left" name="attr_equipment_magic_head_description" title="" data-i18n-placeholder="equipment-effects"/>
                                    </td>
                                </tr>
                                </tbody>
                                <tbody>
                                <tr>
                                    <td rowspan="2">
                                        <span data-i18n="equipment-magic-neck"></span>
                                    </td>
                                    <td>
                                        <input type="text" class="text-left text-bold" name="attr_equipment_magic_neck_label" title="" data-i18n-placeholder="name"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_equipment_magic_neck_weight" title="" min="0" step="0.01" value="0"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input type="text" class="text-left" name="attr_equipment_magic_neck_description" title="" data-i18n-placeholder="equipment-effects"/>
                                    </td>
                                </tr>
                                </tbody>
                                <tbody>
                                <tr>
                                    <td rowspan="2">
                                        <span data-i18n="equipment-magic-body"></span>
                                    </td>
                                    <td>
                                        <input type="text" class="text-left text-bold" name="attr_equipment_magic_body_label" title="" data-i18n-placeholder="name"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_equipment_magic_body_weight" title="" min="0" step="0.01" value="0"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input type="text" class="text-left" name="attr_equipment_magic_body_description" title="" data-i18n-placeholder="equipment-effects"/>
                                    </td>
                                </tr>
                                </tbody>
                                <tbody>
                                <tr>
                                    <td rowspan="2">
                                        <span data-i18n="equipment-magic-belt"></span>
                                    </td>
                                    <td>
                                        <input type="text" class="text-left text-bold" name="attr_equipment_magic_belt_label" title="" data-i18n-placeholder="name"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_equipment_magic_belt_weight" title="" min="0" step="0.01" value="0"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input type="text" class="text-left" name="attr_equipment_magic_belt_description" title="" data-i18n-placeholder="equipment-effects"/>
                                    </td>
                                </tr>
                                </tbody>
                                <tbody>
                                <tr>
                                    <td rowspan="2">
                                        <span data-i18n="equipment-magic-wrists"></span>
                                    </td>
                                    <td>
                                        <input type="text" class="text-left text-bold" name="attr_equipment_magic_wrist_label" title="" data-i18n-placeholder="name"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_equipment_magic_wrist_weight" title="" min="0" step="0.01" value="0"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input type="text" class="text-left" name="attr_equipment_magic_wrist_description" title="" data-i18n-placeholder="equipment-effects"/>
                                    </td>
                                </tr>
                                </tbody>
                                <tbody>
                                <tr>
                                    <td rowspan="2">
                                        <span data-i18n="equipment-magic-hands"></span>
                                    </td>
                                    <td>
                                        <input type="text" class="text-left text-bold" name="attr_equipment_magic_hand_label" title="" data-i18n-placeholder="name"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_equipment_magic_hand_weight" title="" min="0" step="0.01" value="0"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input type="text" class="text-left" name="attr_equipment_magic_hand_description" title="" data-i18n-placeholder="equipment-effects"/>
                                    </td>
                                </tr>
                                </tbody>
                                <tbody>
                                <tr>
                                    <td rowspan="2">
                                        <span data-i18n="equipment-magic-finger-1"></span>
                                    </td>
                                    <td>
                                        <input type="text" class="text-left text-bold" name="attr_equipment_magic_finger1_label" title="" data-i18n-placeholder="name"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_equipment_magic_finger1_weight" title="" min="0" step="0.01" value="0"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input type="text" class="text-left" name="attr_equipment_magic_finger1_description" title="" data-i18n-placeholder="equipment-effects"/>
                                    </td>
                                </tr>
                                </tbody>
                                <tbody>
                                <tr>
                                    <td rowspan="2">
                                        <span data-i18n="equipment-magic-finger-2"></span>
                                    </td>
                                    <td>
                                        <input type="text" class="text-left text-bold" name="attr_equipment_magic_finger2_label" title="" data-i18n-placeholder="name"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_equipment_magic_finger2_weight" title="" min="0" step="0.01" value="0"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input type="text" class="text-left" name="attr_equipment_magic_finger2_description" title="" data-i18n-placeholder="equipment-effects"/>
                                    </td>
                                </tr>
                                </tbody>
                                <tbody>
                                <tr>
                                    <td rowspan="2">
                                        <span data-i18n="equipment-magic-foots"></span>
                                    </td>
                                    <td>
                                        <input type="text" class="text-left text-bold" name="attr_equipment_magic_foot_label" title="" data-i18n-placeholder="name"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_equipment_magic_foot_weight" title="" min="0" step="0.01" value="0"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input type="text" class="text-left" name="attr_equipment_magic_foot_description" title="" data-i18n-placeholder="equipment-effects"/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="feat-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert"></p>

                <div class="flex-row">
                    <div class="flex-col6">
                        <h1 data-i18n="feat-racial"></h1>
                        <div class="feat-racial section">
                            <fieldset class="repeating_featracial">
                                <div class="feat-racial-content">
                                    <input class="feat-racial-label text-left text-bold" type="text" data-i18n-placeholder="feat-racial-label-placeholder" name="attr_featracial_label" title="">
                                    <textarea class="feat-racial-description" name="attr_featracial_description" title="" data-i18n-placeholder="feat-racial-description-placeholder"></textarea>
                                </div>
                            </fieldset>
                        </div>
                    </div>

                    <div class="flex-col6">
                        <h1 data-i18n="feat"></h1>
                        <div class="feat section">
                            <fieldset class="repeating_feat">
                                <div class="feat-content">
                                    <input type="text" class="text-left text-bold" name="attr_feat_name" title="" data-i18n-placeholder="feat-placeholder">
                                    <input class="feat-description-short text-left" type="text" name="attr_feat_description_short" title="" data-i18n-placeholder="feat-description-short-placeholder">
                                    <textarea class="feat-description" name="attr_feat_description" title="" data-i18n-placeholder="feat-description-placeholder"></textarea>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="stock-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert"></p>

                <h1 data-i18n="weapon-racks"></h1>
                <div class="weapon-rack section">
                    <table>
                        <thead>
                        <tr>
                            <th width="21.428571%">
                                <span data-i18n="name"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="damage"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="critic-short" data-i18n-title="weapon-critic-title"></span>
                            </th>
                            <th width="14.285714%">
                                <span data-i18n="range" data-i18n-title="weapon-range-title"></span>
                            </th>
                            <th width="7.142857%">
                                <span data-i18n="weight"></span>
                            </th>
                            <th width="7.142857%">
                                <span data-i18n="weapon-damage-type-short" data-i18n-title="weapon-damage-type-title"></span>
                            </th>
                            <th width="21.428571%">
                                <span data-i18n="special"></span>
                            </th>
                            <th>
                                <div class="button-fake"></div>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>

                    <fieldset class="repeating_weaponrack">
                        <table>
                            <tbody>
                            <tr>
                                <td width="21.428571%">
                                    <input type="text" name="attr_weapon_rack_name" title=""/>
                                </td>
                                <td width="14.285714%">
                                    <div class="input-group">
                                        <input type="number" name="attr_weapon_rack_dice_count" title="" min="1" step="1" value="1"/>
                                        <div class="input-group-text">
                                            <span data-i18n="dice-short"></span>
                                        </div>
                                        <select class="fixed-small" name="attr_weapon_rack_dice_type" title="">
                                            <option value="2" selected="selected">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="6">6</option>
                                            <option value="8">8</option>
                                            <option value="10">10</option>
                                            <option value="12">12</option>
                                            <option value="20">20</option>
                                            <option value="100">100</option>
                                        </select>
                                    </div>
                                </td>
                                <td width="14.285714%">
                                    <div class="input-group">
                                        <select name="attr_weapon_rack_critic" title="">
                                            <option data-i18n="1-20" value="1"></option>
                                            <option data-i18n="2-20" value="2"></option>
                                            <option data-i18n="3-20" value="3"></option>
                                            <option data-i18n="4-20" value="4"></option>
                                            <option data-i18n="5-20" value="5"></option>
                                            <option data-i18n="6-20" value="6"></option>
                                            <option data-i18n="7-20" value="7"></option>
                                            <option data-i18n="8-20" value="8"></option>
                                            <option data-i18n="9-20" value="9"></option>
                                            <option data-i18n="10-20" value="10"></option>
                                            <option data-i18n="11-20" value="11"></option>
                                            <option data-i18n="12-20" value="12"></option>
                                            <option data-i18n="13-20" value="13"></option>
                                            <option data-i18n="14-20" value="14"></option>
                                            <option data-i18n="15-20" value="15"></option>
                                            <option data-i18n="16-20" value="16"></option>
                                            <option data-i18n="17-20" value="17"></option>
                                            <option data-i18n="18-20" value="18"></option>
                                            <option data-i18n="19-20" value="19"></option>
                                            <option value="20" selected="selected">20</option>
                                        </select>
                                        <div class="input-group-text">
                                            <span data-i18n="sign-mutiplication"></span>
                                        </div>
                                        <input type="number" name="attr_weapon_rack_critic_multiplier" title="" min="0" step="1" value="2"/>
                                    </div>
                                </td>
                                <td width="14.285714%">
                                    <div class="input-group">
                                        <select class="fixed-small" name="attr_weapon_rack_range" title="" data-i18n-list="weapon-range-list">
                                            <option data-i18n="range-melee" value="1" selected="selected" data-i18n-list-item="melee"></option>
                                            <option data-i18n="range-ranged" value="2" data-i18n-list-item="ranged"></option>
                                        </select>
                                        <input type="text" name="attr_weapon_rack_range_description" title="" value=""/>
                                    </div>
                                </td>
                                <td width="7.142857%">
                                    <input type="number" name="attr_weapon_rack_weight" title="" min="0" step="0.01" value="0"/>
                                </td>
                                <td width="7.142857%">
                                    <select name="attr_weapon_rack_damage_type" title="">
                                        <option data-i18n="weapon-inapplicable" value="1" selected="selected"></option>
                                        <option data-i18n="weapon-blunt" value="2"></option>
                                        <option data-i18n="weapon-piercing" value="3"></option>
                                        <option data-i18n="weapon-sharp" value="4"></option>
                                        <option data-i18n="weapon-blunt-or-piercing" value="5"></option>
                                        <option data-i18n="weapon-blunt-or-sharp" value="6"></option>
                                        <option data-i18n="weapon-piercing-or-sharp" value="7"></option>
                                        <option data-i18n="weapon-blunt-and-piercing" value="8"></option>
                                        <option data-i18n="weapon-blunt-and-sharp" value="9"></option>
                                        <option data-i18n="weapon-piercing-and-sharp" value="10"></option>
                                    </select>
                                </td>
                                <td width="21.428571%">
                                    <input type="text" name="attr_weapon_rack_special" title=""/>
                                </td>
                                <td>
                                    <button
                                            type="action"
                                            name="act_racks-to-weapon"
                                            class="button button-small"
                                            data-i18n-title="deposit-deposit-to-inventory-title"
                                    >
                                        <span class="link"></span>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </fieldset>
                </div>

                <h1 data-i18n="armor-racks"></h1>
                <div class="armor-rack section">
                    <table>
                        <thead>
                        <tr>
                            <th width="19%">
                                <span data-i18n="name"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="armor-type" data-i18n-title="armor-type-title"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="armor-bonus-short" data-i18n-title="armor-bonus-title"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="dexterity-ceiling-short" data-i18n-title="armor-dexterity-max-title"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="penalty" data-i18n-title="armor-penalty-title"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="spell-arcane-spell-failure-short" data-i18n-title="armor-arcane-spell-failure-title"></span>
                            </th>
                            <th width="9%">
                                <span data-i18n="weight"></span>
                            </th>
                            <th width="23%">
                                <span data-i18n="special"></span>
                            </th>
                            <th>
                                <div class="button-fake"></div>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>

                    <fieldset class="repeating_armorrack">
                        <table>
                            <tbody>
                            <tr>
                                <td width="19%">
                                    <input type="text" name="attr_armor_rack_name" title=""/>
                                </td>
                                <td width="9%">
                                    <select name="attr_armor_rack_type" title="">
                                        <optgroup label="" data-i18n-label="armor">
                                            <option data-i18n="armor-light" value="1"></option>
                                            <option data-i18n="armor-medium" value="2"></option>
                                            <option data-i18n="armor-heavy" value="3"></option>
                                        </optgroup>
                                        <optgroup label="" data-i18n-label="other">
                                            <option data-i18n="equipment-shield" value="4"></option>
                                            <option data-i18n="equipment-shield-tower" value="5"></option>
                                            <option data-i18n="other" value="6" selected="selected"></option>
                                        </optgroup>
                                    </select>
                                </td>
                                <td width="9%">
                                    <input type="number" name="attr_armor_rack_armor_bonus" title="" min="0" step="1" value="1"/>
                                </td>
                                <td width="9%">
                                    <input type="number" name="attr_armor_rack_dexterity_ceiling" title="" min="0" step="1"/>
                                </td>
                                <td width="9%">
                                    <input type="number" name="attr_armor_rack_armor_penalty" title="" step="1" value="0"/>
                                </td>
                                <td width="9%">
                                    <input type="number" name="attr_armor_rack_arcane_spell_failure" title="" min="0" max="100" step="1" value="0"/>
                                </td>
                                <td width="9%">
                                    <input type="number" name="attr_armor_rack_weight" title="" min="0" step="0.01" value="0"/>
                                </td>
                                <td width="23%">
                                    <input type="text" name="attr_armor_rack_special" title=""/>
                                </td>
                                <td>
                                    <button
                                            type="action"
                                            name="act_racks-to-armor"
                                            class="button button-small"
                                            data-i18n-title="deposit-deposit-to-inventory-title"
                                    >
                                        <span class="link"></span>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                            <tbody>
                            </tbody>
                        </table>
                    </fieldset>
                </div>

                <h1 data-i18n="deposit"></h1>
                <div class="flex-row">
                    <div class="flex-col6">
                        <div class="deposit section">
                            <table>
                                <thead>
                                <tr>
                                    <th width="76%">
                                        <span data-i18n="description"></span>
                                    </th>
                                    <th width="12%">
                                        <span data-i18n="quantity-short" data-i18n-title="quantity-title"></span>
                                    </th>
                                    <th width="12%">
                                        <span data-i18n="weight" data-i18n-title="weight-unit-title"></span>
                                    </th>
                                    <th>
                                        <div class="button-fake"></div>
                                    </th>

                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>

                            <fieldset class="repeating_deposit">
                                <table>
                                    <tbody>
                                    <tr>
                                        <td width="76%">
                                            <input type="text" name="attr_deposit_label" title=""/>
                                        </td>
                                        <td width="12%">
                                            <input type="number" name="attr_deposit_quantity" title="" min="1" step="1" value="1"/>
                                        </td>
                                        <td width="12%">
                                            <input type="number" name="attr_deposit_weight" title="" min="0" step="0.01" value="0"/>
                                        </td>
                                        <td>
                                            <button
                                                    type="action"
                                                    name="act_deposit-to-inventory"
                                                    class="button button-small"
                                                    data-i18n-title="deposit-deposit-to-inventory-title"
                                            >
                                                <span class="link"></span>
                                            </button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </fieldset>
                        </div>
                    </div>

                    <div class="flex-col6">
                        <div class="bank section">
                            <table>
                                <thead>
                                <tr>
                                    <th>
                                        <span data-i18n="currency-bank"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <div class="input-group currency">
                                            <input type="number" name="attr_currency_platinum_bank" title="" min="0" step="1" value="0"/>
                                            <div class="input-text">
                                                <span data-i18n="currency-platinum" data-i18n-title="currency-platinum-title" class="currency-coin currency-platinum"></span>
                                            </div>
                                            <input type="number" name="attr_currency_gold_bank" title="" min="0" step="1" value="0"/>
                                            <div class="input-text">
                                                <span data-i18n="currency-gold" data-i18n-title="currency-gold-title" class="currency-coin currency-gold"></span>
                                            </div>
                                            <input type="number" name="attr_currency_silver_bank" title="" min="0" step="1" value="0"/>
                                            <div class="input-group-text">
                                                <span data-i18n="currency-silver" data-i18n-title="currency-silver-title" class="currency-coin currency-silver"></span>
                                            </div>
                                            <input type="number" name="attr_currency_copper_bank" title="" min="0" step="1" value="0"/>
                                            <div class="input-group-text">
                                                <span data-i18n="currency-copper" data-i18n-title="currency-copper-title" class="currency-coin currency-copper"></span>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="template-non-playable-character main tab">
        <span class="main-menu"></span>

        <input class="tab-input" type="radio" name="attr_nav_npc" title="" value="character" checked="checked">
        <input class="tab-input" type="radio" name="attr_nav_npc" title="" value="battle">
        <input class="tab-input" type="radio" name="attr_nav_npc" title="" value="defense">
        <input class="tab-input" type="radio" name="attr_nav_npc" title="" value="skill">
        <input class="tab-input" type="radio" name="attr_nav_npc" title="" value="note">

        <span class="main-slider"></span>

        <label class="tab-label">
            <span data-i18n="character-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <span class="sheet-status-alert"></span>

                <div class="section template-health-standard">
                    <div class="flex-row">
                        <div class="flex-col7">
                            <h1 data-i18n="health-hit-points"></h1>
                            <table class="health-hit-points">
                                <thead>
                                <tr>
                                    <th width="20%">
                                        <span data-i18n="base"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                                    </th>
                                    <th width="20%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                    <td></td>
                                    <th width="20%">
                                        <span data-i18n="max-short" data-i18n-title="health-hit-points-max-title"></span>
                                    </th>
                                    <td></td>
                                    <th width="20%">
                                        <span data-i18n="status-short"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" name="attr_health_hit_points_base" title="" min="0" step="1" value="1" />
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_hit_points_miscellaneous" title="" min="0" step="1" value="0"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_hit_points_temporary" title="" min="0" step="1" value="0" />
                                    </td>
                                    <td>
                                        <span data-i18n="sign-separator"></span>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_hit_points_ceiling" title="" min="0" step="1" value="1" />
                                    </td>
                                    <td></td>
                                    <td>
                                        <input type="number" name="attr_character_hit_points_status" title="" value="@{foo_status_hit_points}" disabled="disabled"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="7">
                                        <textarea name="attr_npc_hit_points_description" class="small" title=""></textarea>
                                    </td>
                                </tr>
                                </tbody>
                            </table>

                        </div>
                        <div class="flex-col5">
                            <h1 data-i18n="health-nonlethal-damage"></h1>
                            <table class="health-nonlethal-damage">
                                <thead>
                                <tr>
                                    <th width="33.333333%">
                                        <span data-i18n="base"></span>
                                    </th>
                                    <th width="33.333333%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                    <td></td>
                                    <th width="33.333333%">
                                        <span data-i18n="max-short" data-i18n-title="health-nonlethal-damage-max-title"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" name="attr_health_nonlethal_damage_base" title="" min="0" step="1" value="0" />
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_nonlethal_damage_temporary" title="" min="0" step="1" value="0" />
                                    </td>
                                    <td>
                                        <span data-i18n="sign-separator"></span>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_character_nonlethal_damage_ceiling" title="" min="0" step="1" value="@{health_hit_points_base}+@{health_hit_points_miscellaneous}+@{health_hit_points_temporary}+@{foo_status_hit_points}" disabled="disabled"/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="section template-health-alternative">
                    <div class="flex-row">
                        <div class="flex-col7">
                            <h1 data-i18n="health-wound-points"></h1>
                            <table class="health-wound-points">
                                <thead>
                                <tr>
                                    <th width="33.333333%">
                                        <span data-i18n="base"></span>
                                    </th>
                                    <th width="33.333333%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                    <td></td>
                                    <th width="33.333333%">
                                        <span data-i18n="max-short" data-i18n-title="health-wound-points-max-title"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" name="attr_health_wound_points_base" title="" min="0" step="1" value="1" />
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_wound_points_temporary" title="" min="0" step="1" value="0" />
                                    </td>
                                    <td>
                                        <span data-i18n="sign-separator"></span>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_wound_points_ceiling" title="" min="0" step="1" value="1" />
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="flex-col5">
                            <h1 data-i18n="health-vigor"></h1>
                            <table class="health-vigor">
                                <thead>
                                <tr>
                                    <th width="33.333333%">
                                        <span data-i18n="base"></span>
                                    </th>
                                    <th width="33.333333%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                    <td></td>
                                    <th width="33.333333%">
                                        <span data-i18n="max-short" data-i18n-title="health-vigor-max-title"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" name="attr_health_vigor_base" title="" min="0" step="1" value="1" />
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_vigor_temporary" title="" min="0" step="1" value="1" />
                                    </td>
                                    <td>
                                        <span data-i18n="sign-separator"></span>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_health_vigor_ceiling" title="" min="0" step="1" value="0"/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <h1 data-i18n="attribute"></h1>
                <table class="npc-character-attribute section">
                    <thead>
                    <tr>
                        <td width="1%">
                            <div class="fake-button-roll"></div>
                        </td>
                        <th width="12.5%">
                            <span data-i18n="attribute-short" data-i18n-title="attribute-title"></span>
                        </th>
                        <th width="12.5%">
                            <span data-i18n="total" data-i18n-title="npc-attribute-total-title"></span>
                        </th>
                        <th width="12.5%">
                            <span data-i18n="modifier-short" data-i18n-title="attribute-modifier-title"></span>
                        </th>
                        <th width="12.5%">
                            <span data-i18n="status-short"></span>
                        </th>
                        <th width="12.5%">
                            <span data-i18n="base"></span>
                        </th>
                        <th width="12.5%">
                            <span data-i18n="bonus"></span>
                        </th>
                        <th width="12.5%">
                            <span data-i18n="penalty"></span>
                        </th>
                        <th width="12.5%">
                            <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                        </th>
                    </tr>
                    </thead>
                    <tr>
                        <td>
                            <button
                                    name="roll_npc_attribute_strength"
                                    type="roll"
                                    data-i18n-title="attribute-strength-roll-title"
                                    value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_strength}}} {{test=[[1d20+@{foo_npc_character_strength_mod}]]}}"
                            ></button>
                        </td>
                        <td class="text-center">
                            <span data-i18n="attribute-strength"></span>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_strength_total" title="" class="text-strong" value="@{foo_npc_character_strength_total}" disabled="disabled" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_strength_mod" title="" class="text-strong" value="@{foo_npc_character_strength_mod}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_strength_modifier_status" title="" value="@{foo_status_strength}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_strength_base" title="" min="0" step="1" value="10"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_strength_bonus" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_strength_penalty" title="" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_strength_temporary" title="" step="1" value="0"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button
                                    name="roll_npc_attribute_dexterity"
                                    type="roll"
                                    data-i18n-title="attribute-dexterity-roll-title"
                                    value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_dexterity}}} {{test=[[1d20+@{foo_npc_character_dexterity_mod}]]}}"
                            ></button>
                        </td>
                        <td class="text-center">
                            <span data-i18n="attribute-dexterity"></span>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_dexterity_total" title="" class="text-strong" value="@{foo_npc_character_dexterity_total}" disabled="disabled" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_dexterity_mod" title="" class="text-strong" value="@{foo_npc_character_dexterity_mod}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_dexterity_modifier_status" title="" value="@{foo_status_dexterity}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_dexterity_base" title="" min="0" step="1" value="10"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_dexterity_bonus" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_dexterity_penalty" title="" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_dexterity_temporary" title="" step="1" value="0"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button
                                    name="roll_npc_attribute_constitution"
                                    type="roll"
                                    data-i18n-title="attribute-constitution-roll-title"
                                    value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_constitution}}} {{test=[[1d20+@{npc_character_constitution_total}]]}}"
                            ></button>
                        </td>
                        <td class="text-center">
                            <span data-i18n="attribute-constitution"></span>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_constitution_total" title="" class="text-strong" value="@{npc_character_constitution_status}+@{npc_character_constitution_base}+@{npc_character_constitution_bonus}+@{npc_character_constitution_penalty}+@{npc_character_constitution_temporary}" disabled="disabled" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_constitution_mod" title="" class="text-strong" value="floor((@{npc_character_constitution_status}+@{npc_character_constitution_base}+@{npc_character_constitution_bonus}+@{npc_character_constitution_penalty}+@{npc_character_constitution_temporary})/2-5)" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_constitution_status" title="" value="@{foo_status_constitution}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_constitution_base" title="" min="0" step="1" value="10"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_constitution_bonus" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_constitution_penalty" title="" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_constitution_temporary" title="" step="1" value="0"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button
                                    name="roll_npc_attribute_intelligence"
                                    type="roll"
                                    data-i18n-title="attribute-intelligence-roll-title"
                                    value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_intelligence}}} {{test=[[1d20+@{npc_character_intelligence_total]]}}"
                            ></button>
                        </td>
                        <td class="text-center">
                            <span data-i18n="attribute-intelligence"></span>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_intelligence_total" title="" class="text-strong" value="@{npc_character_intelligence_status}+@{npc_character_intelligence_base}+@{npc_character_intelligence_bonus}+@{npc_character_intelligence_penalty}+@{npc_character_intelligence_temporary}" disabled="disabled" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_intelligence_mod" title="" class="text-strong" value="floor((@{npc_character_intelligence_status}+@{npc_character_intelligence_base}+@{npc_character_intelligence_bonus}+@{npc_character_intelligence_penalty}+@{npc_character_intelligence_temporary})/2-5)" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_intelligence_status" title="" value="@{foo_status_intelligence}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_intelligence_base" title="" min="0" step="1" value="10"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_intelligence_bonus" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_intelligence_penalty" title="" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_intelligence_temporary" title="" step="1" value="0"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button
                                    name="roll_npc_attribute_wisdom"
                                    type="roll"
                                    data-i18n-title="attribute-wisdom-roll-title"
                                    value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_wisdom}}} {{test=[[1d20+@{npc_character_wisdom_total}]]}}"
                            ></button>
                        </td>
                        <td class="text-center">
                            <span data-i18n="attribute-wisdom"></span>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_wisdom_total" title="" class="text-strong" value="@{npc_character_wisdom_status}+@{npc_character_wisdom_base}+@{npc_character_wisdom_bonus}+@{npc_character_wisdom_penalty}+@{npc_character_wisdom_temporary}" disabled="disabled" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_wisdom_mod" title="" class="text-strong" value="floor((@{npc_character_wisdom_status}+@{npc_character_wisdom_base}+@{npc_character_wisdom_bonus}+@{npc_character_wisdom_penalty}+@{npc_character_wisdom_temporary})/2-5)" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_wisdom_status" title="" value="@{foo_status_wisdom}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_wisdom_base" title="" min="0" step="1" value="10" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_wisdom_bonus" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_wisdom_penalty" title="" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_wisdom_temporary" title="" step="1" value="0"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button
                                    name="roll_npc_attribute_charisma"
                                    type="roll"
                                    data-i18n-title="attribute-charisma-roll-title"
                                    value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_charisma}}} {{test=[[1d20+@{npc_character_charisma_total}]]}}"
                            ></button>
                        </td>
                        <td class="text-center">
                            <span data-i18n="attribute-charisma"></span>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_charisma_total" title="" class="text-strong" value="@{npc_character_charisma_status}+@{npc_character_charisma_base}+@{npc_character_charisma_bonus}+@{npc_character_charisma_penalty}+@{npc_character_charisma_temporary}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_charisma_mod" title="" class="text-strong" value="floor((@{npc_character_charisma_status}+@{npc_character_charisma_base}+@{npc_character_charisma_bonus}+@{npc_character_charisma_penalty}+@{npc_character_charisma_temporary})/2-5)" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_charisma_status" title="" value="@{foo_status_charisma}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_charisma_base" title="" min="0" step="1" value="10"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_charisma_bonus" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_charisma_penalty" title="" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_character_charisma_temporary" title="" step="1" value="0"/>
                        </td>
                    </tr>
                </table>

                <h1 data-i18n="character-appearance"></h1>
                <div class="npc-character-appearance section">
                    <table>
                        <thead>
                        <tr>
                            <th width="120px">
                                <span data-i18n="character-height"></span>
                            </th>
                            <td width="1%"></td>
                            <th width="120px">
                                <span data-i18n="character-alignment"></span>
                            </th>
                            <td width="1%"></td>
                            <th>
                                <span data-i18n="npc-character-type"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <select name="attr_npc_character_creature_size" title="">
                                    <option data-i18n="character-creature-size-fine" value="8"></option>
                                    <option data-i18n="character-creature-size-diminutive" value="4"></option>
                                    <option data-i18n="character-creature-size-tiny" value="2"></option>
                                    <option data-i18n="character-creature-size-small" value="1"></option>
                                    <option data-i18n="character-creature-size-medium" value="0" selected="selected"></option>
                                    <option data-i18n="character-creature-size-large" value="-1"></option>
                                    <option data-i18n="character-creature-size-huge" value="-2"></option>
                                    <option data-i18n="character-creature-size-gargantuan" value="-4"></option>
                                    <option data-i18n="character-creature-size-colossal" value="-8"></option>
                                </select>
                            </td>
                            <td></td>
                            <td>
                                <select name="attr_npc_alignment" title="">
                                    <optgroup label="" data-i18n-label="character-alignment-lawful">
                                        <option data-i18n="character-alignment-lawful-good" value="1"></option>
                                        <option data-i18n="character-alignment-lawful-neutral" value="2"></option>
                                        <option data-i18n="character-alignment-lawful-evil" value="3"></option>
                                    </optgroup>
                                    <optgroup label="" data-i18n-label="character-alignment-neutral">
                                        <option data-i18n="character-alignment-neutral-good" value="4"></option>
                                        <option data-i18n="character-alignment-neutral" value="5" selected="selected"></option>
                                        <option data-i18n="character-alignment-neutral-evil" value="6"></option>
                                    </optgroup>
                                    <optgroup label="" data-i18n-label="character-alignment-chaotic">
                                        <option data-i18n="character-alignment-chaotic-good" value="7"></option>
                                        <option data-i18n="character-alignment-chaotic-neutral" value="8"></option>
                                        <option data-i18n="character-alignment-chaotic-evil" value="9"></option>
                                    </optgroup>
                                </select>
                            </td>
                            <td></td>
                            <td>
                                <input type="text" name="attr_npc_creature_type" title="" />
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <table>
                        <tbody>
                        <tr>
                            <td width="20%">
                                <span data-i18n="npc-character-aura"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_character_aura" title="" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="language"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_languages" title="" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="npc-character-sense"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_character_sense" title="" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="npc-character-class"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_npc_class" title="" />
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <h1 data-i18n="speed"></h1>
                <table>
                    <thead>
                    <tr>
                        <th width="120px">
                            <span data-i18n="npc-space"></span>
                        </th>
                        <td width="1%"></td>
                        <th width="120px">
                            <span data-i18n="npc-reach"></span>
                        </th>
                        <td width="1%"></td>
                        <th>
                            <span data-i18n="speed"></span>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>
                            <input type="text" name="attr_npc_character_space" title="" />
                        </td>
                        <td></td>
                        <td>
                            <input type="number" name="attr_npc_character_reach" title="" />
                        </td>
                        <td></td>
                        <td>
                            <input type="text" name="attr_npc_character_speed" title="" />
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="battle-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert">
                    <span name="attr_attack_status_alert"></span> <span name="attr_spell_status_alert"></span>
                </p>

                <h1 data-i18n="battle-combat-round"></h1>
                <div class="section">
                    <table class="npc-initiative">
                        <thead>
                        <tr>
                            <td width="1%">
                                <div class="fake-button-roll"></div>
                            </td>
                            <th width="25%">
                                <span data-i18n="initiative" data-i18n-title="npc-initiative-title"></span>
                            </th>
                            <th width="25%">
                                <span data-i18n="status-short"></span>
                            </th>
                            <th width="25%">
                                <span data-i18n="base"></span>
                            </th>
                            <th width="25%">
                                <span data-i18n="miscellaneous-short" data-i18n-title="miscellaneous-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <button
                                        name="roll_npc_initiative"
                                        type="roll"
                                        data-i18n-title="initiative-roll-title"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_initiative}}} {{test=[[1d20+@{npc_initiative_total} &{tracker}]]}}"
                                ></button>
                            </td>
                            <td>
                                <input type="number" name="attr_npc_initiative_total" title="" class="text-strong" value="@{foo_status_initiative}+@{npc_initiative}+@{npc_initiative_miscellaneous}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_npc_initiative_status" title="" value="@{foo_status_initiative}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_npc_initiative" title="" step="1" value="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_npc_initiative_miscellaneous" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="4">
                                <textarea name="attr_npc_initiative_note" class="small" title=""></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td colspan="4">
                                <small>
                                    <span class="alert"></span><span data-i18n="initiative-select-token-first"></span>
                                </small>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <h1 data-i18n="combat-maneuver"></h1>
                <div class="section">
                    <div class="flex-row">
                        <div class="flex-col6">
                            <table class="npc-combat-maneuver-bonus">
                                <thead>
                                <tr>
                                    <td width="1%">
                                        <div class="fake-button-roll"></div>
                                    </td>
                                    <th width="25%">
                                        <span data-i18n="combat-maneuver-bonus-short" data-i18n-title="npc-combat-maneuver-bonus-title"></span>
                                    </th>
                                    <th width="25%">
                                        <span data-i18n="status-short"></span>
                                    </th>
                                    <th width="25%">
                                        <span data-i18n="base"></span>
                                    </th>
                                    <th width="25%">
                                        <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <button
                                                name="roll_npc_combat_maneuver_bonus"
                                                type="roll"
                                                data-i18n-title="combat-maneuver-bonus-roll-title"
                                                value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_combat_maneuver_bonus}}} {{test=[[1d20+@{npc_combat_maneuver_bonus_total}]]}}"
                                        ></button>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_npc_combat_maneuver_bonus_total" title="" class="text-strong" value="@{foo_status_combat_maneuver_bonus}+@{npc_combat_maneuver_bonus_base}+@{npc_combat_maneuver_bonus_temporary}" disabled="disabled"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_npc_combat_maneuver_bonus_mod_status" title="" value="@{foo_status_combat_maneuver_bonus}" disabled="disabled"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_npc_combat_maneuver_bonus_base" title="" min="0" step="1" value="0"/>
                                    </td>
                                    <td>
                                        <input type="number" name="attr_npc_combat_maneuver_bonus_temporary" title="" step="1" value="0"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td colspan="4">
                                        <textarea name="attr_npc_combat_maneuver_bonus_note" class="small" title=""></textarea>
                                    </td>
                                </tr>

                                </tbody>
                            </table>
                        </div>

                        <div class="flex-col6">
                            <table class="npc-base-attack-bonus">
                                <thead>
                                <tr>
                                    <th>
                                        <span data-i18n="base-attack-bonus-short" data-i18n-title="base-attack-bonus"></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <input type="number" name="attr_npc_base_attack_bonus" title="" step="1" value="0" />
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <h1 data-i18n="battle-attacks"></h1>
                <div class="section">
                    <textarea class="npc-battle-note" name="attr_npc_battle_note" title=""></textarea>

                    <div class="attacks">
                        <fieldset class="repeating_npcbattle">
                            <div class="flex-row">
                                <div class="flex-col-auto">
                                    <button
                                            type="roll"
                                            name="roll_npc_battle"
                                            data-i18n-title="battle-roll-title"
                                            value="@{option_whisper} &{template:roll} {{roll_battle=show}} {{name=@{character_name}}} {{status=@{status}}} {{attack_name=@{npc_battle_name}}} {{test=[[1d20cs>@{npc_battle_damage_critic}+@{npc_battle_total}]]}} {{test_critic=[[1d20cs>@{npc_battle_damage_critic}+@{npc_battle_total}+@{npc_battle_critic_confirmation}]]}}"
                                    ></button>
                                </div>
                                <div class="flex-col">
                                    <div class="attacks-content">
                                        <div class="accordion">
                                            <input class="accordion-checkbox" type="checkbox" name="attr_battle_checkbox" title="" data-i18n-title="show-hide"/>
                                            <div class="accordion-container">
                                                <div class="accordion-label battle-label">
                                                    <div class="flex-row">
                                                        <div class="flex-col5">
                                                            <input class="attacks-name text-bold" type="text" name="attr_npc_battle_name" title="" data-i18n-placeholder="battle-attack-name"/>
                                                        </div>
                                                        <div class="flex-col5">
                                                            <div class="input-group">
                                                                <div class="input-group-text">
                                                                    <span data-i18n="battle-information-short"></span>
                                                                </div>
                                                                <input class="text-left" type="text" name="attr_npc_battle_description_short" title=""/>
                                                            </div>
                                                        </div>
                                                        <div class="flex-col2">
                                                            <div class="input-group">
                                                                <div class="input-group-text">
                                                                    <span data-i18n="battle-ammunitions"></span>
                                                                </div>
                                                                <input type="number" name="attr_npc_battle_ammunition" title="" value="" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="accordion-content">
                                                    <table class="npc-battle-table-roll">
                                                        <thead>
                                                        <tr>
                                                            <th width="16.666666%">
                                                                <span data-i18n="battle-attack-short" data-i18n-title="battle-attack-title"></span>
                                                            </th>
                                                            <th width="16.666666%">
                                                                <span data-i18n="status-short"></span>
                                                            </th>
                                                            <th width="16.666666%">
                                                                <span data-i18n="base"></span>
                                                            </th>
                                                            <th width="16.666666%">
                                                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                                                            </th>
                                                            <td></td>
                                                            <th width="16.666666%">
                                                                <span data-i18n="range" data-i18n-title="battle-range-title"></span>
                                                            </th>
                                                            <td></td>
                                                            <th width="16.666666%">
                                                                <span data-i18n="battle-critic-bonus-short" data-i18n-title="battle-critic-bonus-title"></span>
                                                            </th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr>
                                                            <td>
                                                                <input type="number" name="attr_npc_battle_total" title="" class="text-strong" value="@{foo_base_attack}+@{npc_battle_base_attack}+@{npc_battle_temporary}" disabled="disabled" />
                                                            </td>
                                                            <td>
                                                                <input type="number" name="attr_npc_battle_status" title="" value="@{foo_base_attack}" disabled="disabled" />
                                                            </td>
                                                            <td>
                                                                <input type="number" name="attr_npc_battle_base_attack" title="" step="1" value="0"/>
                                                            </td>
                                                            <td>
                                                                <input type="number" name="attr_npc_battle_temporary" title="" step="1" value="0"/>
                                                            </td>
                                                            <td></td>
                                                            <td>
                                                                <select name="attr_npc_battle_range" title="">
                                                                    <option data-i18n="range-melee" value="0" selected="selected"></option>
                                                                    <option data-i18n="range-ranged" value="1"></option>
                                                                </select>
                                                            </td>
                                                            <td></td>
                                                            <td>
                                                                <input type="number" name="attr_npc_battle_critic_confirmation" title="" min="0" step="1" value="0"/>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>

                                                    <hr>

                                                    <table class="npc-battle-damage-table">
                                                        <thead>
                                                        <tr>
                                                            <th width="33.333333%">
                                                                <span data-i18n="damage" data-i18n-title="battle-damage-title"></span>
                                                            </th>
                                                            <th width="16.666666%">
                                                                <span data-i18n="status-short"></span>
                                                            </th>
                                                            <td></td>
                                                            <th width="25%">
                                                                <span data-i18n="battle-critic" data-i18n-title="battle-critic-bonus-title"></span>
                                                            </th>
                                                            <td></td>
                                                            <th width="25%">
                                                                <span data-i18n="battle-damage-add-short" data-i18n-title="battle-damage-add-title"></span>
                                                            </th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr>
                                                            <td>
                                                                <div class="input-group">
                                                                    <input type="number" name="attr_npc_battle_dice_count" title="" min="1" step="1" value="1"/>
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="dice-short"></span>
                                                                    </div>
                                                                    <select class="fixed-small" name="attr_npc_battle_dice_type" title="">
                                                                        <option value="2" selected="selected">2</option>
                                                                        <option value="3">3</option>
                                                                        <option value="4">4</option>
                                                                        <option value="6">6</option>
                                                                        <option value="8">8</option>
                                                                        <option value="10">10</option>
                                                                        <option value="12">12</option>
                                                                        <option value="20">20</option>
                                                                        <option value="100">100</option>
                                                                    </select>
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-plus"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_npc_battle_damage" title="" value="0"/>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <input type="number" name="attr_battle_damage_status" title="" value="@{foo_status_encumbrance_proficiency}+@{foo_status_attack_damage}" disabled="disabled" />
                                                            </td>
                                                            <td></td>
                                                            <td>
                                                                <div class="input-group">
                                                                    <select class="fixed-small" name="attr_npc_battle_damage_critic" title="">
                                                                        <option data-i18n="1-20" value="1"></option>
                                                                        <option data-i18n="2-20" value="2"></option>
                                                                        <option data-i18n="3-20" value="3"></option>
                                                                        <option data-i18n="4-20" value="4"></option>
                                                                        <option data-i18n="5-20" value="5"></option>
                                                                        <option data-i18n="6-20" value="6"></option>
                                                                        <option data-i18n="7-20" value="7"></option>
                                                                        <option data-i18n="8-20" value="8"></option>
                                                                        <option data-i18n="9-20" value="9"></option>
                                                                        <option data-i18n="10-20" value="10"></option>
                                                                        <option data-i18n="11-20" value="11"></option>
                                                                        <option data-i18n="12-20" value="12"></option>
                                                                        <option data-i18n="13-20" value="13"></option>
                                                                        <option data-i18n="14-20" value="14"></option>
                                                                        <option data-i18n="15-20" value="15"></option>
                                                                        <option data-i18n="16-20" value="16"></option>
                                                                        <option data-i18n="17-20" value="17"></option>
                                                                        <option data-i18n="18-20" value="18"></option>
                                                                        <option data-i18n="19-20" value="19"></option>
                                                                        <option value="20" selected="selected">20</option>
                                                                    </select>
                                                                    <div class="input-group-text">
                                                                        <span data-i18n="sign-mutiplication"></span>
                                                                    </div>
                                                                    <input type="number" name="attr_npc_battle_damage_critic_multiplier" title="" value="2" min="1" step="1"/>
                                                                </div>
                                                            </td>
                                                            <td></td>
                                                            <td>
                                                                <input type="text" name="attr_npc_battle_damage_add" title="" value="0"/>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>

                                                    <textarea class="attacks-content-note" name="attr_npc_battle_description" title=""></textarea>
                                                </div>
                                                <ul class="horizontal-button-group">
                                                    <li>
                                                        <button
                                                                name="roll_npc_battle_damage"
                                                                type="roll"
                                                                class="button"
                                                                data-i18n-title="battle-damage-roll-title"
                                                                value="@{option_whisper} &{template:roll} {{roll_battle_damage=show}} {{name=@{character_name}}} {{status=@{status}}} {{attack_name=@{npc_battle_name}}} {{damage=[[{ 1d1, {@{npc_battle_dice_count}d@{npc_battle_dice_type}+@{npc_battle_damage}+@{foo_status_attack_damage}+@{npc_battle_damage_add}} }dl1]]}}"
                                                        >
                                                            <span data-i18n="damage"></span>
                                                        </button>
                                                    </li>
                                                    <li>
                                                        <button
                                                                name="roll_npc_battle_damage_critic"
                                                                type="roll"
                                                                class="button"
                                                                data-i18n-title="battle-damage-critic-roll-title"
                                                                value="@{option_whisper} &{template:roll} {{roll_battle_damage=show}} {{name=@{character_name}}} {{status=@{status}}} {{is_critic=show}} {{label=@{label_battle_damage_critic}}} {{attack_name=@{npc_battle_name}}} {{damage=[[{ 1d1, {(@{npc_battle_dice_count}*@{npc_battle_damage_critic_multiplier})d@{npc_battle_dice_type}+(@{npc_battle_damage}+@{foo_status_attack_damage})*@{npc_battle_damage_critic_multiplier}+@{npc_battle_damage_add}} }dl1]]}}"
                                                        >
                                                            <span data-i18n="battle-damage-critic"></span>
                                                        </button>
                                                    </li>
                                                    <li>
                                                        <button
                                                                name="roll_npc_battle_deathblow"
                                                                type="roll"
                                                                class="button"
                                                                data-i18n-title="battle-deathblow-roll-title"
                                                                value="@{option_whisper} &{template:roll} {{roll_battle_deathblow=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_battle_deathblow}}} {{attack_name=@{npc_battle_name}}} {{damage=[[{ 1d1, {(@{npc_battle_dice_count}*@{npc_battle_damage_critic_multiplier})d@{npc_battle_dice_type}+(@{npc_battle_damage}+@{foo_status_attack_damage})*@{npc_battle_damage_critic_multiplier}+@{npc_battle_damage_add}} }dl1]]}}"
                                                        >
                                                            <span data-i18n="battle-deathblow"></span>
                                                        </button>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <table>
                        <tbody>
                        <tr>
                            <td width="20%">
                                <span data-i18n="npc-special-attack"></span>
                            </td>
                            <td>
                                <textarea name="attr_npc_special_attack" title=""></textarea>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <h1 data-i18n="status-spell"></h1>
                <div class="section">
                    <table>
                        <tbody>
                        <tr>
                            <td width="20%">
                                <span data-i18n="npc-spell-like-ability"></span>
                            </td>
                            <td>
                                <textarea name="attr_npc_spell_like_ability" title=""></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="npc-spell-prepared"></span>
                            </td>
                            <td>
                                <textarea name="attr_npc_cleric_spell_prepared" title=""></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="npc-spell-known"></span>
                            </td>
                            <td>
                                <textarea name="attr_npc_spell_known" title=""></textarea>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="defense-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert">
                    <span name="attr_defense_status_alert"></span> <span name="attr_skill_status_alert"></span>
                </p>

                <h1 data-i18n="saves"></h1>
                <table class="npc-saves section">
                    <thead>
                    <tr>
                        <td width="1%">
                            <div class="fake-button-roll"></div>
                        </td>
                        <th width="14.285714%">
                            <span data-i18n="saves-type"></span>
                        </th>
                        <th width="14.285714%">
                            <span data-i18n="total" data-i18n-title="npc-saves-total-title"></span>
                        </th>
                        <th width="14.285714%">
                            <span data-i18n="status-short"></span>
                        </th>
                        <th width="14.285714%">
                            <span data-i18n="base"></span>
                        </th>
                        <th width="14.285714%">
                            <span data-i18n="bonus"></span>
                        </th>
                        <th width="14.285714%">
                            <span data-i18n="penalty"></span>
                        </th>
                        <th width="14.285714%">
                            <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>
                            <button
                                    name="roll_npc_save_reflex"
                                    data-i18n-title="save-reflex-roll-title"
                                    type="roll"
                                    value="@{option_whisper} &{template:roll} {{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_reflex}}} {{test=[[1d20+@{npc_reflex_total}]]}}"
                            ></button>
                        </td>
                        <td class="text-center">
                            <span data-i18n="save-reflex"></span>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_reflex_total" title="" class="text-strong" value="@{foo_status_reflex}+@{npc_reflex}+@{npc_reflex_bonus}-abs(@{npc_reflex_penalty})+@{npc_reflex_temporary}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_reflex_status" title="" step="1" value="@{foo_status_reflex}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_reflex" title="" value="0" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_reflex_bonus" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_reflex_penalty" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_reflex_temporary" title="" step="1" value="0"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button
                                    name="roll_npc_save_fortitude"
                                    type="roll"
                                    data-i18n-title="save-fortitude-roll-title"
                                    value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_fortitude}}} {{test=[[1d20+@{npc_fortitude_total}]]}}"
                            ></button>
                        </td>
                        <td class="text-center">
                            <span data-i18n="save-fortitude"></span>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_fortitude_total" title="" class="text-strong" value="@{foo_status_fortitude}+@{npc_fortitude}+@{npc_fortitude_bonus}-abs(@{npc_fortitude_penalty})+@{npc_fortitude_temporary}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_fortitude_status" title="" step="1" value="@{foo_status_fortitude}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_fortitude" title="" value="0" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_fortitude_bonus" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_fortitude_penalty" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_fortitude_temporary" title="" step="1" value="0"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button
                                    name="roll_npc_save_willpower"
                                    type="roll"
                                    data-i18n-title="save-willpower-roll-title"
                                    value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_willpower}}} {{test=[[1d20+@{npc_willpower_total}]]}}"
                            ></button>
                        </td>
                        <td class="text-center">
                            <span data-i18n="save-willpower"></span>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_willpower_total" title="" class="text-strong" value="@{foo_status_willpower}+@{npc_willpower}+@{npc_willpower_bonus}-abs(@{npc_willpower_penalty})+@{npc_willpower_temporary}" disabled="disabled"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_willpower_status" title="" step="1" value="@{foo_status_willpower}" disabled="disabled" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_willpower" title="" value="0" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_willpower_bonus" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_willpower_penalty" title="" min="0" step="1" value="0"/>
                        </td>
                        <td>
                            <input type="number" name="attr_npc_willpower_temporary" title="" step="1" value="0"/>
                        </td>
                    </tr>
                    </tbody>
                </table>

                <h1 data-i18n="armor-class"></h1>
                <div class="section">
                    <table class="npc-armor-class">
                        <thead>
                        <tr>
                            <th width="20%" colspan="3">
                                <span data-i18n="armor-class-melee-short" data-i18n-title="npc-armor-class-melee-title"></span>
                            </th>
                            <td></td>
                            <th width="20" colspan="3">
                                <span data-i18n="armor-class-ranged-short" data-i18n-title="npc-armor-class-ranged-title"></span>
                            </th>
                            <td></td>
                            <th width="20%" colspan="3">
                                <span data-i18n="armor-class-flat-footed" data-i18n-title="npc-armor-class-flat-footed-title"></span>
                            </th>
                            <td></td>
                            <th width="20%" colspan="3">
                                <span data-i18n="armor-class-touch" data-i18n-title="npc-armor-class-touch-title"></span>
                            </th>
                            <td></td>
                            <th width="20%">
                                <span data-i18n="temporary-short" data-i18n-title="temporary-title"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="number" name="attr_npc_armor_class_melee" title="" class="text-strong" value="(@{foo_status_armor_class_melee}+@{foo_status_armor_class_dodge})+@{npc_armor_class_melee_base}+@{npc_armor_class_temporary}" disabled="disabled"/>
                            </td>
                            <td data-i18n-title="status-short">
                                <input type="number" name="attr_npc_armor_class_melee_status" title="" value="@{foo_status_armor_class_melee}" disabled="disabled" />
                            </td>
                            <td data-i18n-title="base">
                                <input type="number" name="attr_npc_armor_class_melee_base" title="" value="0" />
                            </td>
                            <td></td>
                            <td>
                                <input type="number" name="attr_npc_armor_class_ranged" title="" class="text-strong" value="(@{foo_status_armor_class_ranged}+@{foo_status_armor_class_dodge})+@{npc_armor_class_melee_base}+@{npc_armor_class_temporary}" disabled="disabled"/>
                            </td>
                            <td data-i18n-title="status-short">
                                <input type="number" name="attr_npc_armor_class_ranged_status" title="" value="@{foo_status_armor_class_ranged}" disabled="disabled" />
                            </td>
                            <td data-i18n-title="base">
                                <input type="number" name="attr_npc_armor_class_ranged_base" title="" value="@{npc_armor_class_melee_base}" disabled="disabled" />
                            </td>
                            <td></td>
                            <td>
                                <input type="number" name="attr_npc_armor_class_flat_footed" title="" class="text-strong" value="+@{foo_status_dexterity_flatfooted}+@{npc_armor_class_flat_footed_base}+@{npc_armor_class_temporary}" disabled="disabled"/>
                            </td>
                            <td data-i18n-title="status-short">
                                <input type="number" name="attr_npc_armor_class_flat_footed_status" title="" value="@{foo_status_dexterity_flatfooted}" disabled="disabled" />
                            </td>
                            <td data-i18n-title="base">
                                <input type="number" name="attr_npc_armor_class_flat_footed_base" title="" value="0" />
                            </td>
                            <td></td>
                            <td>
                                <input type="number" name="attr_npc_armor_class_touch" title="" class="text-strong" value="@{foo_status_armor_class_dodge}+@{npc_armor_class_touch_base}+@{npc_armor_class_temporary}" disabled="disabled"/>
                            </td>
                            <td data-i18n-title="status-short">
                                <input type="number" name="attr_npc_armor_class_touch_status" title="" value="@{foo_status_armor_class_dodge}" disabled="disabled" />
                            </td>

                            <td data-i18n-title="base">
                                <input type="number" name="attr_npc_armor_class_touch_base" title="" value="0" />
                            </td>
                            <td></td>
                            <td>
                                <input type="number" name="attr_npc_armor_class_temporary" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="17">
                                <textarea name="attr_npc_armor_class_note" class="small" title=""></textarea>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <h1 data-i18n="combat-maneuver-defense"></h1>
                <table class="npc-combat-maneuver-defense section">
                    <thead>
                    <tr>
                        <th width="25%">
                            <span data-i18n="combat-maneuver-defense-short" data-i18n-title="npc-combat-maneuver-defense-title"></span>
                        </th>
                        <th width="25%">
                            <span data-i18n="status-short"></span>
                        </th>
                        <th width="25%">
                            <span data-i18n="base"></span>
                        </th>
                        <th width="25%">
                            <span data-i18n="temporary-short"></span>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>
                            <input type="number" class="text-strong" name="attr_npc_combat_maneuver_defense" title="" value="@{foo_status_combat_maneuver_defense}+@{npc_combat_maneuver_defense_base}+@{npc_combat_maneuver_defense_temporary}" disabled="disabled" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_combat_maneuver_defense_status" title="" value="@{foo_status_combat_maneuver_defense}" disabled="disabled" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_combat_maneuver_defense_base" title="" value="0" />
                        </td>
                        <td>
                            <input type="number" name="attr_npc_combat_maneuver_defense_temporary" title="" step="1" value="0"/>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4">
                            <textarea name="attr_npc_combat_maneuver_defense_note" class="small" title=""></textarea>
                        </td>
                    </tr>
                    </tbody>
                </table>

                <h1 data-i18n="resistance"></h1>
                <div class="section">
                    <table>
                        <tbody>
                        <tr>
                            <td width="20%">
                                <span data-i18n="npc-resistance"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_resistance" title="" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="npc-damage-resistance"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_damage_resistance" title="" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="npc-immune"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_immune" title="" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="npc-weakness"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_weakness" title="" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="npc-defense-ability"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_defensive_ability" title="" />
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="skill-nav"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <h1 data-i18n="skill-feat"></h1>
                <div class="section">
                    <table>
                        <tbody>
                        <tr>
                            <td width="20%">
                                <span data-i18n="skill-feat"></span>
                            </td>
                            <td>
                                <textarea name="attr_npc_feat" title=""></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="npc-feat-modifier"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_racial_modifier" title="" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-i18n="npc-special-quality"></span>
                            </td>
                            <td>
                                <input type="text" name="attr_npc_special_quality" title="" />
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <h1 data-i18n="skill"></h1>
                <div class="section">
                    <table class="npc-skill">
                        <thead>
                        <tr>
                            <td width="1%">
                                <div class="fake-button-roll"></div>
                            </td>
                            <th width="33.333333%">
                                <span data-i18n="total" data-i18n-title="npc-skill-title"></span>
                            </th>
                            <th width="33.333333%">
                                <span data-i18n="status-short"></span>
                            </th>
                            <th width="33.333333%">
                                <span data-i18n="base"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <button
                                        name="roll_npc_skill"
                                        type="roll"
                                        data-i18n-title="skill-roll-title"
                                        value="@{option_whisper} &{template:roll}{{roll_basic=show}} {{name=@{character_name}}} {{status=@{status}}} {{label=@{label_npc_skill}}} {{test=[[1d20+@{npc_skill_total}]]}}"
                                ></button>
                            </td>
                            <td>
                                <input type="number" name="attr_npc_skill_total" title="" class="text-strong" value="@{foo_status_initiative}+@{npc_skill_base}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_npc_skill_status" title="" value="@{foo_status_initiative}" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_npc_skill_base" title="" step="1" value="0"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <textarea name="attr_npc_skill" title=""></textarea>
                </div>
            </div>
        </div>

        <label class="tab-label">
            <span data-i18n="note"></span>
        </label>
        <div class="tab-content">
            <div class="paper">
                <p class="sheet-status-alert"></p>

                <div class="npc-challenge-rating section">
                    <table>
                        <thead>
                        <tr>
                            <th width="120px">
                                <span data-i18n="npc-challenge-rating-short" data-i18n-title="npc-challenge-rating"></span>
                            </th>
                            <td width="1%"></td>
                            <th width="120px">
                                <span data-i18n="npc-experience"></span>
                            </th>
                            <td width="1%"></td>
                            <th>
                                <span data-i18n="npc-treasure"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="text" name="attr_npc_challenge_rating" title="" />
                            </td>
                            <td></td>
                            <td>
                                <input type="number" name="attr_npc_experience" title="" />
                            </td>
                            <td></td>
                            <td>
                                <input type="text" name="attr_npc_treasure" title="" />
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="section">
                    <table>
                        <thead>
                        <tr>
                            <th width="50%">
                                <span data-i18n="npc-environment"></span>
                            </th>
                            <td></td>
                            <th width="50%">
                                <span data-i18n="npc-organization"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="text" name="attr_npc_environment" title="" />
                            </td>
                            <td></td>
                            <td>
                                <input type="text" name="attr_npc_organization" title="" />
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="section">
                    <table>
                        <thead>
                        <tr>
                            <th>
                                <span data-i18n="npc-description"></span>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <textarea name="attr_npc_content" class="large" title=""></textarea>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <h1 data-i18n="note"></h1>
                <div class="note section">
                    <fieldset class="repeating_npc_note">
                        <div class="note-content">
                            <textarea class="note-description" name="attr_npc_note_description" title="" data-i18n-placeholder="note-placeholder"></textarea>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>
</div>

<rolltemplate class="sheet-rolltemplate-roll">
    {{#roll_basic}}
    <div class="basic">
        {{#rollWasCrit() test}}<div class="critic">{{/rollWasCrit() test}}
        <div class="header">
            <p>
                <b>{{name}}</b>{{#status}}<span class="info-sign" title="{{status}}"></span>{{/status}}
            </p>
        </div>
        <div class="body">
            <p>
                <b>{{label}}</b> : {{test}}
            </p>
        </div>
        {{#rollWasCrit() test}}</div>{{/rollWasCrit() test}}
    </div>
    {{/roll_basic}}

    {{#roll_battle}}
    <div class="battle">
        {{#rollWasCrit() test}}<div class="critic">{{/rollWasCrit() test}}
        <div class="header">
            <p>
                <b>{{name}}</b>{{#status}}<span class="info-sign" title="{{status}}"></span>{{/status}}
            </p>
        </div>
        <div class="body">
            <p>
                <b>{{attack_name}}</b><br />
                <b><span data-i18n="rt-attack"></span></b> : {{test}}<br />
                {{#rollWasFumble() test}}
                <span class="text-danger" data-i18n="rt-incantation-fumble"></span>
                {{/rollWasFumble() test}}
                {{#rollWasCrit() test}}
                <b><span data-i18n="rt-critical-confirmation-short" data-i18n-title="rt-critical-confirmation-title"></span></b> : {{test_critic}}<br />
                {{#rollWasCrit() test_critic}}<span class="text-success" data-i18n="rt-incantation-critic"></span>{{/rollWasCrit() test_critic}}
                {{/rollWasCrit() test}}
            </p>
        </div>
        {{#rollWasCrit() test}}</div>{{/rollWasCrit() test}}
    </div>
    {{/roll_battle}}

    {{#roll_battle_damage}}
    <div class="battle">
        {{#is_critic}}<div class="critic">{{/is_critic}}
        <div class="header">
            <p>
                <b>{{name}}</b>{{#status}}<span class="info-sign" title="{{status}}"></span>{{/status}}
            </p>
        </div>

        <div class="body">
            <p>
                <b>{{attack_name}}</b><br />
                {{#label}}<b>{{label}}</b><br />{{/label}}
                <b><span data-i18n="rt-damage"></span></b> : {{damage}}<br />
            </p>
        </div>
        {{#is_critic}}</div>{{/is_critic}}
    </div>
    {{/roll_battle_damage}}

    {{#roll_battle_deathblow}}
    <div class="battle">
        <div class="critic">
            <div class="header flex-row">
                <p>
                    <b>{{name}}</b>{{#status}}<span class="info-sign" title="{{status}}"></span>{{/status}}
                </p>
            </div>

            <div class="body">
                <p>
                    <b>{{attack_name}}</b><br />
                    <b><span data-i18n="rt-deathblow"></span></b><br />
                    <b><span data-i18n="rt-damage"></span></b> : {{damage}}
                </p>
                <p>
                    <b><span data-i18n="rt-save"></span></b> : <span data-i18n="rt-fortitude"></span><br />
                    <b><span data-i18n="rt-difficulty-class"></span></b> :  10 + {{damage}}
                </p>
            </div>
        </div>
    </div>
    {{/roll_battle_deathblow}}

    {{#roll_caster_level_check}}
    <div class="magic">
        <div class="header">
            <p>
                <b>{{name}}</b>{{#status}}<span class="info-sign" title="{{status}}"></span>{{/status}}
            </p>
        </div>
        <div class="body">
            <p>
                <b><span data-i18n="rt-caster-level-check-test"></span></b> : {{caster_level}}
            </p>
        </div>
    </div>
    {{/roll_caster_level_check}}

    {{#roll_incantation}}
    <div class="magic">
        <!-- SPELL FAILURE NOT USED -->
        {{#rollTotal() spell_failure_used 0}}
        {{#rollWasCrit() incantation}}<div class="critic">{{/rollWasCrit() incantation}}
        <div class="header">
            <p>
                <b>{{name}}</b>{{#status}}<span class="info-sign" title="{{status}}"></span>{{/status}}
            </p>
        </div>

        <div class="body">
            <p>
                <b>{{label}}</b><br />
                <span class="text-disabled" data-i18n="rt-arcane-spell-failure-ignore"></span>
                <b><span data-i18n="spell-incantation"></span></b> : {{incantation}}<br />
                <!-- INCANTATION FUMBLE -->
                {{#rollWasFumble() incantation}}
                <span class="text-danger" data-i18n="rt-incantation-fumble"></span>
                {{/rollWasFumble() incantation}}
                <!-- INCANTATION FUMBLE -->
                <!-- INCANTATION SUCCESS-->
                {{#^rollWasFumble() incantation}}
                {{#^rollWasCrit() incantation}}<span data-i18n="rt-incantation-success"></span><br />{{/^rollWasCrit() incantation}}
                {{#rollWasCrit() incantation}}<span class="text-success" data-i18n="rt-incantation-critic"></span><br />{{/rollWasCrit() incantation}}

                {{#rollGreater() touch_used 0}}
                <br />
                {{#rollTotal() touch_used 1}}<b><span data-i18n="spell-incantation-melee-touch"></span></b> : {{touch}}<br />{{/rollTotal() touch_used 1}}
                {{#rollTotal() touch_used 2}}<b><span data-i18n="spell-incantation-ranged-touch"></span></b>: {{touch}}<br />{{/rollTotal() touch_used 2}}
                {{/rollGreater() touch_used 0}}
                {{/^rollWasFumble() incantation}}
                <!-- INCANTATION SUCCESS-->
            </p>
        </div>

        <div class="footer">
            <p>
                {{#rollTotal() spell_resistance_used 0}}<span data-i18n="rt-spell-resistance-ignore"></span><br />{{/rollTotal() spell_resistance_used 0}}
            </p>
        </div>
        {{#rollWasCrit() incantation}}</div>{{/rollWasCrit() incantation}}
        {{/rollTotal() spell_failure_used 0}}
        <!-- SPELL FAILURE NOT USED -->

        <!-- SPELL FAILURE USED -->
        {{#rollTotal() spell_failure_used 1}}
        {{#^rollWasFumble() spell_failure}}{{#rollGreater() spell_failure spell_failure_total}}{{#rollWasCrit() incantation}}<div class="critic">{{/rollWasCrit() incantation}}{{/rollGreater() spell_failure spell_failure_total}}{{/^rollWasFumble() spell_failure}}
        <div class="header">
            <p>
                <b>{{name}}</b>{{#status}}<span class="info-sign" title="{{status}}"></span>{{/status}}
            </p>
        </div>

        <div class="body">
            <!-- SPELL FUMBLE -->
            {{#rollWasFumble() spell_failure}}
            <div>
                <p>
                    <b>{{label}}</b><br />
                    <b><span data-i18n="rt-arcane-spell-failure-short" data-i18n-title="rt-arcane-spell-failure-title"></span></b> : {{spell_failure}}<br />
                    <span data-i18n="rt-incantation-failed"></span>
                </p>
            </div>
            {{/rollWasFumble() spell_failure}}
            <!-- SPELL FUMBLE -->

            <!-- SPELL SUCCESS-FAILED -->
            {{#^rollWasFumble() spell_failure}}
            <div>
                <!-- SPELL FAILED -->
                {{#^rollGreater() spell_failure spell_failure_total}}
                <p>
                    <b>{{label}}</b><br />
                    <b><span data-i18n="rt-arcane-spell-failure-short" data-i18n-title="rt-arcane-spell-failure-title"></span></b> : {{spell_failure}}  {{spell_failure_total}}<br />
                    <span data-i18n="rt-incantation-failed"></span>
                </p>
                {{/^rollGreater() spell_failure spell_failure_total}}
                <!-- SPELL FAILED -->

                <!-- SPELL SUCCESS -->
                {{#rollGreater() spell_failure spell_failure_total}}
                <p>
                    <b>{{label}}</b><br />
                    <b><span data-i18n="rt-arcane-spell-failure-short" data-i18n-title="rt-arcane-spell-failure-title"></span></b> : {{spell_failure}} > {{spell_failure_total}}<br />
                    <b><span data-i18n="spell-incantation"></span></b> : {{incantation}}<br />

                    <!-- INCANTATION FUMBLE -->
                    {{#rollWasFumble() incantation}}
                    <span class="text-danger" data-i18n="rt-incantation-fumble"></span><br />
                    {{/rollWasFumble() incantation}}
                    <!-- INCANTATION FUMBLE -->

                    <!-- INCANTATION NO FUMBLE -->
                    {{#^rollWasFumble() incantation}}
                    {{#^rollWasCrit() incantation}}<span data-i18n="rt-incantation-success"></span><br />{{/^rollWasCrit() incantation}}
                    {{#rollWasCrit() incantation}}<span class="text-success" data-i18n="rt-incantation-critic"></span><br />{{/rollWasCrit() incantation}}
                    <!-- CRITIC -->
                    {{#rollGreater() touch_used 0}}
                    <br />
                    {{#rollTotal() touch_used 1}}<b><span data-i18n="spell-incantation-melee-touch"></span></b> : {{touch}}<br />{{/rollTotal() touch_used 1}}
                    {{#rollTotal() touch_used 2}}<b><span data-i18n="spell-incantation-ranged-touch"></span></b> : {{touch}}<br />{{/rollTotal() touch_used 2}}
                    {{/rollGreater() touch_used 0}}
                    {{/^rollWasFumble() incantation}}
                    <!-- INCANTATION NO FUMBLE -->
                </p>
                {{/rollGreater() spell_failure spell_failure_total}}
                <!-- SPELL SUCCESS -->
            </div>
            {{/^rollWasFumble() spell_failure}}
            <!-- SPELL SUCCESS-FAILED -->
        </div>

        <div class="footer">
            <p>
                {{#rollTotal() spell_resistance_used 0}}<span data-i18n="rt-spell-resistance-ignore"></span><br />{{/rollTotal() spell_resistance_used 0}}
            </p>
        </div>
        {{#^rollWasFumble() spell_failure}}{{#rollGreater() spell_failure spell_failure_total}}{{#rollWasCrit() incantation}}</div>{{/rollWasCrit() incantation}}{{/rollGreater() spell_failure spell_failure_total}}{{/^rollWasFumble() spell_failure}}
        {{/rollTotal() spell_failure_used 1}}
        <!-- SPELL FAILURE USED -->
    </div>
    {{/roll_incantation}}

    {{#roll_incantation_effect}}
    <div class="magic">
        {{#is_critic}}<div class="critic">{{/is_critic}}
        <div class="header">
            <p>
                <b>{{name}}</b>{{#status}}<span class="info-sign" title="{{status}}"></span>{{/status}}
            </p>
        </div>
        <div class="body">
            <p>
                <b>{{label}}</b>
                {{#rollGreater() damage_used 0}}
                <br />
                {{#damage}}<b><span data-i18n="rt-damage"></span></b> : {{damage}}<br />{{/damage}}
                {{#damage_critic}}<b><span data-i18n="rt-damage-critic"></span></b> : {{damage_critic}}<br />{{/damage_critic}}
                {{/rollGreater() damage_used 0}}
                {{#rollGreater() effect_used 0}}
                <b><span data-i18n="rt-effect"></span></b> : {{effect}}<br />
                {{/rollGreater() effect_used 0}}
                {{#rollGreater() save_used 0}}
                <b><span data-i18n="rt-save"></span></b> :&nbsp;
                {{#rollTotal() save_used 1}}<span data-i18n="save-fortitude"></span>,&nbsp;{{/rollTotal() save_used 1}}
                {{#rollTotal() save_used 2}}<span data-i18n="save-reflex"></span>,&nbsp;{{/rollTotal() save_used 2}}
                {{#rollTotal() save_used 3}}<span data-i18n="save-willpower"></span>,&nbsp;{{/rollTotal() save_used 3}}
                {{#rollTotal() save 1}}<span data-i18n="spell-save-effect-negates"></span>{{/rollTotal() save 1}}
                {{#rollTotal() save 2}}<span data-i18n="spell-save-effect-negates-harmless"></span>{{/rollTotal() save 2}}
                {{#rollTotal() save 3}}<span data-i18n="spell-save-effect-half-damage"></span>{{/rollTotal() save 3}}
                {{#rollTotal() save 4}}<span data-i18n="spell-save-effect-harmless"></span>{{/rollTotal() save 4}}
                {{#rollTotal() save 5}}<span data-i18n="spell-save-effect-partial"></span>{{/rollTotal() save 5}}
                {{#rollTotal() save 6}}<span data-i18n="spell-save-effect-unveils"></span>{{/rollTotal() save 6}}<br />
                <b><span data-i18n="rt-difficulty-class"></span></b> : {{save_difficulty_class}}<br />
                {{/rollGreater() save_used 0}}
            </p>

        </div>
        {{#is_critic}}</div>{{/is_critic}}
    </div>
    {{/roll_incantation_effect}}

    {{#roll_concentration}}
    <div class="magic">
        {{#rollWasCrit() test}}<div class="critic">{{/rollWasCrit() test}}
        <div class="header">
            <p>
                <b>{{name}}</b>{{#status}}<span class="info-sign" title="{{status}}"></span>{{/status}}
            </p>
        </div>
        <div class="body">
            <p>
                <b>{{label}}</b><br />
                <b>{{label_concentration}}</b> : {{test}}<br />
                <!-- FUMBLE -->
                {{#rollWasFumble() test}}
                <span class="text-danger" data-i18n="rt-fumble"></span>
                {{/rollWasFumble() test}}
                <!-- FUMBLE -->
                <!-- INCANTATION SUCCESS-->
                {{#^rollWasFumble() test}}
                {{#^rollWasCrit() test}}{{#difficulty_class}}<b><span data-i18n="rt-difficulty-class"></span></b> : {{difficulty_class}}<br />{{/difficulty_class}}{{/^rollWasCrit() test}}
                {{#rollWasCrit() test}}<span class="text-success" data-i18n="rt-incantation-critic"></span><br />{{/rollWasCrit() test}}

                {{/^rollWasFumble() test}}
                <!-- INCANTATION SUCCESS-->
            </p>
        </div>
        {{#rollWasCrit() test}}</div>{{/rollWasCrit() test}}
    </div>
    {{/roll_concentration}}
</rolltemplate>